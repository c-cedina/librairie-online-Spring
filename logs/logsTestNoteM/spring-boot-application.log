2025-01-29T13:11:00.277+01:00  INFO 72851 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 72851 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-29T13:11:00.297+01:00  INFO 72851 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-01-29T13:11:01.062+01:00  INFO 72851 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-29T13:11:01.152+01:00  INFO 72851 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 14 JPA repository interfaces.
2025-01-29T13:11:01.789+01:00  INFO 72851 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-29T13:11:01.866+01:00  INFO 72851 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-29T13:11:01.899+01:00  INFO 72851 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-29T13:11:02.189+01:00  INFO 72851 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-29T13:11:02.212+01:00  INFO 72851 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29T13:11:02.399+01:00  INFO 72851 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdbNoteM user=SA
2025-01-29T13:11:02.402+01:00  INFO 72851 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29T13:11:02.437+01:00  WARN 72851 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-29T13:11:03.557+01:00  INFO 72851 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-29T13:11:03.569+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:11:03.573+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:11:03.573+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:11:03.574+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:11:03.574+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:11:03.574+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:11:03.575+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:11:03.575+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:11:03.576+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:11:03.576+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:11:03.576+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:11:03.577+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:11:03.577+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:11:03.577+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:11:03.581+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-01-29T13:11:03.589+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-29T13:11:03.591+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-29T13:11:03.593+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-29T13:11:03.594+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-29T13:11:03.595+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-29T13:11:03.596+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-29T13:11:03.598+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-29T13:11:03.600+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-29T13:11:03.601+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:11:03.602+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:11:03.604+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-01-29T13:11:03.606+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-29T13:11:03.608+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-01-29T13:11:03.609+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-01-29T13:11:03.621+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-01-29T13:11:03.622+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-29T13:11:03.624+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-29T13:11:03.625+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-29T13:11:03.626+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-29T13:11:03.627+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-01-29T13:11:03.629+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-29T13:11:03.630+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-29T13:11:03.631+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-29T13:11:03.633+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-29T13:11:03.635+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-29T13:11:03.637+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-29T13:11:03.638+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-29T13:11:03.639+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-29T13:11:03.641+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-01-29T13:11:03.645+01:00  INFO 72851 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:11:04.321+01:00  WARN 72851 --- [librairie-online] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ae0ae865-060a-4c14-8ba9-64673208c6c0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-29T13:11:04.353+01:00  INFO 72851 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-29T13:11:04.991+01:00  INFO 72851 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-01-29T13:11:05.087+01:00  INFO 72851 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-29T13:11:05.087+01:00  INFO 72851 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-29T13:11:05.089+01:00  INFO 72851 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-29T13:11:05.124+01:00  INFO 72851 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 5.294 seconds (process running for 6.551)
2025-01-29T13:11:05.774+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:05.795+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:05.800+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:05.829+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:05.832+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:05.835+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:05.844+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:05.847+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:05.850+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:05.859+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:05.862+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:05.866+01:00 DEBUG 72851 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:05.881+01:00  INFO 72851 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:11:05.882+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:11:05.886+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:11:05.887+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:11:05.889+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:11:05.892+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:11:05.893+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:11:05.894+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:11:05.895+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:11:05.896+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:11:05.897+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:11:05.898+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:11:05.899+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:11:05.901+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:11:05.901+01:00 DEBUG 72851 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:11:05.905+01:00  INFO 72851 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29T13:11:05.908+01:00  INFO 72851 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29T13:11:43.662+01:00  INFO 73016 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 73016 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-29T13:11:43.663+01:00  INFO 73016 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-01-29T13:11:44.425+01:00  INFO 73016 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-29T13:11:44.518+01:00  INFO 73016 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 14 JPA repository interfaces.
2025-01-29T13:11:45.159+01:00  INFO 73016 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-29T13:11:45.237+01:00  INFO 73016 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-29T13:11:45.273+01:00  INFO 73016 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-29T13:11:45.627+01:00  INFO 73016 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-29T13:11:45.651+01:00  INFO 73016 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29T13:11:45.838+01:00  INFO 73016 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdbNoteM user=SA
2025-01-29T13:11:45.840+01:00  INFO 73016 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29T13:11:45.878+01:00  WARN 73016 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-29T13:11:46.938+01:00  INFO 73016 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-29T13:11:46.951+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:11:46.955+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:11:46.956+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:11:46.956+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:11:46.956+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:11:46.956+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:11:46.957+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:11:46.957+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:11:46.957+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:11:46.957+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:11:46.958+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:11:46.958+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:11:46.958+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:11:46.959+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:11:46.963+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-01-29T13:11:46.971+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-29T13:11:46.972+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-29T13:11:46.974+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-29T13:11:46.975+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-29T13:11:46.976+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-29T13:11:46.978+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-29T13:11:46.979+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-29T13:11:46.980+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-29T13:11:46.981+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:11:46.982+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:11:46.984+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-01-29T13:11:46.985+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-29T13:11:46.987+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-01-29T13:11:46.988+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-01-29T13:11:46.999+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-01-29T13:11:47.000+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-29T13:11:47.001+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-29T13:11:47.002+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-29T13:11:47.004+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-29T13:11:47.005+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-01-29T13:11:47.006+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-29T13:11:47.007+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-29T13:11:47.009+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-29T13:11:47.010+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-29T13:11:47.011+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-29T13:11:47.012+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-29T13:11:47.014+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-29T13:11:47.015+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-29T13:11:47.016+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-01-29T13:11:47.020+01:00  INFO 73016 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:11:47.695+01:00  WARN 73016 --- [librairie-online] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 45b2e972-6f23-4949-b8d6-d55b88415eb5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-29T13:11:47.727+01:00  INFO 73016 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-29T13:11:48.467+01:00  INFO 73016 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-01-29T13:11:48.541+01:00  INFO 73016 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-29T13:11:48.541+01:00  INFO 73016 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-29T13:11:48.544+01:00  INFO 73016 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-29T13:11:48.578+01:00  INFO 73016 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 5.375 seconds (process running for 6.654)
2025-01-29T13:11:49.277+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:49.304+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:49.310+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:49.337+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:49.340+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:49.342+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:49.353+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:49.356+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:49.358+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:49.368+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:11:49.371+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:11:49.373+01:00 DEBUG 73016 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:11:49.390+01:00  INFO 73016 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:11:49.391+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:11:49.394+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:11:49.396+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:11:49.397+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:11:49.400+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:11:49.401+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:11:49.402+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:11:49.403+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:11:49.404+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:11:49.405+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:11:49.406+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:11:49.407+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:11:49.408+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:11:49.408+01:00 DEBUG 73016 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:11:49.411+01:00  INFO 73016 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29T13:11:49.414+01:00  INFO 73016 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29T13:15:45.397+01:00  INFO 73913 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 73913 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-29T13:15:45.398+01:00  INFO 73913 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-01-29T13:15:46.239+01:00  INFO 73913 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-29T13:15:46.336+01:00  INFO 73913 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 14 JPA repository interfaces.
2025-01-29T13:15:46.970+01:00  INFO 73913 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-29T13:15:47.043+01:00  INFO 73913 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-29T13:15:47.082+01:00  INFO 73913 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-29T13:15:47.402+01:00  INFO 73913 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-29T13:15:47.431+01:00  INFO 73913 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29T13:15:47.662+01:00  INFO 73913 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdbNoteM user=SA
2025-01-29T13:15:47.666+01:00  INFO 73913 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29T13:15:47.698+01:00  WARN 73913 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-29T13:15:48.778+01:00  INFO 73913 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-29T13:15:48.790+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:15:48.794+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:15:48.794+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:15:48.794+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:15:48.794+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:15:48.795+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:15:48.795+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:15:48.795+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:15:48.795+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:15:48.796+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:15:48.796+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:15:48.796+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:15:48.797+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:15:48.797+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:15:48.801+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-01-29T13:15:48.808+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-29T13:15:48.810+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-29T13:15:48.812+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-29T13:15:48.813+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-29T13:15:48.814+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-29T13:15:48.816+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-29T13:15:48.818+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-29T13:15:48.819+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-29T13:15:48.820+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:15:48.821+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:15:48.823+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-01-29T13:15:48.824+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-29T13:15:48.826+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-01-29T13:15:48.828+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-01-29T13:15:48.839+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-01-29T13:15:48.841+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-29T13:15:48.842+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-29T13:15:48.843+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-29T13:15:48.844+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-29T13:15:48.846+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-01-29T13:15:48.847+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-29T13:15:48.848+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-29T13:15:48.849+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-29T13:15:48.850+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-29T13:15:48.852+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-29T13:15:48.853+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-29T13:15:48.854+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-29T13:15:48.855+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-29T13:15:48.857+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-01-29T13:15:48.860+01:00  INFO 73913 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:15:49.552+01:00  WARN 73913 --- [librairie-online] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 797c12de-cdc1-4d30-bb00-59728197dbe7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-29T13:15:49.587+01:00  INFO 73913 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-29T13:15:50.277+01:00  INFO 73913 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-01-29T13:15:50.347+01:00  INFO 73913 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-29T13:15:50.348+01:00  INFO 73913 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-29T13:15:50.351+01:00  INFO 73913 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-29T13:15:50.388+01:00  INFO 73913 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 5.452 seconds (process running for 6.717)
2025-01-29T13:15:51.023+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:15:51.046+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:15:51.050+01:00 DEBUG 73913 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:15:51.079+01:00  INFO 73913 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:15:51.079+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:15:51.083+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:15:51.084+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:15:51.086+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:15:51.087+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:15:51.088+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:15:51.090+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:15:51.090+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:15:51.092+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:15:51.093+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:15:51.094+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:15:51.094+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:15:51.095+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:15:51.096+01:00 DEBUG 73913 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:15:51.099+01:00  INFO 73913 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29T13:15:51.102+01:00  INFO 73913 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29T13:16:46.229+01:00  INFO 74192 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 74192 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-29T13:16:46.231+01:00  INFO 74192 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-01-29T13:16:47.028+01:00  INFO 74192 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-29T13:16:47.123+01:00  INFO 74192 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 14 JPA repository interfaces.
2025-01-29T13:16:47.750+01:00  INFO 74192 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-29T13:16:47.818+01:00  INFO 74192 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-29T13:16:47.853+01:00  INFO 74192 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-29T13:16:48.139+01:00  INFO 74192 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-29T13:16:48.167+01:00  INFO 74192 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29T13:16:48.458+01:00  INFO 74192 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdbNoteM user=SA
2025-01-29T13:16:48.460+01:00  INFO 74192 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29T13:16:48.484+01:00  WARN 74192 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-29T13:16:49.508+01:00  INFO 74192 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-29T13:16:49.521+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:16:49.524+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:16:49.524+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:16:49.525+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:16:49.525+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:16:49.525+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:16:49.525+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:16:49.525+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:16:49.526+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:16:49.526+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:16:49.526+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:16:49.526+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:16:49.527+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:16:49.527+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:16:49.531+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-01-29T13:16:49.538+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-29T13:16:49.539+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-29T13:16:49.540+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-29T13:16:49.541+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-29T13:16:49.542+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-29T13:16:49.543+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-29T13:16:49.545+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-29T13:16:49.546+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-29T13:16:49.548+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:16:49.549+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-01-29T13:16:49.550+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-01-29T13:16:49.552+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-29T13:16:49.553+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-01-29T13:16:49.555+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-01-29T13:16:49.565+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-01-29T13:16:49.567+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-29T13:16:49.568+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-29T13:16:49.570+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-29T13:16:49.571+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-29T13:16:49.572+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-01-29T13:16:49.574+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-29T13:16:49.575+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-29T13:16:49.576+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-29T13:16:49.578+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-29T13:16:49.580+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-29T13:16:49.581+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-29T13:16:49.583+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-29T13:16:49.584+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-29T13:16:49.585+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-01-29T13:16:49.589+01:00  INFO 74192 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:16:50.259+01:00  WARN 74192 --- [librairie-online] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 655c11fb-5f72-414e-a0bd-6ce7a1f2e254

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-29T13:16:50.289+01:00  INFO 74192 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-01-29T13:16:50.947+01:00  INFO 74192 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-01-29T13:16:51.012+01:00  INFO 74192 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-29T13:16:51.012+01:00  INFO 74192 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-29T13:16:51.014+01:00  INFO 74192 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-29T13:16:51.047+01:00  INFO 74192 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 5.256 seconds (process running for 6.567)
2025-01-29T13:16:51.740+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-01-29T13:16:51.761+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-01-29T13:16:51.765+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-29T13:16:51.767+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-01-29T13:16:51.784+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-01-29T13:16:51.801+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-01-29T13:16:51.804+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-29T13:16:51.915+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-29T13:16:51.921+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-01-29T13:16:51.929+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-01-29T13:16:51.936+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-01-29T13:16:52.253+01:00 DEBUG 74192 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteM nm1_0
2025-01-29T13:16:52.334+01:00  INFO 74192 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-29T13:16:52.336+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-01-29T13:16:52.338+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-29T13:16:52.339+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-29T13:16:52.340+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-29T13:16:52.341+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-29T13:16:52.343+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-29T13:16:52.344+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-29T13:16:52.345+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-29T13:16:52.346+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-29T13:16:52.347+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-29T13:16:52.348+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-29T13:16:52.350+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-01-29T13:16:52.351+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-29T13:16:52.352+01:00 DEBUG 74192 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-01-29T13:16:52.356+01:00  INFO 74192 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29T13:16:52.358+01:00  INFO 74192 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
