2025-02-11T15:56:43.278+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Starting DatabaseStructureTests using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:43.291+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : The following 1 profile is active: "test"
2025-02-11T15:56:44.051+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:44.134+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:44.675+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:44.722+01:00  INFO 38614 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-02-11T15:56:44.754+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:45.050+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:45.080+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-11T15:56:45.283+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-02-11T15:56:45.285+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-11T15:56:45.309+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:46.409+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:46.423+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:46.427+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:46.427+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:46.428+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:46.428+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:46.428+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:46.428+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:46.429+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:46.429+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:46.429+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:46.430+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:46.430+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:46.430+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:46.430+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:46.431+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:46.431+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:46.441+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:46.450+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:46.452+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:46.454+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:46.455+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:46.456+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:46.457+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:46.459+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:46.460+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:46.461+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:46.462+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:46.463+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:46.465+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:46.467+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:46.468+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:46.470+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:46.472+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:46.485+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:46.487+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:46.488+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:46.490+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:46.491+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:46.492+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:46.494+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:46.495+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:46.496+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:46.498+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:46.499+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:46.501+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:46.502+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:46.504+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:46.505+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:46.507+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:46.509+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:46.522+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:47.022+01:00  INFO 38614 --- [librairie-online] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-11T15:56:47.446+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:47.447+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:48.197+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T15:56:48.279+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Started DatabaseStructureTests in 5.469 seconds (process running for 6.879)
2025-02-11T15:56:48.883+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.repository.FournisseurRepositoryTest]: FournisseurRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:48.914+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.repository.FournisseurRepositoryTest
2025-02-11T15:56:48.921+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:48.950+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Starting FournisseurRepositoryTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:48.950+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : The following 1 profile is active: "test"
2025-02-11T15:56:49.037+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:49.056+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:49.075+01:00  INFO 38614 --- [librairie-online] [main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-02-11T15:56:49.099+01:00  INFO 38614 --- [librairie-online] [main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7bfc4090-62ce-434d-9324-1b4ef4cd6981;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-02-11T15:56:49.142+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:49.144+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:49.151+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:49.153+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:49.378+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:49.379+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:49.379+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:49.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:49.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:49.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:49.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:49.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:49.381+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:49.381+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:49.381+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:49.381+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:49.381+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:49.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:49.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:49.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:49.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:49.383+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:49.384+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:49.385+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:49.386+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:49.387+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:49.389+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:49.391+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:49.392+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:49.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:49.395+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:49.396+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:49.398+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:49.400+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:49.401+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:49.402+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:49.403+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:49.404+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:49.406+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:49.407+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:49.408+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:49.409+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:49.410+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:49.412+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:49.413+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:49.415+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:49.416+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:49.418+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:49.419+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:49.420+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:49.421+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:49.423+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:49.425+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:49.428+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:49.429+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:49.433+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:49.609+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Started FournisseurRepositoryTest in 0.692 seconds (process running for 8.209)
2025-02-11T15:56:49.688+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.725+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.727+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.781+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T15:56:49.786+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T15:56:49.788+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0
2025-02-11T15:56:49.797+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.813+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.821+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T15:56:49.832+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.LibrairieOnlineApplicationTests]: LibrairieOnlineApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:49.833+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.LibrairieOnlineApplicationTests
2025-02-11T15:56:49.842+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:49.866+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Starting LibrairieOnlineApplicationTests using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:49.867+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : The following 1 profile is active: "test"
2025-02-11T15:56:50.000+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:50.021+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:50.130+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:50.132+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:50.139+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:50.140+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-02-11T15:56:50.141+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn19: url=jdbc:h2:mem:testdb user=SA
2025-02-11T15:56:50.141+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-02-11T15:56:50.141+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:50.340+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:50.340+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:50.342+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:50.343+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:50.344+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:50.345+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:50.346+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:50.346+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:50.347+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:50.347+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:50.348+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:50.349+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:50.349+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:50.349+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:50.350+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:50.350+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:50.351+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:50.352+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:50.353+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:50.353+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:50.354+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:50.355+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:50.356+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:50.356+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:50.357+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:50.358+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:50.359+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:50.359+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:50.360+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:50.361+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:50.361+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:50.362+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:50.363+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:50.364+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:50.366+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:50.367+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:50.368+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:50.369+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:50.370+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:50.372+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:50.373+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:50.374+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:50.376+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:50.377+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:50.379+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:50.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:50.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:50.383+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:50.384+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:50.386+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:50.387+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:50.388+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:50.523+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:50.523+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:50.811+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T15:56:50.850+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Started LibrairieOnlineApplicationTests in 1.011 seconds (process running for 9.45)
2025-02-11T15:56:50.862+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.TestSecurityConfig]: TestSecurityConfig does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:50.874+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.TestSecurityConfig
2025-02-11T15:56:50.881+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:50.903+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : Starting TestSecurityConfig using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:50.903+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : No active profile set, falling back to 1 default profile: "default"
2025-02-11T15:56:51.063+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:51.081+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:51.247+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:51.249+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:51.255+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:51.256+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-02-11T15:56:51.661+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64a7c885
2025-02-11T15:56:51.661+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-02-11T15:56:51.959+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:52.008+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:52.127+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:52.127+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:52.442+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : Started TestSecurityConfig in 1.564 seconds (process running for 11.042)
2025-02-11T15:56:52.988+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.JwtServiceTest]: JwtServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:52.999+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.JwtServiceTest
2025-02-11T15:56:53.303+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteMControllerIntegrationTest]: NoteMControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:53.342+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteMControllerIntegrationTest
2025-02-11T15:56:53.352+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:53.398+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:53.398+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-02-11T15:56:53.676+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:53.707+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:53.925+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:53.928+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:53.937+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:53.939+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-02-11T15:56:53.941+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn29: url=jdbc:h2:mem:testdbNoteM user=SA
2025-02-11T15:56:53.942+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-02-11T15:56:53.943+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:54.223+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:54.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:54.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:54.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:54.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:54.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:54.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:54.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:54.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:54.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:54.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:54.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:54.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:54.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:54.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:54.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:54.228+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:54.228+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:54.230+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:54.231+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:54.232+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:54.233+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:54.234+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:54.235+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:54.237+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:54.238+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:54.239+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:54.240+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:54.242+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:54.243+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:54.244+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:54.246+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:54.247+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:54.249+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:54.251+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:54.253+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:54.255+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:54.256+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:54.258+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:54.259+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:54.260+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:54.262+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:54.264+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:54.265+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:54.267+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:54.268+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:54.270+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:54.271+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:54.273+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:54.274+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:54.275+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:54.276+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:54.515+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:54.515+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:54.912+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-02-11T15:56:54.986+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:54.986+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:54.989+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-02-11T15:56:55.007+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 1.66 seconds (process running for 13.607)
2025-02-11T15:56:55.025+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T15:56:55.035+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:55.040+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:55.043+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:55.048+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:55.069+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.074+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.098+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T15:56:55.102+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:55.156+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T15:56:55.160+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:55.165+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:55.171+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T15:56:55.176+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:55.178+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:55.180+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:55.182+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:55.184+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:56:55.186+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:55.188+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:55.189+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:55.191+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.192+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.194+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T15:56:55.195+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:55.204+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T15:56:55.205+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:55.206+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:55.209+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T15:56:55.212+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:55.213+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:55.215+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:55.217+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:55.218+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:56:55.219+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:55.221+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:55.222+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:55.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.228+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T15:56:55.230+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:55.239+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T15:56:55.240+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:55.241+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:55.244+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T15:56:55.247+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:55.248+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:55.249+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:55.251+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:55.252+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:56:55.254+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:55.255+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:55.256+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:55.258+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.260+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:55.271+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteAControllerIntegrationTest]: NoteAControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:55.277+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteAControllerIntegrationTest
2025-02-11T15:56:55.286+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:55.313+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Starting NoteAControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:55.314+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : The following 1 profile is active: "testNoteA"
2025-02-11T15:56:55.472+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:55.490+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:55.591+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:55.593+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:55.601+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:55.602+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-02-11T15:56:55.603+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn39: url=jdbc:h2:mem:testdbNoteA user=SA
2025-02-11T15:56:55.604+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-02-11T15:56:55.604+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:55.854+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:55.855+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:55.855+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:55.855+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:55.855+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:55.856+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:55.857+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:55.858+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:55.859+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:55.860+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:55.861+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:55.862+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:55.863+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:55.864+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:55.864+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:55.866+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:55.867+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:55.868+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:55.869+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:55.869+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:55.870+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:55.871+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:55.873+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:55.874+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:55.876+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:55.878+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:55.880+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:55.881+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:55.882+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:55.883+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:55.884+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:55.886+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:55.887+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:55.888+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:55.889+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:55.890+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:55.892+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:55.893+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:55.894+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:55.895+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:55.896+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:55.898+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:56.022+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:56.022+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:56.369+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteA'
2025-02-11T15:56:56.402+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:56.402+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:56.403+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T15:56:56.418+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Started NoteAControllerIntegrationTest in 1.136 seconds (process running for 15.018)
2025-02-11T15:56:56.429+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T15:56:56.435+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:56.438+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:56:56.440+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:56.442+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:56.444+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:56.446+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:56:56.451+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T15:56:56.454+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:56.465+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T15:56:56.466+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T15:56:56.468+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:56.471+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T15:56:56.474+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:56.476+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:56.477+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:56.479+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:56:56.480+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:56:56.483+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:56.485+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:56.487+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:56.490+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:56.494+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:56:56.496+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T15:56:56.499+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:56.509+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T15:56:56.510+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T15:56:56.512+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:56.514+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T15:56:56.516+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:56.517+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:56.518+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:56.520+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:56:56.521+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:56:56.522+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:56.523+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:56.525+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:56.527+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:56.529+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:56:56.531+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T15:56:56.533+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T15:56:56.544+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T15:56:56.545+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T15:56:56.546+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:56:56.549+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T15:56:56.551+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:56.551+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:56.553+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:56.555+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:56:56.556+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:56:56.557+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:56.559+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:56.562+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:56.564+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:56.568+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:56:56.578+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClientControllerIntegrationTest]: ClientControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:56.580+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClientControllerIntegrationTest
2025-02-11T15:56:56.588+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:56.609+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Starting ClientControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:56.610+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : The following 1 profile is active: "test"
2025-02-11T15:56:56.783+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:56.805+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 15 JPA repository interfaces.
2025-02-11T15:56:56.945+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:56:56.946+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:56:56.958+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:56:56.958+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-02-11T15:56:56.960+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn49: url=jdbc:h2:mem:testdb user=SA
2025-02-11T15:56:56.960+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-02-11T15:56:56.961+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:56:57.214+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:56:57.215+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:56:57.216+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:56:57.216+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:56:57.217+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:56:57.217+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:56:57.218+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:56:57.218+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:56:57.218+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:56:57.219+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:56:57.219+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:56:57.219+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:56:57.220+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:56:57.220+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:56:57.220+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:56:57.220+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:56:57.221+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:56:57.221+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:56:57.222+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:56:57.222+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:56:57.223+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:56:57.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:56:57.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:56:57.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:56:57.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:56:57.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:56:57.226+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:56:57.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:56:57.227+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:57.228+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:56:57.228+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:56:57.229+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:56:57.229+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:56:57.230+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:56:57.231+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:56:57.232+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:56:57.233+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:56:57.234+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:56:57.235+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:56:57.236+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:56:57.237+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:56:57.238+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:56:57.238+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:56:57.239+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:56:57.240+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:56:57.241+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:56:57.242+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:56:57.242+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:56:57.243+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:56:57.244+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:56:57.245+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:56:57.246+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:56:57.358+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:56:57.358+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:56:57.666+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T15:56:57.695+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:57.695+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:57.696+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T15:56:57.709+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Started ClientControllerIntegrationTest in 1.124 seconds (process running for 16.309)
2025-02-11T15:56:57.722+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:57.726+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:57.728+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:57.732+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:57.744+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:57.744+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:57.746+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:57.749+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:57.750+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:57.752+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:57.753+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:57.764+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:57.765+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:57.766+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:57.769+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:57.770+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:57.771+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:57.773+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:57.785+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:56:57.786+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:56:57.787+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:56:57.788+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:56:57.789+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:56:57.871+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ClientService              : Cration d'un nouveau client: com.example.librairie_online.entity.Client@39fe0512
2025-02-11T15:56:57.947+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent from Client c1_0 where c1_0.email=? fetch first ? rows only
2025-02-11T15:56:57.953+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.role=?
2025-02-11T15:56:57.954+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER introuvable, cration en cours...
2025-02-11T15:56:57.955+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:56:57.956+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER cr: com.example.librairie_online.entity.Role@4cdc0e3
2025-02-11T15:56:58.062+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:56:58.063+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ClientService              : Client cr avec succs: com.example.librairie_online.entity.Client@39fe0512
2025-02-11T15:56:58.063+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ValidationService          : Cration d'une nouvelle validation pour le client: Doe.Jonh@exemple.com
2025-02-11T15:56:58.063+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.NotificationServices       : Prparation de l'e-mail pour Doe.Jonh@exemple.com
2025-02-11T15:56:59.158+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.NotificationServices       : E-mail envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T15:56:59.158+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ValidationService          : E-mail de validation envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T15:56:59.162+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Validation (Activation_instant,ClientId,code,Creation_instant,Expire_instant,id) values (?,?,?,?,?,?)
2025-02-11T15:56:59.169+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ValidationService          : Validation enregistre avec succs: com.example.librairie_online.entity.Validation@51fe7c9f
2025-02-11T15:56:59.169+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.ClientService              : Validation cre pour le client: com.example.librairie_online.entity.Validation@51fe7c9f
2025-02-11T15:56:59.197+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClasseControllerIntegrationTest]: ClasseControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:59.200+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClasseControllerIntegrationTest
2025-02-11T15:56:59.213+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T15:56:59.215+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:59.217+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T15:56:59.220+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:59.224+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.225+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T15:56:59.230+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T15:56:59.231+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.232+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:59.234+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T15:56:59.247+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T15:56:59.249+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.250+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:59.252+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T15:56:59.255+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:59.310+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:56:59.321+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T15:56:59.325+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T15:56:59.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:59.335+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.337+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T15:56:59.351+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T15:56:59.355+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T15:56:59.377+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T15:56:59.379+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.380+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:56:59.382+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T15:56:59.385+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:56:59.386+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:56:59.388+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T15:56:59.390+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T15:56:59.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:56:59.395+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T15:56:59.396+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T15:56:59.491+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.491+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.492+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T15:56:59.515+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.516+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.516+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.528+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.528+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.528+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.540+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.540+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.540+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.558+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.558+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.558+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.571+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.571+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.571+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.582+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.582+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.582+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.598+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.598+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.598+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.674+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.674+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.675+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.686+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.686+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.686+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.697+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.698+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.698+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.708+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.709+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.709+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.722+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.723+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.723+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.733+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.733+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.733+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.744+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.744+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.744+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.756+01:00  INFO 38614 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:56:59.757+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:56:59.757+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:56:59.764+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AnimeControllerIntegrationTest]: AnimeControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:56:59.766+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AnimeControllerIntegrationTest
2025-02-11T15:56:59.775+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:56:59.797+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Starting AnimeControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:56:59.797+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : The following 1 profile is active: "testAnime"
2025-02-11T15:56:59.968+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:56:59.987+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 15 JPA repository interfaces.
2025-02-11T15:57:00.086+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:57:00.088+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:57:00.094+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:57:00.095+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-02-11T15:57:00.097+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn59: url=jdbc:h2:mem:testdbAnime user=SA
2025-02-11T15:57:00.098+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-02-11T15:57:00.098+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:57:00.327+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:00.328+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:00.329+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:00.330+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:57:00.331+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:57:00.332+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:57:00.332+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:57:00.333+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:57:00.334+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:57:00.334+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:57:00.335+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:57:00.336+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:57:00.336+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:57:00.337+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:57:00.338+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:00.338+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:00.339+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:57:00.340+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:57:00.340+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:57:00.341+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:57:00.342+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:57:00.343+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:57:00.344+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:57:00.344+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:57:00.345+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:57:00.346+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:57:00.347+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:57:00.348+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:57:00.349+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:57:00.349+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:57:00.350+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:57:00.351+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:57:00.352+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:57:00.353+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:57:00.353+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:57:00.354+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:57:00.355+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:57:00.356+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:00.477+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:57:00.477+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:57:00.683+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAnime'
2025-02-11T15:57:00.703+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:57:00.703+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:57:00.703+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T15:57:00.711+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Started AnimeControllerIntegrationTest in 0.938 seconds (process running for 19.31)
2025-02-11T15:57:00.721+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:00.726+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:00.727+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T15:57:00.729+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:00.731+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.732+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T15:57:00.737+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.738+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:00.748+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:00.749+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:00.750+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.751+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:57:00.753+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:00.754+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:00.755+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T15:57:00.756+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T15:57:00.759+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:00.761+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.762+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T15:57:00.764+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.764+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:00.773+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:00.773+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:00.774+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.776+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:57:00.779+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:00.780+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:00.782+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T15:57:00.783+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T15:57:00.784+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:00.785+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.786+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T15:57:00.787+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.787+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:00.797+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:00.798+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:00.800+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.801+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T15:57:00.802+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:00.803+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:00.805+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T15:57:00.805+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T15:57:00.807+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:00.809+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T15:57:00.810+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T15:57:00.820+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.MangaControllerIntegrationTest]: MangaControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:57:00.826+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.MangaControllerIntegrationTest
2025-02-11T15:57:00.834+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:57:00.869+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Starting MangaControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:57:00.869+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : The following 1 profile is active: "testManga"
2025-02-11T15:57:01.077+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:57:01.097+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T15:57:01.189+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:57:01.191+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:57:01.198+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:57:01.199+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-02-11T15:57:01.201+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn69: url=jdbc:h2:mem:testdbManga user=SA
2025-02-11T15:57:01.201+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-02-11T15:57:01.202+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:57:01.392+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:01.393+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:01.394+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:57:01.396+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:57:01.396+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:57:01.397+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:57:01.397+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:57:01.398+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:57:01.398+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:57:01.399+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:57:01.399+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:57:01.400+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:57:01.400+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:57:01.401+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:01.401+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:01.401+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:57:01.402+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:57:01.403+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:57:01.403+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:57:01.404+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:57:01.405+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:57:01.406+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:57:01.406+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:57:01.407+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:57:01.408+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:57:01.408+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:57:01.409+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:57:01.409+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:57:01.410+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:57:01.411+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:57:01.411+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:57:01.412+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:57:01.412+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:57:01.413+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:57:01.413+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:57:01.414+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:57:01.415+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:01.514+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:57:01.514+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:57:01.720+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbManga'
2025-02-11T15:57:01.760+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:57:01.760+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:57:01.761+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T15:57:01.768+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Started MangaControllerIntegrationTest in 0.938 seconds (process running for 20.368)
2025-02-11T15:57:01.775+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.779+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:01.781+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.791+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.792+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:01.796+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:01.797+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.800+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangaService               : Rcupration de tous les mangas.
2025-02-11T15:57:01.802+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.803+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangaService               : Nombre total de mangas rcuprs: 1
2025-02-11T15:57:01.864+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.865+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:01.867+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:01.868+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.882+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.885+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:01.898+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:01.900+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:01.901+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.914+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.LoueControllerIntegrationTest]: LoueControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:57:01.918+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.LoueControllerIntegrationTest
2025-02-11T15:57:01.931+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T15:57:01.934+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:01.935+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:01.940+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:01.942+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:01.944+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:01.945+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.948+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:01.951+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T15:57:01.966+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T15:57:01.968+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:01.970+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:01.975+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:01.976+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:01.979+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:01.981+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:01.982+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:01.983+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T15:57:01.997+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T15:57:02.004+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:02.006+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:02.008+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:02.010+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:02.012+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:02.014+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:02.015+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:02.028+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T15:57:02.029+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:02.030+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:02.033+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T15:57:02.034+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:02.036+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:02.038+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:02.040+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T15:57:02.041+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T15:57:02.052+01:00  INFO 38614 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AcheteControllerIntegrationTest]: AcheteControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T15:57:02.056+01:00  INFO 38614 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AcheteControllerIntegrationTest
2025-02-11T15:57:02.063+01:00  INFO 38614 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T15:57:02.082+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Starting AcheteControllerIntegrationTest using Java 22.0.2 with PID 38614 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T15:57:02.082+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : The following 1 profile is active: "testAchete"
2025-02-11T15:57:02.239+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T15:57:02.257+01:00  INFO 38614 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2025-02-11T15:57:02.347+01:00  INFO 38614 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T15:57:02.348+01:00  INFO 38614 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T15:57:02.366+01:00  INFO 38614 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T15:57:02.368+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-02-11T15:57:02.374+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn79: url=jdbc:h2:mem:testdbAchete user=SA
2025-02-11T15:57:02.374+01:00  INFO 38614 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-02-11T15:57:02.375+01:00  WARN 38614 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T15:57:02.606+01:00  INFO 38614 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:02.607+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:02.608+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T15:57:02.610+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T15:57:02.611+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T15:57:02.611+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T15:57:02.612+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T15:57:02.612+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T15:57:02.613+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T15:57:02.613+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T15:57:02.613+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T15:57:02.614+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T15:57:02.614+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T15:57:02.615+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:02.615+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T15:57:02.616+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T15:57:02.616+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T15:57:02.617+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T15:57:02.617+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T15:57:02.618+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T15:57:02.619+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T15:57:02.619+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T15:57:02.620+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T15:57:02.620+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T15:57:02.621+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T15:57:02.622+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T15:57:02.622+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T15:57:02.623+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T15:57:02.624+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T15:57:02.624+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T15:57:02.625+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T15:57:02.626+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T15:57:02.626+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T15:57:02.627+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T15:57:02.627+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T15:57:02.628+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T15:57:02.629+01:00  INFO 38614 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:02.713+01:00  INFO 38614 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T15:57:02.713+01:00  WARN 38614 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T15:57:02.919+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAchete'
2025-02-11T15:57:02.939+01:00  INFO 38614 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T15:57:02.939+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T15:57:02.940+01:00  INFO 38614 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T15:57:02.946+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Started AcheteControllerIntegrationTest in 0.887 seconds (process running for 21.546)
2025-02-11T15:57:02.953+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T15:57:02.955+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:02.958+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:02.961+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:02.964+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:02.966+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:02.969+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:02.971+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T15:57:02.982+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T15:57:02.983+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:57:02.985+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:02.988+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T15:57:02.990+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:02.990+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:02.992+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:57:02.993+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:02.995+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:02.997+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:02.999+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:57:03.000+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:03.003+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.005+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.006+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T15:57:03.015+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T15:57:03.015+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:57:03.016+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:03.017+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T15:57:03.019+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:03.020+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:03.023+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:57:03.024+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:03.025+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:03.027+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:03.027+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:57:03.028+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:03.030+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.032+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.033+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T15:57:03.042+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T15:57:03.042+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T15:57:03.043+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T15:57:03.044+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T15:57:03.045+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T15:57:03.046+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T15:57:03.048+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T15:57:03.050+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T15:57:03.051+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T15:57:03.052+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T15:57:03.054+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T15:57:03.104+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T15:57:03.108+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.113+01:00 DEBUG 38614 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T15:57:03.220+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Rcupration de tous les mangakas.
2025-02-11T15:57:03.220+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Nombre total de mangakas rcuprs: 1
2025-02-11T15:57:03.222+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T15:57:03.223+01:00  WARN 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Aucun mangaka trouv avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T15:57:03.225+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Cration d'un nouveau mangaka: com.example.librairie_online.entity.Mangaka@a42704b
2025-02-11T15:57:03.225+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka cr avec succs: com.example.librairie_online.entity.Mangaka@a42704b
2025-02-11T15:57:03.228+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mise  jour du mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T15:57:03.228+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T15:57:03.228+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@68844a1c
2025-02-11T15:57:03.228+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka mis  jour avec succs: com.example.librairie_online.entity.Mangaka@68844a1c
2025-02-11T15:57:03.232+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T15:57:03.232+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@78f1c92a
2025-02-11T15:57:03.320+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Rcupration de tous les fournisseurs.
2025-02-11T15:57:03.320+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Nombre total de fournisseurs rcuprs: 1
2025-02-11T15:57:03.322+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T15:57:03.323+01:00  WARN 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Aucun fournisseur trouv avec l'ID: 1
2025-02-11T15:57:03.324+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Cration d'un nouveau fournisseur: com.example.librairie_online.entity.Fournisseur@48b3b9dd
2025-02-11T15:57:03.325+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur cr avec succs: com.example.librairie_online.entity.Fournisseur@48b3b9dd
2025-02-11T15:57:03.327+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Mise  jour du fournisseur avec l'ID: 1
2025-02-11T15:57:03.327+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T15:57:03.327+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@2b778ea8
2025-02-11T15:57:03.328+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur mis  jour avec succs: com.example.librairie_online.entity.Fournisseur@2b778ea8
2025-02-11T15:57:03.331+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T15:57:03.332+01:00  INFO 38614 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@4c78b4da
2025-02-11T15:57:03.353+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.354+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.354+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.355+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.356+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.357+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.357+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.358+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.358+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.359+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.360+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.360+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.361+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.361+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.361+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.361+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.361+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.363+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-11T15:57:03.366+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-11T15:57:03.367+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.367+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.368+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.369+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.369+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.370+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.370+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.370+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.371+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.371+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.371+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.371+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.372+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.372+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.372+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.373+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.373+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.378+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.378+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.379+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.379+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.379+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.379+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.379+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-02-11T15:57:03.380+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-02-11T15:57:03.383+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.384+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-02-11T15:57:03.404+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-02-11T15:57:03.407+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.407+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.408+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.409+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.409+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.409+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.410+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.410+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.410+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.410+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.411+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.411+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.411+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.411+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.412+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.412+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.412+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.413+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-02-11T15:57:03.414+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-02-11T15:57:03.417+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.417+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.417+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.418+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.418+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.419+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.419+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.419+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.419+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.419+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.420+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.420+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.420+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.420+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.421+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.421+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.421+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.421+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-02-11T15:57:03.422+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-02-11T15:57:03.425+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.425+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.426+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.427+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-02-11T15:57:03.427+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-02-11T15:57:03.430+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.430+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.431+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.431+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.431+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.432+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.432+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.432+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.432+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.433+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.433+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.433+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.433+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.433+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.434+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.434+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.434+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.434+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-02-11T15:57:03.435+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-02-11T15:57:03.438+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.438+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.438+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.439+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.439+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.440+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.440+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.440+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.440+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.441+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.442+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.442+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.442+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-02-11T15:57:03.443+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-02-11T15:57:03.457+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T15:57:03.457+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T15:57:03.458+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T15:57:03.458+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T15:57:03.458+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T15:57:03.459+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T15:57:03.460+01:00 DEBUG 38614 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T15:57:03.461+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-02-11T15:57:03.462+01:00  INFO 38614 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-02-11T16:02:14.352+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Starting DatabaseStructureTests using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:14.354+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : The following 1 profile is active: "test"
2025-02-11T16:02:15.110+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:15.201+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:15.746+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:15.826+01:00  INFO 39394 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-02-11T16:02:15.869+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:16.256+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:16.287+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-11T16:02:16.527+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:02:16.529+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-11T16:02:16.562+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:17.788+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:17.805+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:17.809+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:17.809+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:17.809+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:17.809+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:17.810+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:17.810+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:17.810+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:17.810+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:17.811+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:17.811+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:17.811+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:17.811+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:17.811+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:17.812+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:17.812+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:17.817+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:17.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:17.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:17.828+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:17.830+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:17.831+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:17.833+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:17.835+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:17.836+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:17.837+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:17.838+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:17.839+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:17.841+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:17.842+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:17.845+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:17.847+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:17.849+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:17.862+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:17.863+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:17.865+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:17.866+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:17.867+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:17.868+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:17.870+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:17.871+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:17.872+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:17.873+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:17.874+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:17.876+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:17.877+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:17.878+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:17.880+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:17.881+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:17.882+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:17.886+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:18.434+01:00  INFO 39394 --- [librairie-online] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-11T16:02:18.951+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:18.951+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:19.858+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:02:19.933+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Started DatabaseStructureTests in 6.062 seconds (process running for 7.292)
2025-02-11T16:02:20.565+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.repository.FournisseurRepositoryTest]: FournisseurRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:20.607+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.repository.FournisseurRepositoryTest
2025-02-11T16:02:20.616+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:20.648+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Starting FournisseurRepositoryTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:20.649+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : The following 1 profile is active: "test"
2025-02-11T16:02:20.749+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:20.778+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:20.798+01:00  INFO 39394 --- [librairie-online] [main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-02-11T16:02:20.824+01:00  INFO 39394 --- [librairie-online] [main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:5a79a5b9-0591-4aa6-ac2e-0807ce1df296;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-02-11T16:02:20.852+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:20.855+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:20.863+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:20.865+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:21.111+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:21.111+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:21.112+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:21.112+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:21.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:21.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:21.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:21.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:21.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:21.114+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:21.114+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:21.114+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:21.114+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:21.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:21.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:21.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:21.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:21.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:21.117+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:21.117+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:21.118+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:21.119+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:21.120+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:21.121+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:21.122+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:21.123+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:21.124+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:21.125+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:21.126+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:21.127+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:21.128+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:21.128+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:21.129+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:21.131+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:21.132+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:21.133+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:21.134+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:21.136+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:21.137+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:21.138+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:21.139+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:21.141+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:21.142+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:21.143+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:21.144+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:21.145+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:21.147+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:21.148+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:21.149+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:21.150+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:21.151+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:21.153+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:21.315+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Started FournisseurRepositoryTest in 0.704 seconds (process running for 8.675)
2025-02-11T16:02:21.406+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.442+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.444+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.511+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:02:21.518+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:02:21.521+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0
2025-02-11T16:02:21.531+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.546+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.555+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:02:21.565+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.LibrairieOnlineApplicationTests]: LibrairieOnlineApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:21.567+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.LibrairieOnlineApplicationTests
2025-02-11T16:02:21.575+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:21.599+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Starting LibrairieOnlineApplicationTests using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:21.599+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : The following 1 profile is active: "test"
2025-02-11T16:02:21.785+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:21.805+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:21.924+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:21.927+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:21.955+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:21.956+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-02-11T16:02:21.958+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn19: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:02:21.958+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-02-11T16:02:21.959+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:22.163+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:22.164+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:22.166+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:22.167+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:22.168+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:22.169+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:22.170+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:22.170+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:22.171+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:22.171+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:22.172+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:22.173+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:22.173+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:22.173+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:22.174+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:22.174+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:22.174+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:22.175+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:22.176+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:22.177+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:22.178+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:22.178+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:22.179+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:22.180+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:22.181+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:22.181+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:22.182+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:22.183+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:22.183+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:22.184+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:22.184+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:22.185+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:22.186+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:22.186+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:22.187+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:22.188+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:22.189+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:22.190+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:22.191+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:22.192+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:22.193+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:22.193+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:22.194+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:22.195+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:22.196+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:22.197+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:22.198+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:22.199+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:22.199+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:22.200+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:22.201+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:22.203+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:22.345+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:22.345+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:22.606+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:02:22.636+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Started LibrairieOnlineApplicationTests in 1.065 seconds (process running for 9.996)
2025-02-11T16:02:22.645+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.TestSecurityConfig]: TestSecurityConfig does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:22.655+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.TestSecurityConfig
2025-02-11T16:02:22.663+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:22.686+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : Starting TestSecurityConfig using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:22.686+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : No active profile set, falling back to 1 default profile: "default"
2025-02-11T16:02:22.846+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:22.868+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:22.970+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:22.972+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:22.979+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:22.980+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-02-11T16:02:23.381+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ae397d6
2025-02-11T16:02:23.381+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-02-11T16:02:23.626+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:23.668+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:23.769+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:23.769+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:24.021+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.security.TestSecurityConfig        : Started TestSecurityConfig in 1.362 seconds (process running for 11.38)
2025-02-11T16:02:24.608+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.JwtServiceTest]: JwtServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:24.614+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.JwtServiceTest
2025-02-11T16:02:24.951+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteMControllerIntegrationTest]: NoteMControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:24.992+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteMControllerIntegrationTest
2025-02-11T16:02:25.004+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:25.060+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:25.060+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-02-11T16:02:25.365+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:25.397+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:25.588+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:25.591+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:25.601+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:25.603+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-02-11T16:02:25.605+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn29: url=jdbc:h2:mem:testdbNoteM user=SA
2025-02-11T16:02:25.606+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-02-11T16:02:25.606+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:25.891+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:25.892+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:25.893+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:25.893+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:25.893+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:25.894+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:25.894+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:25.894+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:25.894+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:25.895+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:25.895+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:25.895+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:25.895+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:25.895+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:25.896+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:25.896+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:25.896+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:25.897+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:25.898+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:25.900+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:25.901+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:25.902+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:25.903+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:25.904+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:25.905+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:25.906+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:25.907+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:25.908+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:25.909+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:25.910+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:25.911+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:25.912+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:25.913+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:25.914+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:25.916+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:25.918+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:25.921+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:25.923+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:25.926+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:25.930+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:25.931+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:25.933+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:25.935+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:25.936+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:25.938+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:25.939+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:25.941+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:25.942+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:25.944+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:25.946+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:25.949+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:25.952+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:26.164+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:26.164+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:26.632+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-02-11T16:02:26.725+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:26.725+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:26.728+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-02-11T16:02:26.752+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 1.754 seconds (process running for 14.112)
2025-02-11T16:02:26.776+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:02:26.787+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:26.792+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:26.797+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:26.803+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:26.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:26.833+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:26.846+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:02:26.854+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:26.949+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:02:26.955+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:26.961+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:26.968+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:02:26.972+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:26.974+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:26.976+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:26.980+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:26.984+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:26.986+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:26.988+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:26.990+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:26.992+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:26.994+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:26.997+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:02:27.001+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:27.017+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:02:27.019+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:27.022+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:27.025+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:02:27.030+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:27.033+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:27.038+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:27.041+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:27.044+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:27.047+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:27.049+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:27.050+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:27.052+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:27.054+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:27.057+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:02:27.061+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:27.077+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:02:27.079+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:27.083+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:27.089+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:02:27.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:27.094+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:27.096+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:27.099+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:27.101+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:27.105+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:27.107+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:27.110+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:27.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:27.116+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:27.133+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteAControllerIntegrationTest]: NoteAControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:27.144+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteAControllerIntegrationTest
2025-02-11T16:02:27.157+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:27.201+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Starting NoteAControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:27.201+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : The following 1 profile is active: "testNoteA"
2025-02-11T16:02:27.498+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:27.529+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:27.686+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:27.689+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:27.702+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:27.703+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-02-11T16:02:27.706+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn39: url=jdbc:h2:mem:testdbNoteA user=SA
2025-02-11T16:02:27.706+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-02-11T16:02:27.707+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:28.090+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:28.091+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:28.091+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:28.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:28.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:28.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:28.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:28.093+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:28.093+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:28.093+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:28.093+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:28.094+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:28.094+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:28.094+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:28.094+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:28.096+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:28.096+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:28.097+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:28.098+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:28.099+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:28.100+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:28.101+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:28.102+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:28.102+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:28.103+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:28.103+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:28.104+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:28.105+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:28.106+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:28.107+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:28.108+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:28.109+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:28.110+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:28.111+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:28.113+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:28.114+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:28.115+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:28.116+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:28.117+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:28.118+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:28.120+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:28.121+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:28.122+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:28.123+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:28.124+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:28.125+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:28.126+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:28.127+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:28.128+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:28.129+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:28.130+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:28.131+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:28.269+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:28.270+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:28.630+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteA'
2025-02-11T16:02:28.658+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:28.658+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:28.659+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:28.671+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Started NoteAControllerIntegrationTest in 1.52 seconds (process running for 16.03)
2025-02-11T16:02:28.680+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:02:28.683+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:28.685+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:28.686+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:28.688+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:28.690+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:28.692+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:28.697+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:02:28.699+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:28.714+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:02:28.715+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:02:28.718+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:28.722+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:02:28.725+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:28.726+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:28.728+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:28.730+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:28.732+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:28.735+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:28.737+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:28.739+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:28.741+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:28.742+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:28.744+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:02:28.746+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:28.758+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:02:28.760+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:02:28.761+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:28.764+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:02:28.766+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:28.768+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:28.771+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:28.773+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:28.775+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:28.778+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:28.780+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:28.781+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:28.783+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:28.786+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:28.789+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:02:28.791+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:02:28.803+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:02:28.805+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:02:28.807+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:28.810+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:02:28.812+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:28.813+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:28.815+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:28.817+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:28.819+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:28.821+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:28.823+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:28.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:28.827+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:28.828+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:28.841+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClientControllerIntegrationTest]: ClientControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:28.846+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClientControllerIntegrationTest
2025-02-11T16:02:28.854+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:28.882+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Starting ClientControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:28.882+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : The following 1 profile is active: "test"
2025-02-11T16:02:29.089+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:29.110+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:29.222+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:29.224+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:29.234+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:29.235+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-02-11T16:02:29.236+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn49: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:02:29.236+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-02-11T16:02:29.237+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:29.482+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:29.483+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:29.483+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:29.484+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:29.485+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:29.486+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:29.486+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:29.486+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:29.487+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:29.487+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:29.487+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:29.488+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:29.488+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:29.488+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:29.488+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:29.489+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:29.489+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:29.489+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:29.490+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:29.491+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:29.491+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:29.492+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:29.493+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:29.493+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:29.494+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:29.494+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:29.496+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:29.496+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:29.497+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:29.498+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:29.498+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:29.499+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:29.500+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:29.500+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:29.502+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:29.502+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:29.503+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:29.504+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:29.505+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:29.506+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:29.506+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:29.507+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:29.508+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:29.508+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:29.509+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:29.510+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:29.510+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:29.511+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:29.512+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:29.512+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:29.513+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:29.514+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:29.624+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:29.624+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:29.929+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:02:29.972+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:29.973+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:29.974+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:29.990+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Started ClientControllerIntegrationTest in 1.139 seconds (process running for 17.349)
2025-02-11T16:02:30.001+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:30.004+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:30.006+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:30.008+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.018+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:30.019+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:30.021+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:30.023+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:30.024+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:30.028+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:30.030+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.042+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:30.042+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:30.044+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:30.045+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:30.046+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:30.047+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:30.050+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.066+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:30.067+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:30.068+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:30.069+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:30.070+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:30.172+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ClientService              : Cration d'un nouveau client: com.example.librairie_online.entity.Client@4f2642de
2025-02-11T16:02:30.255+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent from Client c1_0 where c1_0.email=? fetch first ? rows only
2025-02-11T16:02:30.266+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.role=?
2025-02-11T16:02:30.267+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER introuvable, cration en cours...
2025-02-11T16:02:30.267+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:30.268+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER cr: com.example.librairie_online.entity.Role@7713f921
2025-02-11T16:02:30.372+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.373+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ClientService              : Client cr avec succs: com.example.librairie_online.entity.Client@4f2642de
2025-02-11T16:02:30.373+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ValidationService          : Cration d'une nouvelle validation pour le client: Doe.Jonh@exemple.com
2025-02-11T16:02:30.374+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.NotificationServices       : Prparation de l'e-mail pour Doe.Jonh@exemple.com
2025-02-11T16:02:30.527+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.NotificationServices       : E-mail envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:02:30.528+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ValidationService          : E-mail de validation envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:02:30.530+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Validation (Activation_instant,ClientId,code,Creation_instant,Expire_instant,id) values (?,?,?,?,?,?)
2025-02-11T16:02:30.541+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ValidationService          : Validation enregistre avec succs: com.example.librairie_online.entity.Validation@5c0ecacc
2025-02-11T16:02:30.541+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.ClientService              : Validation cre pour le client: com.example.librairie_online.entity.Validation@5c0ecacc
2025-02-11T16:02:30.581+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClasseControllerIntegrationTest]: ClasseControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:30.584+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClasseControllerIntegrationTest
2025-02-11T16:02:30.597+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:02:30.601+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:30.606+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:02:30.610+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.615+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.617+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:02:30.622+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:02:30.625+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.627+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:30.630+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:02:30.645+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:02:30.647+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.648+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:30.649+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:02:30.652+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:30.654+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:30.655+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:02:30.656+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:02:30.658+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.660+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.661+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:02:30.662+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:02:30.664+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:02:30.678+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:02:30.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.680+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:30.682+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:02:30.685+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:30.687+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:30.689+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:02:30.690+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:02:30.691+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:30.694+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:02:30.695+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:02:30.803+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.803+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.803+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:30.831+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.831+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.831+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:30.843+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.843+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.843+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:30.856+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.857+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.857+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:30.883+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.883+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.884+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:30.895+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.895+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.895+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:30.910+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.910+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.911+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:30.925+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:30.925+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:30.925+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.007+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.007+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.007+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.018+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.019+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.019+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.030+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.030+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.030+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.042+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.042+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.042+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.056+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.056+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.056+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.067+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.067+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.067+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.078+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.078+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.078+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.090+01:00  INFO 39394 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:31.090+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:31.090+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:02:31.098+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AnimeControllerIntegrationTest]: AnimeControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:31.101+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AnimeControllerIntegrationTest
2025-02-11T16:02:31.108+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:31.131+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Starting AnimeControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:31.131+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : The following 1 profile is active: "testAnime"
2025-02-11T16:02:31.301+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:31.319+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:31.418+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:31.419+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:31.428+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:31.429+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-02-11T16:02:31.431+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn59: url=jdbc:h2:mem:testdbAnime user=SA
2025-02-11T16:02:31.431+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-02-11T16:02:31.432+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:31.637+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:31.638+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:31.639+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:31.640+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:31.640+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:31.641+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:31.642+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:31.643+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:31.643+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:31.644+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:31.644+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:31.645+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:31.645+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:31.646+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:31.646+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:31.647+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:31.647+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:31.648+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:31.649+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:31.649+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:31.651+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:31.652+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:31.652+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:31.653+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:31.654+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:31.655+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:31.655+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:31.656+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:31.657+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:31.657+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:31.658+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:31.659+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:31.660+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:31.660+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:31.661+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:31.662+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:31.663+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:31.664+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:31.770+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:31.771+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:32.014+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAnime'
2025-02-11T16:02:32.035+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:32.035+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:32.036+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:32.044+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Started AnimeControllerIntegrationTest in 0.938 seconds (process running for 19.403)
2025-02-11T16:02:32.054+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:32.057+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:32.059+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:02:32.061+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:32.063+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.065+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:02:32.078+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.079+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:32.090+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:32.090+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:32.092+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.093+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:32.096+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:32.097+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:32.099+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:02:32.100+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:02:32.102+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:32.103+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.104+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:02:32.106+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.107+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:32.117+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:32.118+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:32.120+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.121+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:32.124+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:32.127+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:32.131+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:02:32.133+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:02:32.134+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:32.135+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.136+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:02:32.137+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.137+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:32.148+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:32.149+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:32.151+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.152+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:02:32.154+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:32.155+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:32.158+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:02:32.160+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:02:32.162+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:32.165+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:02:32.165+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:02:32.175+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.MangaControllerIntegrationTest]: MangaControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:32.180+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.MangaControllerIntegrationTest
2025-02-11T16:02:32.191+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:32.219+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Starting MangaControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:32.219+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : The following 1 profile is active: "testManga"
2025-02-11T16:02:32.377+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:32.401+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:32.503+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:32.505+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:32.514+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:32.514+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-02-11T16:02:32.517+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn69: url=jdbc:h2:mem:testdbManga user=SA
2025-02-11T16:02:32.517+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-02-11T16:02:32.517+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:32.678+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:32.678+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:32.678+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:32.678+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:32.678+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:32.679+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:32.680+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:32.681+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:32.681+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:32.682+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:32.682+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:32.683+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:32.683+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:32.683+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:32.684+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:32.684+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:32.685+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:32.685+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:32.686+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:32.686+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:32.687+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:32.687+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:32.688+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:32.689+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:32.689+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:32.690+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:32.691+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:32.691+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:32.692+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:32.692+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:32.693+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:32.694+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:32.695+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:32.695+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:32.696+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:32.696+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:32.697+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:32.698+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:32.698+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:32.699+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:32.700+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:32.812+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:32.812+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:33.026+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbManga'
2025-02-11T16:02:33.051+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:33.051+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:33.052+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:33.061+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Started MangaControllerIntegrationTest in 0.874 seconds (process running for 20.42)
2025-02-11T16:02:33.068+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.072+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:33.073+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.084+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.086+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:33.088+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:33.089+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.092+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangaService               : Rcupration de tous les mangas.
2025-02-11T16:02:33.095+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.096+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangaService               : Nombre total de mangas rcuprs: 1
2025-02-11T16:02:33.165+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.165+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:33.167+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:33.167+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.177+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.180+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:33.190+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:33.192+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:33.193+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.205+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.LoueControllerIntegrationTest]: LoueControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:33.208+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.LoueControllerIntegrationTest
2025-02-11T16:02:33.222+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:02:33.224+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:33.225+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:33.230+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:33.231+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:33.233+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:33.235+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.237+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:33.240+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:02:33.253+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:02:33.255+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:33.256+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:33.258+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:33.260+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:33.262+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:33.264+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.265+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:33.266+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:02:33.275+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:02:33.278+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:33.279+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:33.282+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:33.285+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:33.286+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:33.287+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.288+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:33.301+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:02:33.304+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:33.304+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:33.306+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:02:33.308+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:33.309+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:33.311+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:33.312+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:02:33.314+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:02:33.326+01:00  INFO 39394 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AcheteControllerIntegrationTest]: AcheteControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:02:33.330+01:00  INFO 39394 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AcheteControllerIntegrationTest
2025-02-11T16:02:33.337+01:00  INFO 39394 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:02:33.359+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Starting AcheteControllerIntegrationTest using Java 22.0.2 with PID 39394 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:02:33.359+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : The following 1 profile is active: "testAchete"
2025-02-11T16:02:33.534+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:02:33.552+01:00  INFO 39394 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2025-02-11T16:02:33.643+01:00  INFO 39394 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:02:33.644+01:00  INFO 39394 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:02:33.653+01:00  INFO 39394 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:02:33.653+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-02-11T16:02:33.655+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn79: url=jdbc:h2:mem:testdbAchete user=SA
2025-02-11T16:02:33.655+01:00  INFO 39394 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-02-11T16:02:33.656+01:00  WARN 39394 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:02:33.824+01:00  INFO 39394 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:33.825+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:33.826+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:33.827+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:02:33.828+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:02:33.829+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:02:33.830+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:02:33.831+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:02:33.832+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:02:33.832+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:02:33.833+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:02:33.833+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:02:33.834+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:02:33.835+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:02:33.836+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:33.836+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:02:33.837+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:02:33.838+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:02:33.838+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:02:33.839+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:02:33.841+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:02:33.842+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:02:33.842+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:02:33.843+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:02:33.844+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:02:33.845+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:02:33.845+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:02:33.846+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:02:33.847+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:02:33.848+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:02:33.849+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:02:33.850+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:02:33.851+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:02:33.852+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:02:33.853+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:02:33.853+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:02:33.854+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:02:33.855+01:00  INFO 39394 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:33.963+01:00  INFO 39394 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:02:33.963+01:00  WARN 39394 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:02:34.188+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAchete'
2025-02-11T16:02:34.208+01:00  INFO 39394 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:02:34.208+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:02:34.209+01:00  INFO 39394 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:02:34.216+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Started AcheteControllerIntegrationTest in 0.882 seconds (process running for 21.575)
2025-02-11T16:02:34.224+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:02:34.227+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:34.229+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:34.231+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:34.233+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:34.235+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.236+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.238+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:02:34.249+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:02:34.250+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:34.251+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:34.253+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:02:34.255+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:34.255+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:34.257+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:34.259+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:34.262+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:34.264+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:34.266+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:34.267+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:34.269+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.271+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.273+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:02:34.281+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:02:34.282+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:34.284+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:34.286+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:02:34.288+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:34.290+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:34.293+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:34.295+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:34.296+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:34.298+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:34.300+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:34.301+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:34.302+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.305+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.307+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:02:34.318+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:02:34.318+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:02:34.319+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:02:34.320+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:02:34.322+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:02:34.322+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:02:34.324+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:02:34.325+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:02:34.327+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:02:34.328+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:02:34.330+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:02:34.331+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:02:34.333+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.335+01:00 DEBUG 39394 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:02:34.452+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Rcupration de tous les mangakas.
2025-02-11T16:02:34.452+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Nombre total de mangakas rcuprs: 1
2025-02-11T16:02:34.454+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:02:34.455+01:00  WARN 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Aucun mangaka trouv avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:02:34.457+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Cration d'un nouveau mangaka: com.example.librairie_online.entity.Mangaka@20325ab4
2025-02-11T16:02:34.457+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka cr avec succs: com.example.librairie_online.entity.Mangaka@20325ab4
2025-02-11T16:02:34.459+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mise  jour du mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:02:34.460+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:02:34.460+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@7bdd00a3
2025-02-11T16:02:34.460+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka mis  jour avec succs: com.example.librairie_online.entity.Mangaka@7bdd00a3
2025-02-11T16:02:34.462+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:02:34.462+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@d8fc855
2025-02-11T16:02:34.559+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Rcupration de tous les fournisseurs.
2025-02-11T16:02:34.559+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Nombre total de fournisseurs rcuprs: 1
2025-02-11T16:02:34.562+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:02:34.562+01:00  WARN 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Aucun fournisseur trouv avec l'ID: 1
2025-02-11T16:02:34.564+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Cration d'un nouveau fournisseur: com.example.librairie_online.entity.Fournisseur@657d0149
2025-02-11T16:02:34.564+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur cr avec succs: com.example.librairie_online.entity.Fournisseur@657d0149
2025-02-11T16:02:34.567+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Mise  jour du fournisseur avec l'ID: 1
2025-02-11T16:02:34.567+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:02:34.567+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@3fd91132
2025-02-11T16:02:34.567+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur mis  jour avec succs: com.example.librairie_online.entity.Fournisseur@3fd91132
2025-02-11T16:02:34.570+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:02:34.570+01:00  INFO 39394 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@6f61f643
2025-02-11T16:02:34.610+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.611+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.612+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.615+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.616+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.617+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.617+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.618+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.618+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.618+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.619+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.619+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.619+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.619+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.620+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.620+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.620+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.623+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-11T16:02:34.626+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-11T16:02:34.628+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.628+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.629+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.630+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.630+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.631+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.631+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.632+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.632+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.633+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.634+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.634+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.635+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.636+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.636+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.636+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.637+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.640+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.640+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.641+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.641+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-02-11T16:02:34.642+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-02-11T16:02:34.645+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.645+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-02-11T16:02:34.670+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-02-11T16:02:34.673+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.673+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.674+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.674+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.675+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.675+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.676+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.676+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.676+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.676+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.677+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.677+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.677+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.677+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.678+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.678+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.678+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.679+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-02-11T16:02:34.682+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-02-11T16:02:34.685+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.685+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.686+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.686+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.687+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.687+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.687+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.688+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.688+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.688+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.688+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.689+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.689+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.689+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.689+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.689+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.690+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.690+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-02-11T16:02:34.691+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-02-11T16:02:34.694+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.694+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.695+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.695+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.695+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.695+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.695+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-02-11T16:02:34.696+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-02-11T16:02:34.698+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.699+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.699+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.700+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.700+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.700+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.701+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.701+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.701+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.701+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.701+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.702+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.702+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.702+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.702+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.702+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.703+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.703+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-02-11T16:02:34.704+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-02-11T16:02:34.707+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.707+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.707+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.707+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.708+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.708+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.708+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.709+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.709+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.709+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.709+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.710+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.711+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-02-11T16:02:34.712+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-02-11T16:02:34.715+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:02:34.715+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:02:34.715+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:02:34.716+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:02:34.716+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:02:34.716+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:02:34.717+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:02:34.717+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:02:34.717+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:02:34.717+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:02:34.717+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:02:34.718+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:02:34.718+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:02:34.718+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:02:34.718+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:02:34.718+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:02:34.719+01:00 DEBUG 39394 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:02:34.719+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-02-11T16:02:34.720+01:00  INFO 39394 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-02-11T16:08:22.535+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Starting DatabaseStructureTests using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:22.536+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : The following 1 profile is active: "test"
2025-02-11T16:08:23.322+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:23.418+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:24.100+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:24.157+01:00  INFO 41216 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-02-11T16:08:24.200+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:24.539+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:24.569+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-11T16:08:24.768+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:08:24.770+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-11T16:08:24.797+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:25.950+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:25.963+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:25.967+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:25.967+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:25.967+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:25.967+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:25.968+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:25.968+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:25.968+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:25.969+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:25.969+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:25.969+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:25.970+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:25.970+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:25.971+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:25.971+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:25.972+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:25.976+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:25.986+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:25.987+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:25.989+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:25.991+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:25.992+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:25.993+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:25.995+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:25.997+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:25.998+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:26.000+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:26.002+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:26.004+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:26.005+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:26.007+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:26.009+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:26.012+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:26.024+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:26.025+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:26.027+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:26.028+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:26.030+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:26.032+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:26.033+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:26.035+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:26.036+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:26.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:26.039+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:26.040+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:26.042+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:26.043+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:26.045+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:26.046+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:26.048+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:26.052+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:26.576+01:00  INFO 41216 --- [librairie-online] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-11T16:08:27.076+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:27.077+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:27.943+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:08:28.027+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Started DatabaseStructureTests in 6.08 seconds (process running for 7.233)
2025-02-11T16:08:28.654+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.repository.FournisseurRepositoryTest]: FournisseurRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:28.687+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.repository.FournisseurRepositoryTest
2025-02-11T16:08:28.701+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:28.743+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Starting FournisseurRepositoryTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:28.743+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : The following 1 profile is active: "test"
2025-02-11T16:08:28.855+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:28.890+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:28.928+01:00  INFO 41216 --- [librairie-online] [main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-02-11T16:08:28.963+01:00  INFO 41216 --- [librairie-online] [main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:8b183d2d-5039-4ff0-8316-3e10a6b58550;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-02-11T16:08:29.004+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:29.006+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:29.014+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:29.016+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:29.271+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:29.272+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:29.273+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:29.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:29.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:29.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:29.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:29.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:29.275+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:29.275+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:29.275+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:29.275+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:29.276+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:29.276+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:29.276+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:29.276+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:29.277+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:29.277+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:29.279+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:29.281+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:29.283+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:29.285+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:29.286+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:29.287+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:29.288+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:29.289+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:29.290+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:29.291+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:29.291+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:29.292+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:29.293+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:29.294+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:29.296+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:29.297+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:29.299+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:29.300+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:29.301+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:29.303+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:29.304+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:29.305+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:29.307+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:29.308+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:29.309+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:29.310+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:29.312+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:29.313+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:29.314+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:29.315+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:29.316+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:29.318+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:29.319+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:29.320+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:29.519+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Started FournisseurRepositoryTest in 0.821 seconds (process running for 8.725)
2025-02-11T16:08:29.588+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.622+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.624+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.692+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:08:29.698+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:08:29.701+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0
2025-02-11T16:08:29.711+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.729+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.740+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:29.750+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.LibrairieOnlineApplicationTests]: LibrairieOnlineApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:29.753+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.LibrairieOnlineApplicationTests
2025-02-11T16:08:29.763+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:29.788+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Starting LibrairieOnlineApplicationTests using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:29.789+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : The following 1 profile is active: "test"
2025-02-11T16:08:29.968+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:30.004+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:30.107+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:30.111+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:30.119+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:30.120+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-02-11T16:08:30.122+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn19: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:08:30.122+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-02-11T16:08:30.123+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:30.366+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:30.366+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:30.370+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:30.373+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:30.374+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:30.376+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:30.378+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:30.379+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:30.380+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:30.381+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:30.382+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:30.383+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:30.384+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:30.385+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:30.389+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:30.390+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:30.391+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:30.392+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:30.394+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:30.395+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:30.397+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:30.398+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:30.400+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:30.401+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:30.403+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:30.405+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:30.406+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:30.408+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:30.409+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:30.410+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:30.411+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:30.412+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:30.413+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:30.415+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:30.417+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:30.419+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:30.420+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:30.422+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:30.423+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:30.425+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:30.427+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:30.428+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:30.430+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:30.432+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:30.433+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:30.434+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:30.436+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:30.438+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:30.454+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:30.455+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:30.457+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:30.458+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:30.580+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:30.580+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:30.898+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:08:30.943+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Started LibrairieOnlineApplicationTests in 1.183 seconds (process running for 10.149)
2025-02-11T16:08:31.667+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.JwtServiceTest]: JwtServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:31.793+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.JwtServiceTest
2025-02-11T16:08:31.810+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:31.879+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.security.JwtServiceTest            : Starting JwtServiceTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:31.880+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.security.JwtServiceTest            : No active profile set, falling back to 1 default profile: "default"
2025-02-11T16:08:32.270+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:32.313+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:32.658+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:32.662+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:32.679+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:32.681+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-02-11T16:08:33.228+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26e66e13
2025-02-11T16:08:33.229+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-02-11T16:08:33.670+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:33.728+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:34.109+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:34.109+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:34.614+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.security.JwtServiceTest            : Started JwtServiceTest in 2.813 seconds (process running for 13.82)
2025-02-11T16:08:34.887+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteMControllerIntegrationTest]: NoteMControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:34.912+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteMControllerIntegrationTest
2025-02-11T16:08:34.918+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:34.950+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:34.950+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-02-11T16:08:35.158+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:35.177+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:35.345+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:35.347+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:35.356+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:35.357+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-02-11T16:08:35.360+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn29: url=jdbc:h2:mem:testdbNoteM user=SA
2025-02-11T16:08:35.361+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-02-11T16:08:35.362+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:35.701+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:35.701+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:35.702+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:35.702+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:35.702+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:35.702+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:35.703+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:35.703+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:35.703+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:35.703+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:35.704+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:35.704+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:35.704+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:35.705+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:35.705+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:35.705+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:35.705+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:35.706+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:35.708+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:35.710+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:35.711+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:35.713+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:35.715+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:35.717+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:35.720+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:35.722+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:35.724+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:35.726+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:35.728+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:35.730+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:35.732+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:35.734+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:35.735+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:35.737+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:35.739+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:35.741+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:35.744+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:35.746+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:35.748+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:35.750+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:35.752+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:35.753+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:35.755+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:35.757+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:35.759+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:35.761+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:35.763+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:35.765+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:35.767+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:35.769+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:35.771+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:35.774+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:35.934+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:35.934+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:36.233+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-02-11T16:08:36.296+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:36.297+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:36.298+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:36.308+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 1.392 seconds (process running for 15.514)
2025-02-11T16:08:36.327+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:08:36.336+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:36.343+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:36.346+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:36.349+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:36.369+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.375+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.386+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.393+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:36.457+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@3e1
2025-02-11T16:08:36.460+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.472+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@65f37227
2025-02-11T16:08:36.472+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Suppression de la note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@3e1
2025-02-11T16:08:36.529+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteM nm1_0 where nm1_0.nadherent=? and nm1_0.nSerie=?
2025-02-11T16:08:36.537+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:08:36.548+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note supprime avec succs.
2025-02-11T16:08:36.597+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:08:36.601+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:36.602+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:36.606+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:36.609+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:36.612+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:36.615+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:36.616+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:36.618+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:36.621+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.624+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.627+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.629+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:36.633+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Rcupration de toutes les notes de mangas.
2025-02-11T16:08:36.635+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:08:36.638+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:36.642+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:36.644+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Nombre total de notes rcupres: 1
2025-02-11T16:08:36.721+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:08:36.722+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:36.724+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:36.726+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:08:36.729+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:36.730+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:36.732+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:36.734+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:36.736+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:36.739+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:36.741+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:36.743+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:36.745+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.748+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.750+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.752+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:36.804+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:08:36.806+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.808+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@2319092a
2025-02-11T16:08:36.808+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Mise  jour de la note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:08:36.808+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:08:36.809+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.811+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@37b28f77
2025-02-11T16:08:36.812+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.822+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : update NoteM set date=?,valeur=? where nSerie=? and nadherent=?
2025-02-11T16:08:36.828+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note mise  jour avec succs: com.example.librairie_online.entity.NoteM@1af916cc
2025-02-11T16:08:36.845+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:08:36.847+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:36.851+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:36.854+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:08:36.859+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:36.859+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:36.861+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:36.864+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:36.867+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:36.869+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:36.871+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:36.873+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:36.874+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.876+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:36.880+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Cration d'une nouvelle note pour un manga: com.example.librairie_online.entity.NoteM@2fcebe26
2025-02-11T16:08:36.881+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 4
2025-02-11T16:08:36.882+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:36.883+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@396be6e6
2025-02-11T16:08:36.883+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 4
2025-02-11T16:08:36.884+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:36.887+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@19199df
2025-02-11T16:08:36.888+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:08:36.891+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:36.892+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note enregistre avec succs: com.example.librairie_online.entity.NoteM@587f24d8
2025-02-11T16:08:36.896+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteM nm1_0
2025-02-11T16:08:36.908+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteAControllerIntegrationTest]: NoteAControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:36.913+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteAControllerIntegrationTest
2025-02-11T16:08:36.923+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:36.945+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Starting NoteAControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:36.945+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : The following 1 profile is active: "testNoteA"
2025-02-11T16:08:37.135+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:37.158+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:37.264+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:37.266+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:37.275+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:37.276+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-02-11T16:08:37.278+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn39: url=jdbc:h2:mem:testdbNoteA user=SA
2025-02-11T16:08:37.278+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-02-11T16:08:37.279+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:37.540+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:37.541+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:37.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:37.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:37.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:37.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:37.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:37.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:37.544+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:37.544+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:37.544+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:37.544+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:37.545+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:37.546+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:37.547+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:37.549+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:37.551+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:37.552+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:37.553+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:37.554+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:37.555+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:37.557+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:37.559+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:37.560+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:37.561+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:37.563+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:37.564+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:37.565+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:37.565+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:37.567+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:37.568+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:37.570+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:37.572+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:37.576+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:37.577+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:37.579+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:37.581+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:37.582+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:37.584+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:37.585+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:37.586+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:37.588+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:37.589+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:37.591+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:37.592+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:37.593+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:37.595+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:37.704+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:37.705+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:37.940+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteA'
2025-02-11T16:08:37.960+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:37.960+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:37.961+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:37.969+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Started NoteAControllerIntegrationTest in 1.049 seconds (process running for 17.174)
2025-02-11T16:08:37.978+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:08:37.985+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:37.989+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:37.992+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:37.993+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:37.995+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:37.998+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:38.004+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.007+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:38.011+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:08:38.012+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.015+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@5b555e90
2025-02-11T16:08:38.015+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Suppression de la note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:08:38.020+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteA na1_0 where na1_0.nSerie=? and na1_0.nadherent=?
2025-02-11T16:08:38.022+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.025+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:08:38.026+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note supprime avec succs.
2025-02-11T16:08:38.030+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:08:38.032+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.032+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Aucune note trouve avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:08:38.044+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:08:38.046+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:38.048+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:38.050+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:38.053+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:38.055+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:38.057+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:38.058+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:38.060+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:38.062+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:38.064+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:38.065+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.068+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:38.071+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Rcupration de toutes les notes.
2025-02-11T16:08:38.073+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:08:38.074+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:38.075+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:38.077+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Nombre total de notes rcupres: 1
2025-02-11T16:08:38.092+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:08:38.092+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:38.093+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:38.095+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:08:38.098+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:38.099+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:38.101+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:38.103+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:38.105+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:38.107+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:38.108+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:38.110+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:38.112+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:38.114+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:38.115+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.118+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:08:38.128+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:08:38.129+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.131+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@3a465e1d
2025-02-11T16:08:38.132+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Mise  jour de la note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:08:38.132+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:08:38.133+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.134+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@2f95761e
2025-02-11T16:08:38.135+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:08:38.137+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : update NoteA set date=?,valeur=? where nSerie=? and nadherent=?
2025-02-11T16:08:38.138+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note mise  jour avec succs: com.example.librairie_online.entity.NoteA@5daf7fea
2025-02-11T16:08:38.148+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:08:38.149+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:38.151+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:38.154+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:08:38.156+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:38.157+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:38.158+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:38.162+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:38.163+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:38.164+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:38.166+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:38.167+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:38.170+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:38.173+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:38.180+01:00  WARN 41216 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-02-11T16:08:38.197+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClientControllerIntegrationTest]: ClientControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:38.202+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClientControllerIntegrationTest
2025-02-11T16:08:38.209+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:38.230+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Starting ClientControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:38.230+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : The following 1 profile is active: "test"
2025-02-11T16:08:38.392+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:38.412+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:38.499+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:38.500+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:38.509+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:38.510+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-02-11T16:08:38.511+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn49: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:08:38.511+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-02-11T16:08:38.512+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:38.757+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:38.758+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:38.759+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:38.760+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:38.761+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:38.762+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:38.763+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:38.763+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:38.764+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:38.764+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:38.764+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:38.765+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:38.765+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:38.766+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:38.766+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:38.767+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:38.767+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:38.768+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:38.769+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:38.770+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:38.771+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:38.771+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:38.772+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:38.773+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:38.773+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:38.774+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:38.775+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:38.776+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:38.776+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:38.777+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:38.778+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:38.779+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:38.792+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:38.793+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:38.795+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:38.796+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:38.797+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:38.799+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:38.800+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:38.801+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:38.803+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:38.804+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:38.805+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:38.807+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:38.808+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:38.809+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:38.811+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:38.813+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:38.814+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:38.815+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:38.817+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:38.818+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:38.975+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:38.975+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:39.202+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:08:39.223+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:39.223+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:39.224+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:39.231+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Started ClientControllerIntegrationTest in 1.025 seconds (process running for 18.437)
2025-02-11T16:08:39.239+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:39.242+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:39.245+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:39.249+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.255+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Rcupration de tous les clients.
2025-02-11T16:08:39.256+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:39.257+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:39.259+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Nombre total de clients rcuprs: 1
2025-02-11T16:08:39.273+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:39.273+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:39.274+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:39.277+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:39.279+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:39.281+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:39.283+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.291+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 2
2025-02-11T16:08:39.292+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.294+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@58105ba0
2025-02-11T16:08:39.294+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Mise  jour du client avec l'ID: 2
2025-02-11T16:08:39.294+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 2
2025-02-11T16:08:39.295+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.296+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@3031bd04
2025-02-11T16:08:39.297+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.299+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : update Client set active=?,age=?,date_adhesion=?,date_naissance=?,email=?,nom=?,password=?,prenom=?,roleId=?,sexe=? where nAdherent=?
2025-02-11T16:08:39.301+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client mis  jour avec succs: com.example.librairie_online.entity.Client@70250edd
2025-02-11T16:08:39.313+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:39.314+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:39.317+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:39.319+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:39.320+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:39.321+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:39.323+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.328+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 3
2025-02-11T16:08:39.329+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.331+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@9831fa9
2025-02-11T16:08:39.331+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Suppression du client avec l'ID: 3
2025-02-11T16:08:39.334+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Client c1_0 where c1_0.nAdherent=?
2025-02-11T16:08:39.335+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.337+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:39.337+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client supprim avec succs.
2025-02-11T16:08:39.340+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 3
2025-02-11T16:08:39.340+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:39.341+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Aucun client trouv avec l'ID: 3
2025-02-11T16:08:39.348+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:39.350+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:39.351+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:39.356+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Cration d'un nouveau client: com.example.librairie_online.entity.Client@5710ee86
2025-02-11T16:08:39.429+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent from Client c1_0 where c1_0.email=? fetch first ? rows only
2025-02-11T16:08:39.435+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.role=?
2025-02-11T16:08:39.436+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER introuvable, cration en cours...
2025-02-11T16:08:39.436+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:39.437+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER cr: com.example.librairie_online.entity.Role@1544a1c3
2025-02-11T16:08:39.549+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.551+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client cr avec succs: com.example.librairie_online.entity.Client@5710ee86
2025-02-11T16:08:39.551+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ValidationService          : Cration d'une nouvelle validation pour le client: Doe.Jonh@exemple.com
2025-02-11T16:08:39.551+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NotificationServices       : Prparation de l'e-mail pour Doe.Jonh@exemple.com
2025-02-11T16:08:39.707+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.NotificationServices       : E-mail envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:08:39.707+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ValidationService          : E-mail de validation envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:08:39.709+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Validation (Activation_instant,ClientId,code,Creation_instant,Expire_instant,id) values (?,?,?,?,?,?)
2025-02-11T16:08:39.719+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ValidationService          : Validation enregistre avec succs: com.example.librairie_online.entity.Validation@766ad386
2025-02-11T16:08:39.720+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Validation cre pour le client: com.example.librairie_online.entity.Validation@766ad386
2025-02-11T16:08:39.729+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClasseControllerIntegrationTest]: ClasseControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:39.731+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClasseControllerIntegrationTest
2025-02-11T16:08:39.744+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:08:39.746+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:39.749+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:08:39.752+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.756+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.757+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:08:39.762+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.764+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.765+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:39.767+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:08:39.771+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Rcupration de toutes les classes.
2025-02-11T16:08:39.773+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:08:39.774+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.775+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:39.776+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Nombre total de classes rcupres: 1
2025-02-11T16:08:39.792+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:08:39.793+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.794+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:39.795+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:08:39.798+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:39.800+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:39.803+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:08:39.804+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:08:39.806+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.808+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.809+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:08:39.811+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.813+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:08:39.823+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Recherche d'une classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:08:39.824+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.827+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe trouve: com.example.librairie_online.entity.Classe@26385ac2
2025-02-11T16:08:39.827+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Suppression de la classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:08:39.836+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0 where c1_0.nSerie=? and c1_0.type=?
2025-02-11T16:08:39.839+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:08:39.841+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe supprime avec succs.
2025-02-11T16:08:39.846+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Recherche d'une classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:08:39.847+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.848+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Aucune classe trouve avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:08:39.857+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:08:39.860+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:39.861+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:39.863+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:08:39.864+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:08:39.866+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:39.868+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.869+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:08:39.875+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Cration d'une nouvelle classe: com.example.librairie_online.entity.Classe@4e119850
2025-02-11T16:08:39.875+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:08:39.876+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:39.877+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@4d7d47f3
2025-02-11T16:08:39.878+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.GenreService               : Recherche d'un genre avec l'ID: Action
2025-02-11T16:08:39.879+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:08:39.880+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.GenreService               : Genre trouv: com.example.librairie_online.entity.Genre@21fe8a00
2025-02-11T16:08:39.881+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:08:39.882+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:08:39.883+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe cre avec succs: com.example.librairie_online.entity.Classe@640a4ac1
2025-02-11T16:08:39.887+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-02-11T16:08:39.987+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:39.987+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:39.987+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.015+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.015+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.015+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.029+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.030+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.030+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.044+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.045+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.045+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.065+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.065+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.066+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.078+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.078+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.078+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.092+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.092+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.093+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:40.104+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.105+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.105+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.191+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.191+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.191+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.202+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.202+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.202+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.210+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.210+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.210+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.248+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.248+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.248+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.292+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.292+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.292+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.307+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.307+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.307+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.318+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.318+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.318+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.328+01:00  INFO 41216 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:40.328+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:40.328+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:40.337+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AnimeControllerIntegrationTest]: AnimeControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:40.339+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AnimeControllerIntegrationTest
2025-02-11T16:08:40.348+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:40.370+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Starting AnimeControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:40.370+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : The following 1 profile is active: "testAnime"
2025-02-11T16:08:40.530+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:40.550+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:40.643+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:40.644+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:40.651+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:40.652+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-02-11T16:08:40.654+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn59: url=jdbc:h2:mem:testdbAnime user=SA
2025-02-11T16:08:40.654+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-02-11T16:08:40.655+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:40.839+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:40.840+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:40.841+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:40.842+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:40.842+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:40.843+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:40.844+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:40.845+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:40.845+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:40.846+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:40.846+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:40.847+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:40.847+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:40.848+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:40.848+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:40.849+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:40.850+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:40.850+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:40.851+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:40.851+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:40.852+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:40.853+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:40.854+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:40.855+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:40.856+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:40.856+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:40.857+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:40.858+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:40.858+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:40.859+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:40.860+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:40.861+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:40.862+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:40.862+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:40.863+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:40.864+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:40.865+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:40.866+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:40.995+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:40.996+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:41.277+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAnime'
2025-02-11T16:08:41.327+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:41.327+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:41.328+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:41.338+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Started AnimeControllerIntegrationTest in 0.994 seconds (process running for 20.544)
2025-02-11T16:08:41.350+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:41.354+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:41.357+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:08:41.359+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:41.362+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.363+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:08:41.370+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.371+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:41.376+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 1
2025-02-11T16:08:41.377+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.379+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@cc83360
2025-02-11T16:08:41.379+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Suppression de l'anime avec l'ID: 1
2025-02-11T16:08:41.382+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Anime a1_0 where a1_0.nSerie=?
2025-02-11T16:08:41.384+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.386+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:41.387+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime supprim avec succs.
2025-02-11T16:08:41.393+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 1
2025-02-11T16:08:41.393+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.394+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Aucun anime trouv avec l'ID: 1
2025-02-11T16:08:41.401+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:41.406+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:41.408+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:41.410+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:08:41.412+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:08:41.413+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:41.415+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.416+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:08:41.417+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.418+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:41.420+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Rcupration de tous les animes.
2025-02-11T16:08:41.422+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:41.422+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:41.424+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.425+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Nombre total d'animes rcuprs: 1
2025-02-11T16:08:41.437+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:41.438+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:41.439+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.441+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:41.443+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:41.445+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:41.446+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:08:41.447+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:08:41.449+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:41.451+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.451+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:08:41.452+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.453+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:41.461+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:08:41.461+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.463+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@2d72c53d
2025-02-11T16:08:41.463+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Mise  jour de l'anime avec l'ID: 3
2025-02-11T16:08:41.463+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:08:41.463+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.464+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@7eeb1661
2025-02-11T16:08:41.465+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:08:41.466+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : update Anime set date=?,nSerieM=?,nom=?,nomStudio=? where nSerie=?
2025-02-11T16:08:41.468+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime mis  jour avec succs: com.example.librairie_online.entity.Anime@7dd25ac5
2025-02-11T16:08:41.475+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:41.476+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:41.477+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.478+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:08:41.480+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:41.483+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:41.485+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:08:41.486+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:08:41.488+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:41.489+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.490+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:08:41.493+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Cration d'un nouvel anime: com.example.librairie_online.entity.Anime@1a48ab39
2025-02-11T16:08:41.498+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie from Anime a1_0 where a1_0.nom=? and a1_0.date=? and a1_0.nSerieM=? and a1_0.nomStudio=? fetch first ? rows only
2025-02-11T16:08:41.501+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:08:41.502+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:41.502+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime cr avec succs: com.example.librairie_online.entity.Anime@1a48ab39
2025-02-11T16:08:41.510+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.MangaControllerIntegrationTest]: MangaControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:41.513+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.MangaControllerIntegrationTest
2025-02-11T16:08:41.521+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:41.546+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Starting MangaControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:41.546+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : The following 1 profile is active: "testManga"
2025-02-11T16:08:41.713+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:41.728+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:41.820+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:41.821+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:41.828+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:41.828+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-02-11T16:08:41.831+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn69: url=jdbc:h2:mem:testdbManga user=SA
2025-02-11T16:08:41.831+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-02-11T16:08:41.831+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:42.036+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:42.037+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:42.038+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:42.039+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:42.041+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:42.042+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:42.042+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:42.043+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:42.044+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:42.045+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:42.045+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:42.046+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:42.047+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:42.047+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:42.048+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:42.049+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:42.049+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:42.050+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:42.050+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:42.051+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:42.053+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:42.054+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:42.054+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:42.055+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:42.056+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:42.057+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:42.057+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:42.058+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:42.058+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:42.059+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:42.059+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:42.060+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:42.061+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:42.063+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:42.065+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:42.066+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:42.068+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:42.069+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:42.145+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:42.145+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:42.347+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbManga'
2025-02-11T16:08:42.366+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:42.366+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:42.367+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:08:42.373+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Started MangaControllerIntegrationTest in 0.855 seconds (process running for 21.579)
2025-02-11T16:08:42.380+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.384+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.386+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.394+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 1
2025-02-11T16:08:42.396+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.397+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@653b17be
2025-02-11T16:08:42.397+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Suppression du manga avec l'ID: 1
2025-02-11T16:08:42.400+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Manga m1_0 where m1_0.nserie=?
2025-02-11T16:08:42.402+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.403+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:42.403+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga supprim avec succs.
2025-02-11T16:08:42.405+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.412+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.413+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.414+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.418+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Rcupration de tous les mangas.
2025-02-11T16:08:42.420+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.421+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Nombre total de mangas rcuprs: 1
2025-02-11T16:08:42.439+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.440+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:42.442+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.443+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.452+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:08:42.453+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.454+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@7225ecc9
2025-02-11T16:08:42.454+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Mise  jour du manga avec l'ID: 3
2025-02-11T16:08:42.454+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:08:42.454+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.455+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@7f927526
2025-02-11T16:08:42.455+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.457+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:42.459+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:08:42.460+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:08:42.461+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Mangaka (nationalite,sexe,nom,prenom) values (?,?,?,?)
2025-02-11T16:08:42.463+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.465+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga mis  jour avec succs: com.example.librairie_online.entity.Manga@6948f680
2025-02-11T16:08:42.475+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.476+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:42.476+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:08:42.477+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:42.478+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:42.481+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Cration d'un nouveau manga: com.example.librairie_online.entity.Manga@6a4de574
2025-02-11T16:08:42.483+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie from Manga m1_0 where m1_0.nom=? and m1_0.date_parution=? and m1_0.tome=? fetch first ? rows only
2025-02-11T16:08:42.485+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.486+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:42.487+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:08:42.487+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Mangaka (nationalite,sexe,nom,prenom) values (?,?,?,?)
2025-02-11T16:08:42.488+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.490+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga cr avec succs: com.example.librairie_online.entity.Manga@6d60cb5d
2025-02-11T16:08:42.497+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:42.498+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:08:42.499+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:08:42.501+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:42.502+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.503+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.506+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 6
2025-02-11T16:08:42.508+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:42.508+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@3cdaeefd
2025-02-11T16:08:42.517+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.LoueControllerIntegrationTest]: LoueControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:42.520+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.LoueControllerIntegrationTest
2025-02-11T16:08:42.532+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:08:42.534+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:42.535+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:42.538+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:42.541+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:42.542+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:42.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.545+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:42.547+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:08:42.554+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 1
2025-02-11T16:08:42.555+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@6e8182c4
2025-02-11T16:08:42.555+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Mise  jour de la location avec l'ID: 1
2025-02-11T16:08:42.555+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 1
2025-02-11T16:08:42.555+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@6e8182c4
2025-02-11T16:08:42.556+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location mise  jour avec succs: com.example.librairie_online.entity.Loue@6e8182c4
2025-02-11T16:08:42.569+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:08:42.571+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:42.572+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:42.575+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:42.577+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:42.578+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:42.579+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.580+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:42.581+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:08:42.583+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Rcupration de toutes les locations.
2025-02-11T16:08:42.585+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:08:42.585+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Nombre total de locations rcupres: 1
2025-02-11T16:08:42.594+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:08:42.596+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:42.597+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:42.600+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:42.602+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:42.605+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:42.606+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.608+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:42.610+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Cration d'une nouvelle location: com.example.librairie_online.entity.Loue@5a7ffa4c
2025-02-11T16:08:42.610+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:08:42.611+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@2a691c92
2025-02-11T16:08:42.611+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 7
2025-02-11T16:08:42.611+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@1254be3a
2025-02-11T16:08:42.611+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:08:42.612+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location cre avec succs: com.example.librairie_online.entity.Loue@5a7ffa4c
2025-02-11T16:08:42.612+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Cration d'une nouvelle location: com.example.librairie_online.entity.Loue@5a7ffa4c
2025-02-11T16:08:42.612+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:08:42.612+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@2a691c92
2025-02-11T16:08:42.612+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 7
2025-02-11T16:08:42.613+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@1254be3a
2025-02-11T16:08:42.613+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location cre avec succs: com.example.librairie_online.entity.Loue@5a7ffa4c
2025-02-11T16:08:42.617+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Loue l1_0
2025-02-11T16:08:42.625+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:08:42.627+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:42.627+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:42.630+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:08:42.631+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:42.633+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:42.634+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:42.635+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:08:42.636+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:08:42.641+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 4
2025-02-11T16:08:42.641+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@6519c4f4
2025-02-11T16:08:42.641+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Suppression de la location avec l'ID: 4
2025-02-11T16:08:42.647+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Loue l1_0 where l1_0.id=?
2025-02-11T16:08:42.648+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Location supprime avec succs.
2025-02-11T16:08:42.651+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 4
2025-02-11T16:08:42.652+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.LoueService                : Aucune location trouve avec l'ID: 4
2025-02-11T16:08:42.659+01:00  INFO 41216 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AcheteControllerIntegrationTest]: AcheteControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:08:42.661+01:00  INFO 41216 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AcheteControllerIntegrationTest
2025-02-11T16:08:42.668+01:00  INFO 41216 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:08:42.685+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Starting AcheteControllerIntegrationTest using Java 22.0.2 with PID 41216 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:08:42.685+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : The following 1 profile is active: "testAchete"
2025-02-11T16:08:42.878+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:08:42.899+01:00  INFO 41216 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 15 JPA repository interfaces.
2025-02-11T16:08:43.009+01:00  INFO 41216 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:08:43.012+01:00  INFO 41216 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:08:43.024+01:00  INFO 41216 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:08:43.026+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-02-11T16:08:43.029+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn79: url=jdbc:h2:mem:testdbAchete user=SA
2025-02-11T16:08:43.030+01:00  INFO 41216 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-02-11T16:08:43.030+01:00  WARN 41216 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:08:43.224+01:00  INFO 41216 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:43.225+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:43.226+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:43.227+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:08:43.228+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:08:43.230+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:08:43.231+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:08:43.233+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:08:43.233+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:08:43.234+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:08:43.235+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:08:43.236+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:08:43.236+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:08:43.237+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:08:43.238+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:43.239+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:08:43.239+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:08:43.241+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:08:43.242+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:08:43.243+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:08:43.245+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:08:43.246+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:08:43.247+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:08:43.249+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:08:43.250+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:08:43.251+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:08:43.252+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:08:43.253+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:08:43.254+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:08:43.255+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:08:43.256+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:08:43.257+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:08:43.258+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:08:43.259+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:08:43.260+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:08:43.261+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:08:43.262+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:08:43.264+01:00  INFO 41216 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:43.343+01:00  INFO 41216 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:08:43.343+01:00  WARN 41216 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:08:43.514+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAchete'
2025-02-11T16:08:43.530+01:00  INFO 41216 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:08:43.530+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:08:43.530+01:00  INFO 41216 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:08:43.536+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Started AcheteControllerIntegrationTest in 0.87 seconds (process running for 22.742)
2025-02-11T16:08:43.543+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:08:43.546+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:43.549+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:43.551+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:43.552+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:43.554+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.556+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.558+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:08:43.570+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 1
2025-02-11T16:08:43.571+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.573+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@18e2812b
2025-02-11T16:08:43.573+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Mise  jour de l'achat avec ID: 1
2025-02-11T16:08:43.573+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 1
2025-02-11T16:08:43.573+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.574+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@233f26ac
2025-02-11T16:08:43.576+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.577+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : update Achete set nAdherent=?,date=?,nSerie=?,prix=? where id=?
2025-02-11T16:08:43.578+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat mis  jour avec succs: com.example.librairie_online.entity.Achete@cded8c5
2025-02-11T16:08:43.597+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:08:43.597+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:43.598+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:43.600+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:08:43.604+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:43.604+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:43.606+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:43.608+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:43.609+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:43.610+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:43.611+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:43.612+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:43.613+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.615+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.616+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:08:43.618+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 2
2025-02-11T16:08:43.619+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.620+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@2996eeee
2025-02-11T16:08:43.621+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Suppression de l'achat avec ID: 2
2025-02-11T16:08:43.624+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Achete a1_0 where a1_0.id=?
2025-02-11T16:08:43.625+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.626+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:08:43.627+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat supprim avec succs.
2025-02-11T16:08:43.629+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 2
2025-02-11T16:08:43.630+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:08:43.630+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Aucun achat trouv avec l'ID: 2
2025-02-11T16:08:43.636+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:08:43.638+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:43.639+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:43.640+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:43.644+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:43.645+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:43.647+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:43.648+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:43.649+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:43.650+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.652+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.653+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:08:43.656+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Rcupration de tous les achats.
2025-02-11T16:08:43.657+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:08:43.658+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:43.659+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:43.660+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Nombre total d'achats rcuprs: 1
2025-02-11T16:08:43.668+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:08:43.669+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:43.670+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:43.672+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:08:43.674+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:08:43.675+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:08:43.676+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:08:43.679+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:08:43.681+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:08:43.682+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:08:43.683+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:08:43.684+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:08:43.686+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.687+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:08:43.695+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Cration d'un achat: com.example.librairie_online.dto.AcheteDTO@e8e4c33
2025-02-11T16:08:43.695+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 4
2025-02-11T16:08:43.696+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:08:43.698+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@4469bbff
2025-02-11T16:08:43.698+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 4
2025-02-11T16:08:43.699+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:08:43.700+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@1e8691a9
2025-02-11T16:08:43.701+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:08:43.702+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat cr avec succs: com.example.librairie_online.entity.Achete@72d49cdc
2025-02-11T16:08:43.706+01:00 DEBUG 41216 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Achete a1_0
2025-02-11T16:08:43.822+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Rcupration de tous les mangakas.
2025-02-11T16:08:43.823+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Nombre total de mangakas rcuprs: 1
2025-02-11T16:08:43.826+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:08:43.826+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Aucun mangaka trouv avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:08:43.830+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Cration d'un nouveau mangaka: com.example.librairie_online.entity.Mangaka@49006b68
2025-02-11T16:08:43.830+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka cr avec succs: com.example.librairie_online.entity.Mangaka@49006b68
2025-02-11T16:08:43.835+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mise  jour du mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:08:43.835+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:08:43.835+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@3af0dbc6
2025-02-11T16:08:43.835+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka mis  jour avec succs: com.example.librairie_online.entity.Mangaka@3af0dbc6
2025-02-11T16:08:43.839+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:08:43.840+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@3a4f8b23
2025-02-11T16:08:43.978+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Rcupration de tous les fournisseurs.
2025-02-11T16:08:43.978+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Nombre total de fournisseurs rcuprs: 1
2025-02-11T16:08:43.981+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:08:43.982+01:00  WARN 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Aucun fournisseur trouv avec l'ID: 1
2025-02-11T16:08:43.985+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Cration d'un nouveau fournisseur: com.example.librairie_online.entity.Fournisseur@48195e21
2025-02-11T16:08:43.985+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur cr avec succs: com.example.librairie_online.entity.Fournisseur@48195e21
2025-02-11T16:08:43.990+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Mise  jour du fournisseur avec l'ID: 1
2025-02-11T16:08:43.990+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:08:43.990+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@5fdb3e1f
2025-02-11T16:08:43.990+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur mis  jour avec succs: com.example.librairie_online.entity.Fournisseur@5fdb3e1f
2025-02-11T16:08:43.993+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:08:43.994+01:00  INFO 41216 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@79c0d8e8
2025-02-11T16:08:44.019+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.020+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.020+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.022+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.022+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.023+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.024+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.024+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.025+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.025+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.026+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.026+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.026+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.028+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.028+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.029+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.029+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.033+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-11T16:08:44.035+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-11T16:08:44.037+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.037+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.039+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.040+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.040+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.041+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.041+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.042+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.042+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.043+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.043+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.044+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.044+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.044+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.045+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.046+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.046+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.051+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.051+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.052+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.053+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.053+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.053+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-02-11T16:08:44.054+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-02-11T16:08:44.058+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.059+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-02-11T16:08:44.100+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-02-11T16:08:44.103+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.103+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.104+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.105+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.105+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.106+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.106+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.107+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.107+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.107+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.108+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.108+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.108+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.109+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.109+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.109+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.109+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.110+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-02-11T16:08:44.112+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-02-11T16:08:44.116+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.116+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.117+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.117+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.117+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.117+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.118+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.118+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.118+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.118+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.118+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.119+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.119+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.119+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.119+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.120+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.120+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.121+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-02-11T16:08:44.121+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-02-11T16:08:44.124+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.124+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.125+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.125+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.125+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.125+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.125+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-02-11T16:08:44.126+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-02-11T16:08:44.129+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.129+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.130+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.131+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.131+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.131+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.132+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.132+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.132+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.132+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.133+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.133+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.133+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.133+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.134+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.134+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.134+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.135+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-02-11T16:08:44.135+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-02-11T16:08:44.138+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.138+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.139+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.139+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.140+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.140+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.141+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.141+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.141+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.142+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.142+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.142+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.142+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.143+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.143+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.143+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.143+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.144+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-02-11T16:08:44.145+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-02-11T16:08:44.148+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:08:44.148+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:08:44.149+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:08:44.149+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:08:44.150+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:08:44.150+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:08:44.150+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:08:44.151+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:08:44.151+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:08:44.151+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:08:44.151+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:08:44.152+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:08:44.152+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:08:44.152+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:08:44.152+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:08:44.153+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:08:44.153+01:00 DEBUG 41216 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:08:44.154+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-02-11T16:08:44.154+01:00  INFO 41216 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-02-11T16:27:32.595+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Starting DatabaseStructureTests using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:32.597+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : The following 1 profile is active: "test"
2025-02-11T16:27:33.329+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:33.418+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:33.948+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:34.033+01:00  INFO 45401 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-02-11T16:27:34.088+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:34.494+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:34.524+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-11T16:27:34.809+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:27:34.811+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-11T16:27:34.846+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:36.058+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:36.074+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:36.078+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:36.079+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:36.079+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:36.079+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:36.079+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:36.080+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:36.080+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:36.080+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:36.080+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:36.081+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:36.081+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:36.081+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:36.081+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:36.081+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:36.082+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:36.088+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:36.096+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:36.097+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:36.098+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:36.100+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:36.102+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:36.103+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:36.104+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:36.105+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:36.106+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:36.107+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:36.108+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:36.110+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:36.112+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:36.113+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:36.115+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:36.116+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:36.127+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:36.128+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:36.129+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:36.131+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:36.132+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:36.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:36.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:36.141+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:36.142+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:36.143+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:36.145+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:36.146+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:36.148+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:36.149+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:36.150+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:36.152+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:36.153+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:36.157+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:36.707+01:00  INFO 45401 --- [librairie-online] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-02-11T16:27:37.186+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:37.186+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:37.978+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:27:38.043+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.DatabaseStructureTests             : Started DatabaseStructureTests in 5.921 seconds (process running for 7.241)
2025-02-11T16:27:38.609+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.repository.FournisseurRepositoryTest]: FournisseurRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:38.646+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.repository.FournisseurRepositoryTest
2025-02-11T16:27:38.655+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:38.703+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Starting FournisseurRepositoryTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:38.704+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : The following 1 profile is active: "test"
2025-02-11T16:27:38.812+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:38.836+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:38.858+01:00  INFO 45401 --- [librairie-online] [main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-02-11T16:27:38.887+01:00  INFO 45401 --- [librairie-online] [main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:1d5cc98c-c4b7-4b10-9c5c-54f7ad2cde14;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-02-11T16:27:38.915+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:38.917+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:38.924+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:38.927+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:39.172+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:39.172+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:39.173+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:39.173+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:39.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:39.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:39.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:39.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:39.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:39.175+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:39.175+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:39.175+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:39.176+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:39.176+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:39.176+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:39.176+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:39.177+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:39.178+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:39.180+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:39.182+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:39.183+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:39.184+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:39.185+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:39.186+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:39.187+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:39.188+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:39.189+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:39.190+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:39.191+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:39.192+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:39.193+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:39.194+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:39.196+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:39.197+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:39.198+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:39.199+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:39.201+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:39.202+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:39.203+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:39.204+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:39.205+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:39.206+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:39.207+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:39.208+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:39.210+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:39.212+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:39.214+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:39.215+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:39.216+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:39.217+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:39.218+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:39.234+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:39.419+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.r.FournisseurRepositoryTest        : Started FournisseurRepositoryTest in 0.767 seconds (process running for 8.618)
2025-02-11T16:27:39.503+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.537+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.539+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.605+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:27:39.610+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:27:39.612+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0
2025-02-11T16:27:39.621+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.634+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.645+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:39.654+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.LibrairieOnlineApplicationTests]: LibrairieOnlineApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:39.656+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.LibrairieOnlineApplicationTests
2025-02-11T16:27:39.665+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:39.691+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Starting LibrairieOnlineApplicationTests using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:39.691+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : The following 1 profile is active: "test"
2025-02-11T16:27:39.864+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:39.884+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:39.989+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:39.991+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:40.005+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:40.005+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-02-11T16:27:40.006+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn19: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:27:40.006+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-02-11T16:27:40.007+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:40.241+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:40.242+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:40.248+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:40.249+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:40.250+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:40.251+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:40.252+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:40.253+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:40.253+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:40.254+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:40.254+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:40.255+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:40.255+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:40.256+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:40.256+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:40.257+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:40.257+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:40.258+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:40.259+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:40.260+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:40.261+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:40.263+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:40.264+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:40.265+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:40.266+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:40.268+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:40.269+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:40.270+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:40.271+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:40.272+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:40.272+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:40.274+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:40.274+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:40.275+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:40.277+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:40.278+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:40.280+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:40.281+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:40.283+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:40.284+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:40.285+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:40.287+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:40.288+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:40.289+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:40.290+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:40.291+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:40.292+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:40.293+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:40.294+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:40.295+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:40.297+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:40.299+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:40.420+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:40.420+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:40.680+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:27:40.712+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.LibrairieOnlineApplicationTests    : Started LibrairieOnlineApplicationTests in 1.051 seconds (process running for 9.911)
2025-02-11T16:27:41.325+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.ConfiguarationApplicationTest]: ConfiguarationApplicationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:41.374+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.ConfiguarationApplicationTest
2025-02-11T16:27:41.390+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:41.445+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.s.ConfiguarationApplicationTest    : Starting ConfiguarationApplicationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:41.445+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.s.ConfiguarationApplicationTest    : No active profile set, falling back to 1 default profile: "default"
2025-02-11T16:27:41.751+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:41.787+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:42.055+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:42.059+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:42.073+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:42.074+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-02-11T16:27:42.575+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d6ee83b
2025-02-11T16:27:42.576+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-02-11T16:27:43.031+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:43.093+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:43.301+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:43.301+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:43.772+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.s.ConfiguarationApplicationTest    : Started ConfiguarationApplicationTest in 2.39 seconds (process running for 12.971)
2025-02-11T16:27:43.786+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.security.JwtServiceTest]: JwtServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:43.789+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.security.JwtServiceTest
2025-02-11T16:27:44.152+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteMControllerIntegrationTest]: NoteMControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:44.184+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteMControllerIntegrationTest
2025-02-11T16:27:44.205+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:44.302+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Starting NoteMControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:44.302+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : The following 1 profile is active: "testNoteM"
2025-02-11T16:27:44.527+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:44.548+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:44.695+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:44.698+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:44.708+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:44.709+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-02-11T16:27:44.713+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn29: url=jdbc:h2:mem:testdbNoteM user=SA
2025-02-11T16:27:44.714+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-02-11T16:27:44.714+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:44.997+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:44.998+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:44.998+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:44.999+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:44.999+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:44.999+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:44.999+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:45.000+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:45.000+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:45.000+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:45.000+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:45.000+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:45.001+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:45.001+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:45.001+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:45.001+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:45.001+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:45.002+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:45.003+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:45.004+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:45.005+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:45.006+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:45.007+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:45.008+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:45.009+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:45.010+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:45.011+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:45.013+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:45.014+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:45.016+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:45.018+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:45.020+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:45.022+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:45.024+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:45.027+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:45.028+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:45.030+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:45.032+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:45.034+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:45.035+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:45.038+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:45.041+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:45.044+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:45.046+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:45.048+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:45.050+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:45.052+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:45.055+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:45.057+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:45.059+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:45.060+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:45.063+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:45.237+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:45.238+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:45.656+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteM'
2025-02-11T16:27:45.731+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:45.732+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:45.733+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:45.761+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteMControllerIntegrationTest   : Started NoteMControllerIntegrationTest in 1.566 seconds (process running for 14.959)
2025-02-11T16:27:45.784+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:27:45.795+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:45.801+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:45.803+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:45.809+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:45.833+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:45.838+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:45.848+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:45.853+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:45.915+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@3e1
2025-02-11T16:27:45.916+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:45.922+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@63aabbda
2025-02-11T16:27:45.923+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Suppression de la note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@3e1
2025-02-11T16:27:45.981+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteM nm1_0 where nm1_0.nSerie=? and nm1_0.nadherent=?
2025-02-11T16:27:45.988+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:45.995+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:27:45.998+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note supprime avec succs.
2025-02-11T16:27:46.041+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:27:46.044+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:46.046+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:46.048+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:46.051+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:46.053+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:46.055+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:46.058+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:46.059+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:46.062+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.064+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.067+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.071+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:46.075+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Rcupration de toutes les notes de mangas.
2025-02-11T16:27:46.076+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:27:46.078+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:46.079+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:46.083+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Nombre total de notes rcupres: 1
2025-02-11T16:27:46.165+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:27:46.166+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:46.167+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:46.168+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:27:46.171+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:46.172+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:46.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:46.176+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:46.178+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:46.180+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:46.181+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:46.182+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:46.183+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.185+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.187+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.188+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:46.234+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:27:46.235+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.236+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@597bc1c6
2025-02-11T16:27:46.236+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Mise  jour de la note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:27:46.237+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteM$NoteMId@421
2025-02-11T16:27:46.237+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.238+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note trouve: com.example.librairie_online.entity.NoteM@40589959
2025-02-11T16:27:46.239+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.245+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : update NoteM set date=?,valeur=? where nSerie=? and nadherent=?
2025-02-11T16:27:46.250+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note mise  jour avec succs: com.example.librairie_online.entity.NoteM@449d1ad
2025-02-11T16:27:46.260+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,nm1_0.date,nm1_0.valeur from NoteM nm1_0
2025-02-11T16:27:46.261+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:46.262+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:46.265+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteM where nSerie=? and nadherent=?
2025-02-11T16:27:46.267+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:46.268+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:46.270+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:46.273+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:46.275+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:46.277+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:46.278+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:46.280+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:46.282+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.285+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:46.288+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Cration d'une nouvelle note pour un manga: com.example.librairie_online.entity.NoteM@e958ef
2025-02-11T16:27:46.288+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 4
2025-02-11T16:27:46.289+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:46.291+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@652aac4c
2025-02-11T16:27:46.291+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 4
2025-02-11T16:27:46.292+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:46.293+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@396be6e6
2025-02-11T16:27:46.294+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select nm1_0.nSerie,nm1_0.nadherent,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,nm1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,nm1_0.valeur from NoteM nm1_0 left join Client c1_0 on c1_0.nAdherent=nm1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=nm1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (nm1_0.nSerie,nm1_0.nadherent) in ((?,?))
2025-02-11T16:27:46.296+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteM (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:46.297+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteMService               : Note enregistre avec succs: com.example.librairie_online.entity.NoteM@672b0f0a
2025-02-11T16:27:46.301+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteM nm1_0
2025-02-11T16:27:46.313+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.NoteAControllerIntegrationTest]: NoteAControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:46.316+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.NoteAControllerIntegrationTest
2025-02-11T16:27:46.323+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:46.350+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Starting NoteAControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:46.350+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : The following 1 profile is active: "testNoteA"
2025-02-11T16:27:46.535+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:46.552+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:46.653+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:46.655+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:46.667+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:46.668+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-02-11T16:27:46.671+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn39: url=jdbc:h2:mem:testdbNoteA user=SA
2025-02-11T16:27:46.671+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-02-11T16:27:46.672+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:46.896+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:46.896+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:46.896+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:46.896+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:46.897+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:46.898+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:46.898+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:46.898+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:46.898+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:46.898+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:46.899+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:46.900+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:46.901+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:46.903+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:46.903+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:46.904+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:46.904+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:46.905+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:46.906+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:46.906+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:46.907+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:46.908+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:46.908+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:46.909+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:46.910+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:46.910+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:46.911+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:46.912+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:46.913+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:46.914+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:46.915+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:46.916+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:46.917+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:46.917+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:46.918+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:46.919+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:46.920+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:46.921+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:46.921+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:46.922+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:46.923+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:46.924+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:46.924+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:46.926+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:47.068+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:47.068+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:47.391+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbNoteA'
2025-02-11T16:27:47.442+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:47.442+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:47.443+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:47.466+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.NoteAControllerIntegrationTest   : Started NoteAControllerIntegrationTest in 1.145 seconds (process running for 16.665)
2025-02-11T16:27:47.476+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:27:47.480+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:47.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:47.484+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:47.485+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:47.488+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:47.490+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:47.494+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.497+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:47.503+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:27:47.505+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.506+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@fef700c
2025-02-11T16:27:47.506+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Suppression de la note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:27:47.509+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteA na1_0 where na1_0.nSerie=? and na1_0.nadherent=?
2025-02-11T16:27:47.511+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.513+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:27:47.514+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note supprime avec succs.
2025-02-11T16:27:47.518+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:27:47.519+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.520+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Aucune note trouve avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@3e1
2025-02-11T16:27:47.541+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:27:47.544+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:47.545+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:47.548+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:47.553+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:47.555+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:47.557+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:47.559+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:47.562+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:47.564+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:47.567+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:47.571+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.577+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:47.580+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Rcupration de toutes les notes.
2025-02-11T16:27:47.582+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:27:47.583+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:47.586+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:47.592+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Nombre total de notes rcupres: 1
2025-02-11T16:27:47.625+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:27:47.626+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:47.627+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:47.629+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:27:47.631+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:47.632+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:47.636+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:47.639+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:47.642+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:47.645+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:47.648+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:47.653+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:47.656+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:47.658+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:47.661+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.663+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:47.682+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:27:47.684+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.687+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@50fa8c92
2025-02-11T16:27:47.688+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Mise  jour de la note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:27:47.688+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Recherche d'une note avec l'ID: com.example.librairie_online.entity.NoteA$NoteAId@421
2025-02-11T16:27:47.689+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.691+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note trouve: com.example.librairie_online.entity.NoteA@4c612396
2025-02-11T16:27:47.692+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.695+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : update NoteA set date=?,valeur=? where nSerie=? and nadherent=?
2025-02-11T16:27:47.697+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note mise  jour avec succs: com.example.librairie_online.entity.NoteA@15c5d50e
2025-02-11T16:27:47.715+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,na1_0.date,na1_0.valeur from NoteA na1_0
2025-02-11T16:27:47.717+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:47.719+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:47.723+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from NoteA where nSerie=? and nadherent=?
2025-02-11T16:27:47.725+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:47.726+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:47.732+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:47.735+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:47.737+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:47.739+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:47.743+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:47.745+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:47.747+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:47.751+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:47.757+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Cration d'une nouvelle note: com.example.librairie_online.entity.NoteA@310e231e
2025-02-11T16:27:47.757+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 4
2025-02-11T16:27:47.759+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:47.760+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@73dd61ca
2025-02-11T16:27:47.761+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 4
2025-02-11T16:27:47.762+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:47.763+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@65162814
2025-02-11T16:27:47.765+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select na1_0.nSerie,na1_0.nadherent,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,na1_0.date,na1_0.valeur from NoteA na1_0 left join Anime a1_0 on a1_0.nSerie=na1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=na1_0.nadherent left join Role r1_0 on r1_0.id=c1_0.roleId where (na1_0.nSerie,na1_0.nadherent) in ((?,?))
2025-02-11T16:27:47.766+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into NoteA (date,valeur,nSerie,nadherent) values (?,?,?,?)
2025-02-11T16:27:47.767+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NoteAService               : Note enregistre avec succs: com.example.librairie_online.entity.NoteA@e40c171
2025-02-11T16:27:47.774+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from NoteA na1_0
2025-02-11T16:27:47.790+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClientControllerIntegrationTest]: ClientControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:47.799+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClientControllerIntegrationTest
2025-02-11T16:27:47.813+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:47.852+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Starting ClientControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:47.853+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : The following 1 profile is active: "test"
2025-02-11T16:27:48.055+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:48.072+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:48.185+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:48.187+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:48.196+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:48.196+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-02-11T16:27:48.198+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn49: url=jdbc:h2:mem:testdb user=SA
2025-02-11T16:27:48.198+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-02-11T16:27:48.198+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:48.413+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:48.414+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:48.415+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:48.415+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:48.416+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:48.417+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:48.417+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:48.418+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:48.418+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:48.418+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:48.419+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:48.419+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:48.419+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:48.419+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:48.420+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:48.420+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:48.421+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:48.421+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:48.422+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:48.423+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:48.424+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:48.424+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:48.425+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:48.425+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:48.426+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:48.426+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:48.427+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:48.428+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:48.429+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:48.430+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:48.431+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:48.432+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:48.433+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:48.433+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:48.434+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:48.436+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:48.437+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:48.437+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:48.438+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:48.439+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:48.440+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:48.440+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:48.441+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:48.442+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:48.443+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:48.443+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:48.444+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:48.445+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:48.446+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:48.447+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:48.447+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:48.449+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:48.591+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:48.591+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:48.985+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-02-11T16:27:49.027+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.027+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.028+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:49.059+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.ClientControllerIntegrationTest  : Started ClientControllerIntegrationTest in 1.252 seconds (process running for 18.257)
2025-02-11T16:27:49.069+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:49.072+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:49.075+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:49.077+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.102+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Rcupration de tous les clients.
2025-02-11T16:27:49.105+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:49.106+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:49.108+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Nombre total de clients rcuprs: 1
2025-02-11T16:27:49.130+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:49.131+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:49.133+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:49.136+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:49.138+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:49.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:49.142+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.152+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 2
2025-02-11T16:27:49.153+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.154+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@29c76aad
2025-02-11T16:27:49.155+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Mise  jour du client avec l'ID: 2
2025-02-11T16:27:49.155+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 2
2025-02-11T16:27:49.155+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.156+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@2e478638
2025-02-11T16:27:49.157+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.159+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : update Client set active=?,age=?,date_adhesion=?,date_naissance=?,email=?,nom=?,password=?,prenom=?,roleId=?,sexe=? where nAdherent=?
2025-02-11T16:27:49.161+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client mis  jour avec succs: com.example.librairie_online.entity.Client@f907565
2025-02-11T16:27:49.172+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:49.173+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:49.177+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:49.179+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:49.180+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:49.182+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:49.183+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.187+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 3
2025-02-11T16:27:49.188+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.189+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@70250edd
2025-02-11T16:27:49.189+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Suppression du client avec l'ID: 3
2025-02-11T16:27:49.192+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Client c1_0 where c1_0.nAdherent=?
2025-02-11T16:27:49.194+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.195+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:49.196+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client supprim avec succs.
2025-02-11T16:27:49.199+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 3
2025-02-11T16:27:49.201+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:49.202+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Aucun client trouv avec l'ID: 3
2025-02-11T16:27:49.209+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:49.211+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:49.212+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:49.215+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Cration d'un nouveau client: com.example.librairie_online.entity.Client@481e6c09
2025-02-11T16:27:49.292+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent from Client c1_0 where c1_0.email=? fetch first ? rows only
2025-02-11T16:27:49.299+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.role=?
2025-02-11T16:27:49.300+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER introuvable, cration en cours...
2025-02-11T16:27:49.300+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:49.301+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Rle USER cr: com.example.librairie_online.entity.Role@3fb6ad6d
2025-02-11T16:27:49.410+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.411+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client cr avec succs: com.example.librairie_online.entity.Client@481e6c09
2025-02-11T16:27:49.411+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ValidationService          : Cration d'une nouvelle validation pour le client: Doe.Jonh@exemple.com
2025-02-11T16:27:49.412+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NotificationServices       : Prparation de l'e-mail pour Doe.Jonh@exemple.com
2025-02-11T16:27:49.596+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.NotificationServices       : E-mail envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:27:49.596+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ValidationService          : E-mail de validation envoy avec succs  Doe.Jonh@exemple.com
2025-02-11T16:27:49.598+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Validation (Activation_instant,ClientId,code,Creation_instant,Expire_instant,id) values (?,?,?,?,?,?)
2025-02-11T16:27:49.607+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ValidationService          : Validation enregistre avec succs: com.example.librairie_online.entity.Validation@3d09f24f
2025-02-11T16:27:49.607+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Validation cre pour le client: com.example.librairie_online.entity.Validation@3d09f24f
2025-02-11T16:27:49.615+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.ClasseControllerIntegrationTest]: ClasseControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:49.619+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.ClasseControllerIntegrationTest
2025-02-11T16:27:49.633+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:27:49.637+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:49.640+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:27:49.643+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.648+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.650+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:27:49.654+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.656+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.657+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:49.659+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:27:49.662+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Rcupration de toutes les classes.
2025-02-11T16:27:49.665+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:27:49.666+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.667+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:49.669+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Nombre total de classes rcupres: 1
2025-02-11T16:27:49.686+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:27:49.686+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.687+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:49.689+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:27:49.693+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:49.696+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:49.698+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:27:49.700+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:27:49.704+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.707+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.709+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:27:49.712+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.715+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:27:49.730+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Recherche d'une classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:27:49.732+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.733+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe trouve: com.example.librairie_online.entity.Classe@6a50ca2
2025-02-11T16:27:49.733+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Suppression de la classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:27:49.745+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0 where c1_0.type=? and c1_0.nSerie=?
2025-02-11T16:27:49.747+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.750+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-02-11T16:27:49.751+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe supprime avec succs.
2025-02-11T16:27:49.757+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Recherche d'une classe avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:27:49.757+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.758+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Aucune classe trouve avec l'ID: com.example.librairie_online.entity.Classe$ClasseId@74946e55
2025-02-11T16:27:49.770+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-02-11T16:27:49.773+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:49.775+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:49.777+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-02-11T16:27:49.778+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-02-11T16:27:49.781+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:49.783+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.785+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-02-11T16:27:49.799+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Cration d'une nouvelle classe: com.example.librairie_online.entity.Classe@59a45b95
2025-02-11T16:27:49.799+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:27:49.800+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:49.802+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@26385ac2
2025-02-11T16:27:49.802+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.GenreService               : Recherche d'un genre avec l'ID: Action
2025-02-11T16:27:49.804+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-02-11T16:27:49.805+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.GenreService               : Genre trouv: com.example.librairie_online.entity.Genre@6247c5e8
2025-02-11T16:27:49.806+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-02-11T16:27:49.808+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-02-11T16:27:49.809+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClasseService              : Classe cre avec succs: com.example.librairie_online.entity.Classe@41fe6103
2025-02-11T16:27:49.813+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-02-11T16:27:49.921+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.921+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.921+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:49.946+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.946+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.946+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:49.959+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.959+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.959+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:49.972+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.972+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.972+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:49.994+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:49.994+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:49.994+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.007+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.007+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.007+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.021+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.021+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.021+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.035+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.035+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.036+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:50.128+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.129+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.129+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.141+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.142+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.142+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.153+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.153+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.153+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.166+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.166+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.167+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.181+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.181+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.182+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:50.192+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.192+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.192+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.203+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.203+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.204+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.217+01:00  INFO 45401 --- [librairie-online] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:50.217+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:50.217+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:50.225+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AnimeControllerIntegrationTest]: AnimeControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:50.230+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AnimeControllerIntegrationTest
2025-02-11T16:27:50.239+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:50.264+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Starting AnimeControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:50.264+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : The following 1 profile is active: "testAnime"
2025-02-11T16:27:50.441+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:50.459+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:50.558+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:50.560+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:50.567+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:50.568+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-02-11T16:27:50.570+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn59: url=jdbc:h2:mem:testdbAnime user=SA
2025-02-11T16:27:50.570+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-02-11T16:27:50.570+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:50.785+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:50.785+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:50.785+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:50.785+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:50.786+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:50.787+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:50.788+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:50.788+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:50.789+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:50.789+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:50.790+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:50.790+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:50.791+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:50.791+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:50.792+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:50.792+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:50.793+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:50.793+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:50.794+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:50.794+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:50.795+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:50.795+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:50.796+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:50.797+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:50.798+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:50.798+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:50.799+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:50.800+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:50.800+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:50.801+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:50.802+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:50.803+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:50.803+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:50.804+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:50.805+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:50.806+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:50.806+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:50.807+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:50.808+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:50.809+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:50.928+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:50.929+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:51.268+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAnime'
2025-02-11T16:27:51.297+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:51.298+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:51.298+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-02-11T16:27:51.318+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AnimeControllerIntegrationTest   : Started AnimeControllerIntegrationTest in 1.083 seconds (process running for 20.517)
2025-02-11T16:27:51.326+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:51.329+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:51.331+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:27:51.333+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:51.335+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.336+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:27:51.345+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.346+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:51.351+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 1
2025-02-11T16:27:51.352+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.354+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@db2e161
2025-02-11T16:27:51.354+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Suppression de l'anime avec l'ID: 1
2025-02-11T16:27:51.356+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Anime a1_0 where a1_0.nSerie=?
2025-02-11T16:27:51.358+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.359+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:51.360+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime supprim avec succs.
2025-02-11T16:27:51.366+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 1
2025-02-11T16:27:51.367+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.368+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Aucun anime trouv avec l'ID: 1
2025-02-11T16:27:51.376+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:51.379+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:51.380+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:51.383+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:27:51.385+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:27:51.387+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:51.389+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.390+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:27:51.391+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.392+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:51.394+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Rcupration de tous les animes.
2025-02-11T16:27:51.396+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:51.397+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:51.398+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.400+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Nombre total d'animes rcuprs: 1
2025-02-11T16:27:51.412+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:51.413+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:51.414+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.416+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:51.418+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:51.420+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:51.422+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:27:51.423+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:27:51.425+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:51.427+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.428+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:27:51.429+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.430+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:51.438+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:27:51.439+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.440+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@27646bb3
2025-02-11T16:27:51.440+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Mise  jour de l'anime avec l'ID: 3
2025-02-11T16:27:51.440+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:27:51.441+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.442+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@4170c279
2025-02-11T16:27:51.445+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-02-11T16:27:51.446+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : update Anime set date=?,nSerieM=?,nom=?,nomStudio=? where nSerie=?
2025-02-11T16:27:51.447+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime mis  jour avec succs: com.example.librairie_online.entity.Anime@7113b35a
2025-02-11T16:27:51.456+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:51.456+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:51.457+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.459+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Anime where nSerie=?
2025-02-11T16:27:51.463+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:51.465+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:51.468+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0
2025-02-11T16:27:51.469+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Studio where nom=?
2025-02-11T16:27:51.472+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:51.474+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.475+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Studio (nomDirecteur,pays,prenomDirecteur,nom) values (?,?,?,?)
2025-02-11T16:27:51.478+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Cration d'un nouvel anime: com.example.librairie_online.entity.Anime@6298f57a
2025-02-11T16:27:51.484+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie from Anime a1_0 where a1_0.nom=? and a1_0.date=? and a1_0.nSerieM=? and a1_0.nomStudio=? fetch first ? rows only
2025-02-11T16:27:51.487+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select null,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Studio s1_0 where s1_0.nom=?
2025-02-11T16:27:51.488+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:51.489+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime cr avec succs: com.example.librairie_online.entity.Anime@6298f57a
2025-02-11T16:27:51.500+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.MangaControllerIntegrationTest]: MangaControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:51.504+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.MangaControllerIntegrationTest
2025-02-11T16:27:51.513+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:51.539+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Starting MangaControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:51.539+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : The following 1 profile is active: "testManga"
2025-02-11T16:27:51.705+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:51.723+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:51.833+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:51.836+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:51.843+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:51.844+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-02-11T16:27:51.846+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn69: url=jdbc:h2:mem:testdbManga user=SA
2025-02-11T16:27:51.847+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-02-11T16:27:51.847+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:52.137+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:52.138+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:52.139+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:52.140+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:52.141+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:52.142+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:52.143+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:52.144+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:52.144+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:52.145+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:52.145+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:52.146+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:52.146+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:52.147+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:52.147+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:52.148+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:52.149+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:52.149+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:52.150+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:52.151+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:52.152+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:52.154+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:52.155+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:52.155+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:52.156+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:52.157+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:52.158+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:52.158+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:52.159+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:52.160+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:52.161+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:52.161+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:52.162+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:52.163+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:52.164+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:52.165+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:52.166+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:52.167+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:52.168+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:52.322+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:52.322+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:52.601+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbManga'
2025-02-11T16:27:52.628+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:52.628+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:52.629+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:52.648+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Started MangaControllerIntegrationTest in 1.139 seconds (process running for 21.847)
2025-02-11T16:27:52.656+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.660+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.661+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.667+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 1
2025-02-11T16:27:52.668+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.669+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@2ab655fc
2025-02-11T16:27:52.669+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Suppression du manga avec l'ID: 1
2025-02-11T16:27:52.672+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Manga m1_0 where m1_0.nserie=?
2025-02-11T16:27:52.674+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.675+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:52.676+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga supprim avec succs.
2025-02-11T16:27:52.678+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.687+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.688+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.689+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.691+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Rcupration de tous les mangas.
2025-02-11T16:27:52.694+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.695+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Nombre total de mangas rcuprs: 1
2025-02-11T16:27:52.716+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.717+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:52.718+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.719+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.728+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:27:52.729+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.730+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@d7e2110
2025-02-11T16:27:52.730+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Mise  jour du manga avec l'ID: 3
2025-02-11T16:27:52.730+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 3
2025-02-11T16:27:52.731+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.731+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@72bfd5d
2025-02-11T16:27:52.732+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.734+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:52.736+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:27:52.737+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-02-11T16:27:52.737+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Mangaka (nationalite,sexe,nom,prenom) values (?,?,?,?)
2025-02-11T16:27:52.739+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.741+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga mis  jour avec succs: com.example.librairie_online.entity.Manga@2b99c232
2025-02-11T16:27:52.753+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.754+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:52.754+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:27:52.755+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:52.756+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:52.759+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Cration d'un nouveau manga: com.example.librairie_online.entity.Manga@610a19e6
2025-02-11T16:27:52.761+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie from Manga m1_0 where m1_0.nom=? and m1_0.date_parution=? and m1_0.tome=? fetch first ? rows only
2025-02-11T16:27:52.762+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.762+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:52.763+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:27:52.764+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Mangaka (nationalite,sexe,nom,prenom) values (?,?,?,?)
2025-02-11T16:27:52.764+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.766+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga cr avec succs: com.example.librairie_online.entity.Manga@2470a8
2025-02-11T16:27:52.776+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:52.777+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-02-11T16:27:52.778+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-02-11T16:27:52.779+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:52.781+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.783+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.786+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 6
2025-02-11T16:27:52.787+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:52.788+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@70b01a3f
2025-02-11T16:27:52.800+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.LoueControllerIntegrationTest]: LoueControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:52.804+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.LoueControllerIntegrationTest
2025-02-11T16:27:52.822+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:27:52.827+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:52.828+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:52.834+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:52.836+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:52.837+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:52.839+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.841+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:52.843+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:27:52.851+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 1
2025-02-11T16:27:52.852+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@6fed49a6
2025-02-11T16:27:52.852+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Mise  jour de la location avec l'ID: 1
2025-02-11T16:27:52.852+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 1
2025-02-11T16:27:52.852+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@6fed49a6
2025-02-11T16:27:52.853+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location mise  jour avec succs: com.example.librairie_online.entity.Loue@6fed49a6
2025-02-11T16:27:52.866+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:27:52.868+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:52.869+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:52.873+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:52.875+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:52.876+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:52.878+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.879+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:52.881+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:27:52.884+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Rcupration de toutes les locations.
2025-02-11T16:27:52.886+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:27:52.887+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Nombre total de locations rcupres: 1
2025-02-11T16:27:52.899+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:27:52.902+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:52.903+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:52.906+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:52.908+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:52.910+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:52.911+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.912+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:52.915+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Cration d'une nouvelle location: com.example.librairie_online.entity.Loue@e6e3071
2025-02-11T16:27:52.915+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:27:52.916+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@1e3a421
2025-02-11T16:27:52.916+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 7
2025-02-11T16:27:52.917+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@15bd40b6
2025-02-11T16:27:52.917+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:27:52.918+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location cre avec succs: com.example.librairie_online.entity.Loue@e6e3071
2025-02-11T16:27:52.919+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Cration d'une nouvelle location: com.example.librairie_online.entity.Loue@e6e3071
2025-02-11T16:27:52.919+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Recherche d'un anime avec l'ID: 3
2025-02-11T16:27:52.919+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AnimeService               : Anime trouv: com.example.librairie_online.entity.Anime@1e3a421
2025-02-11T16:27:52.919+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 7
2025-02-11T16:27:52.920+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@15bd40b6
2025-02-11T16:27:52.920+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location cre avec succs: com.example.librairie_online.entity.Loue@e6e3071
2025-02-11T16:27:52.925+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Loue l1_0
2025-02-11T16:27:52.936+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.date,l1_0.dateMaximale,l1_0.dateRetour from Loue l1_0
2025-02-11T16:27:52.937+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:52.938+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:52.940+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-02-11T16:27:52.942+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:52.943+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:52.944+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:52.945+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-02-11T16:27:52.946+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,date,dateMaximale,dateRetour,id) values (?,?,?,?,?,default)
2025-02-11T16:27:52.949+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 4
2025-02-11T16:27:52.949+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location trouve: com.example.librairie_online.entity.Loue@1bd4a372
2025-02-11T16:27:52.949+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Suppression de la location avec l'ID: 4
2025-02-11T16:27:52.958+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Loue l1_0 where l1_0.id=?
2025-02-11T16:27:52.960+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Location supprime avec succs.
2025-02-11T16:27:52.963+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Recherche d'une location avec l'ID: 4
2025-02-11T16:27:52.964+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.LoueService                : Aucune location trouve avec l'ID: 4
2025-02-11T16:27:52.977+01:00  INFO 45401 --- [librairie-online] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.librairie_online.controller.AcheteControllerIntegrationTest]: AcheteControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-02-11T16:27:52.981+01:00  INFO 45401 --- [librairie-online] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.librairie_online.LibrairieOnlineApplication for test class com.example.librairie_online.controller.AcheteControllerIntegrationTest
2025-02-11T16:27:52.989+01:00  INFO 45401 --- [librairie-online] [main] m.p.springdotenv.DotenvPropertySource    : Initialized Dotenv with DotenvConfig{directory=null, filename=null, ignoreIfMalformed=false, ignoreIfMissing=true, systemProperties=false, prefix=null}
2025-02-11T16:27:53.016+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Starting AcheteControllerIntegrationTest using Java 22.0.2 with PID 45401 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-02-11T16:27:53.016+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : The following 1 profile is active: "testAchete"
2025-02-11T16:27:53.175+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-11T16:27:53.190+01:00  INFO 45401 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 15 JPA repository interfaces.
2025-02-11T16:27:53.289+01:00  INFO 45401 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-11T16:27:53.291+01:00  INFO 45401 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-11T16:27:53.296+01:00  INFO 45401 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-11T16:27:53.297+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-02-11T16:27:53.298+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn79: url=jdbc:h2:mem:testdbAchete user=SA
2025-02-11T16:27:53.298+01:00  INFO 45401 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-02-11T16:27:53.298+01:00  WARN 45401 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-11T16:27:53.481+01:00  INFO 45401 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-11T16:27:53.481+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:53.481+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:53.481+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:53.481+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:53.482+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:53.483+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Achete (date date, id integer generated by default as identity, nAdherent integer, nSerie integer, prix numeric(9,2), primary key (id))
2025-02-11T16:27:53.483+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-02-11T16:27:53.484+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-02-11T16:27:53.485+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (active boolean not null, age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, roleId integer, email varchar(255), nom varchar(255), password varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-02-11T16:27:53.485+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Directeur (id integer generated by default as identity, roleId integer, Username varchar(255), email varchar(255), password varchar(255), primary key (id))
2025-02-11T16:27:53.485+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-02-11T16:27:53.486+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-02-11T16:27:53.486+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Jwt (desactive boolean not null, expire boolean not null, id integer generated by default as identity, nAdherent integer, token varchar(255), primary key (id))
2025-02-11T16:27:53.487+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (date date, dateMaximale date, dateRetour date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-02-11T16:27:53.487+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-02-11T16:27:53.488+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-02-11T16:27:53.488+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:53.489+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur numeric(38,2), primary key (nSerie, nadherent))
2025-02-11T16:27:53.489+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Role (id integer generated by default as identity, role enum ('ADMIN','USER'), primary key (id))
2025-02-11T16:27:53.490+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-02-11T16:27:53.490+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : create table Validation (ClientId integer unique, code integer not null, id integer not null, Activation_instant timestamp(6) with time zone, Creation_instant timestamp(6) with time zone, Expire_instant timestamp(6) with time zone, primary key (id))
2025-02-11T16:27:53.491+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKqb1e2gq63l9dowoni2ercv3ia foreign key (nAdherent) references Client
2025-02-11T16:27:53.491+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Achete add constraint FKndbwyt78vyn2ixt20vveswpy foreign key (nSerie) references Manga
2025-02-11T16:27:53.492+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-02-11T16:27:53.492+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-02-11T16:27:53.493+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-02-11T16:27:53.494+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-02-11T16:27:53.494+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Client add constraint FK4bpcqc78ucwdr2mk0mpv6dckv foreign key (roleId) references Role
2025-02-11T16:27:53.495+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Directeur add constraint FK7f93lqs710nn5x4egfx59erpw foreign key (roleId) references Role
2025-02-11T16:27:53.495+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Jwt add constraint FKfdnulgy4378srgo0lw1qnxn78 foreign key (nAdherent) references Client
2025-02-11T16:27:53.496+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-02-11T16:27:53.496+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-02-11T16:27:53.497+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-02-11T16:27:53.498+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-02-11T16:27:53.498+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-02-11T16:27:53.499+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-02-11T16:27:53.500+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-02-11T16:27:53.501+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-02-11T16:27:53.502+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Validation add constraint FK3jm2763f48u5y9wfcnhw6yd1p foreign key (ClientId) references Client
2025-02-11T16:27:53.503+01:00  INFO 45401 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:53.625+01:00  INFO 45401 --- [librairie-online] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-02-11T16:27:53.625+01:00  WARN 45401 --- [librairie-online] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-02-11T16:27:54.016+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdbAchete'
2025-02-11T16:27:54.053+01:00  INFO 45401 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-02-11T16:27:54.053+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-02-11T16:27:54.054+01:00  INFO 45401 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-02-11T16:27:54.077+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.c.AcheteControllerIntegrationTest  : Started AcheteControllerIntegrationTest in 1.091 seconds (process running for 23.275)
2025-02-11T16:27:54.089+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:27:54.093+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:54.095+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:54.098+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:54.100+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:54.102+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.105+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.108+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:27:54.119+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 1
2025-02-11T16:27:54.120+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.122+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@48089972
2025-02-11T16:27:54.122+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Mise  jour de l'achat avec ID: 1
2025-02-11T16:27:54.122+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 1
2025-02-11T16:27:54.123+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.124+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@3a909b15
2025-02-11T16:27:54.126+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.127+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : update Achete set nAdherent=?,date=?,nSerie=?,prix=? where id=?
2025-02-11T16:27:54.128+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat mis  jour avec succs: com.example.librairie_online.entity.Achete@5a4ae053
2025-02-11T16:27:54.141+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:27:54.142+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:54.144+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:54.146+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:27:54.148+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:54.149+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:54.150+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:54.152+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:54.153+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:54.155+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:54.156+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:54.158+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:54.160+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.162+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.165+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:27:54.167+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 2
2025-02-11T16:27:54.168+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.170+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat trouv: com.example.librairie_online.entity.Achete@419a2664
2025-02-11T16:27:54.170+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Suppression de l'achat avec ID: 2
2025-02-11T16:27:54.174+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Achete a1_0 where a1_0.id=?
2025-02-11T16:27:54.175+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.177+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:27:54.177+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat supprim avec succs.
2025-02-11T16:27:54.180+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Recherche d'un achat avec l'ID: 2
2025-02-11T16:27:54.181+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.prix from Achete a1_0 left join Client c1_0 on c1_0.nAdherent=a1_0.nAdherent left join Role r1_0 on r1_0.id=c1_0.roleId left join Manga m1_0 on m1_0.nserie=a1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where a1_0.id=?
2025-02-11T16:27:54.182+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Aucun achat trouv avec l'ID: 2
2025-02-11T16:27:54.191+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:27:54.195+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:54.197+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:54.199+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:54.201+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:54.203+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:54.205+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:54.206+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:54.208+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:54.210+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.212+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.215+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:27:54.219+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Rcupration de tous les achats.
2025-02-11T16:27:54.221+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:27:54.222+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:54.224+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:54.225+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Nombre total d'achats rcuprs: 1
2025-02-11T16:27:54.238+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.id,a1_0.nAdherent,a1_0.date,a1_0.nSerie,a1_0.prix from Achete a1_0
2025-02-11T16:27:54.239+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:54.240+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:54.242+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Achete where id=?
2025-02-11T16:27:54.245+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,c1_0.roleId,c1_0.sexe from Client c1_0
2025-02-11T16:27:54.246+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0 where r1_0.id=?
2025-02-11T16:27:54.247+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Client where nAdherent=?
2025-02-11T16:27:54.249+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-02-11T16:27:54.251+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-02-11T16:27:54.253+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.role from Role r1_0
2025-02-11T16:27:54.254+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Role where id=?
2025-02-11T16:27:54.256+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Role (role,id) values (?,default)
2025-02-11T16:27:54.258+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (active,age,date_adhesion,date_naissance,email,nom,password,prenom,roleId,sexe,nAdherent) values (?,?,?,?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.262+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-02-11T16:27:54.273+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Cration d'un achat: com.example.librairie_online.dto.AcheteDTO@31427320
2025-02-11T16:27:54.273+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Recherche d'un manga avec l'ID: 4
2025-02-11T16:27:54.275+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-02-11T16:27:54.277+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangaService               : Manga trouv: com.example.librairie_online.entity.Manga@3ba99e1b
2025-02-11T16:27:54.277+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Recherche d'un client avec l'ID: 4
2025-02-11T16:27:54.279+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.active,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.email,c1_0.nom,c1_0.password,c1_0.prenom,r1_0.id,r1_0.role,c1_0.sexe from Client c1_0 left join Role r1_0 on r1_0.id=c1_0.roleId where c1_0.nAdherent=?
2025-02-11T16:27:54.281+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.ClientService              : Client trouv: com.example.librairie_online.entity.Client@69bcbbf2
2025-02-11T16:27:54.282+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Achete (nAdherent,date,nSerie,prix,id) values (?,?,?,?,default)
2025-02-11T16:27:54.283+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.AcheteService              : Achat cr avec succs: com.example.librairie_online.entity.Achete@71fdb621
2025-02-11T16:27:54.290+01:00 DEBUG 45401 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Achete a1_0
2025-02-11T16:27:54.445+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Rcupration de tous les mangakas.
2025-02-11T16:27:54.445+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Nombre total de mangakas rcuprs: 1
2025-02-11T16:27:54.448+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:27:54.448+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Aucun mangaka trouv avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:27:54.451+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Cration d'un nouveau mangaka: com.example.librairie_online.entity.Mangaka@621eb29e
2025-02-11T16:27:54.451+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka cr avec succs: com.example.librairie_online.entity.Mangaka@621eb29e
2025-02-11T16:27:54.454+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mise  jour du mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:27:54.454+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:27:54.454+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@cea66f3
2025-02-11T16:27:54.454+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka mis  jour avec succs: com.example.librairie_online.entity.Mangaka@cea66f3
2025-02-11T16:27:54.458+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Recherche d'un mangaka avec l'ID: com.example.librairie_online.entity.Mangaka$MangakaId@99d3ad39
2025-02-11T16:27:54.458+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.MangakaService             : Mangaka trouv: com.example.librairie_online.entity.Mangaka@38e0a6e
2025-02-11T16:27:54.566+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Rcupration de tous les fournisseurs.
2025-02-11T16:27:54.566+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Nombre total de fournisseurs rcuprs: 1
2025-02-11T16:27:54.569+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:27:54.569+01:00  WARN 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Aucun fournisseur trouv avec l'ID: 1
2025-02-11T16:27:54.571+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Cration d'un nouveau fournisseur: com.example.librairie_online.entity.Fournisseur@4400082e
2025-02-11T16:27:54.572+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur cr avec succs: com.example.librairie_online.entity.Fournisseur@4400082e
2025-02-11T16:27:54.574+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Mise  jour du fournisseur avec l'ID: 1
2025-02-11T16:27:54.574+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:27:54.575+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@34b2056c
2025-02-11T16:27:54.575+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur mis  jour avec succs: com.example.librairie_online.entity.Fournisseur@34b2056c
2025-02-11T16:27:54.578+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Recherche d'un fournisseur avec l'ID: 1
2025-02-11T16:27:54.578+01:00  INFO 45401 --- [librairie-online] [main] c.e.l.service.FournisseurService         : Fournisseur trouv: com.example.librairie_online.entity.Fournisseur@10f363c8
2025-02-11T16:27:54.601+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.602+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.603+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.603+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.604+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.605+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.605+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.606+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.606+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.606+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.606+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.607+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.607+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.608+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.608+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.608+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.608+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.611+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-11T16:27:54.613+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-11T16:27:54.614+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.614+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.615+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.616+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.617+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.617+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.617+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.618+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.618+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.619+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.619+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.619+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.620+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.621+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.621+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.622+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.623+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.626+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.626+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.627+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.627+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-02-11T16:27:54.628+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-02-11T16:27:54.631+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.631+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-02-11T16:27:54.652+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-02-11T16:27:54.655+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.656+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.656+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.657+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.657+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.657+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.658+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.658+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.659+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.659+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.659+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.660+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.660+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.660+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.660+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.661+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.661+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.661+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-02-11T16:27:54.663+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-02-11T16:27:54.667+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.672+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.672+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.673+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.673+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.673+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.674+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.674+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.674+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.674+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.675+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.675+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.675+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.675+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.675+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.676+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.676+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.676+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-02-11T16:27:54.677+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-02-11T16:27:54.680+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.680+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.680+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.680+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.680+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.680+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.681+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.681+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-02-11T16:27:54.682+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-02-11T16:27:54.685+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.685+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.686+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.686+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.687+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.687+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.687+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.688+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.688+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.688+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.688+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.688+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.689+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.689+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.689+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.689+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.689+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.690+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-02-11T16:27:54.691+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-02-11T16:27:54.693+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.693+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.694+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.694+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.695+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.695+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.696+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.696+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.696+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.696+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.697+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.698+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.698+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-02-11T16:27:54.699+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-02-11T16:27:54.702+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-11T16:27:54.702+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Achete cascade 
2025-02-11T16:27:54.703+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-02-11T16:27:54.703+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-02-11T16:27:54.703+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-02-11T16:27:54.704+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Directeur cascade 
2025-02-11T16:27:54.704+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-02-11T16:27:54.704+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-02-11T16:27:54.704+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Jwt cascade 
2025-02-11T16:27:54.704+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-02-11T16:27:54.705+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-02-11T16:27:54.705+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-02-11T16:27:54.705+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-02-11T16:27:54.705+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-02-11T16:27:54.705+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Role cascade 
2025-02-11T16:27:54.706+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-02-11T16:27:54.706+01:00 DEBUG 45401 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Validation cascade 
2025-02-11T16:27:54.706+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-02-11T16:27:54.707+01:00  INFO 45401 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
