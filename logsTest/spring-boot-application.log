2025-01-21T00:30:42.285+01:00  INFO 73546 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 73546 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:30:42.298+01:00  INFO 73546 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:30:42.865+01:00  INFO 73546 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:30:42.985+01:00  INFO 73546 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111 ms. Found 11 JPA repository interfaces.
2025-01-21T00:30:43.438+01:00  INFO 73546 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:30:43.495+01:00  INFO 73546 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:30:43.534+01:00  INFO 73546 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:30:43.827+01:00  INFO 73546 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:30:43.854+01:00  INFO 73546 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:30:44.038+01:00  INFO 73546 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:30:44.040+01:00  INFO 73546 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:30:44.066+01:00  WARN 73546 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:30:45.121+01:00  INFO 73546 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:30:45.139+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:30:45.143+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:30:45.143+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:30:45.143+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:30:45.144+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:30:45.144+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:30:45.145+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:30:45.145+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:30:45.146+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:30:45.148+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:30:45.148+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:30:45.153+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:30:45.161+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (NSerie integer not null, Type varchar(255) not null, primary key (NSerie, Type))
2025-01-21T00:30:45.164+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:30:45.166+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:30:45.168+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:30:45.169+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:30:45.171+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:30:45.177+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:30:45.178+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:30:45.180+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:30:45.183+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:30:45.185+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:30:45.198+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:30:45.200+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKhpf3hv30d8x620hrr2f5yyqov foreign key (Type) references Genre
2025-01-21T00:30:45.202+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKi4gngtxkspuuphk7k9yqo6aeu foreign key (NSerie) references Manga
2025-01-21T00:30:45.204+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:30:45.206+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:30:45.208+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:30:45.210+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:30:45.212+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:30:45.215+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:30:45.217+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:30:45.219+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:30:45.224+01:00  INFO 73546 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:30:46.068+01:00  INFO 73546 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:30:46.131+01:00  INFO 73546 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:30:46.131+01:00  INFO 73546 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:30:46.133+01:00  INFO 73546 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:30:46.173+01:00  INFO 73546 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.211 seconds (process running for 5.394)
2025-01-21T00:30:46.897+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.NSerie,c1_0.Type from Classe c1_0
2025-01-21T00:30:46.923+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:30:46.926+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:30:46.947+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:30:46.975+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:30:46.983+01:00 DEBUG 73546 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:30:47.152+01:00  INFO 73546 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:30:47.153+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:30:47.157+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:30:47.158+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:30:47.160+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:30:47.162+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:30:47.165+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:30:47.166+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:30:47.167+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:30:47.170+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:30:47.171+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:30:47.172+01:00 DEBUG 73546 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:30:47.174+01:00  INFO 73546 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:30:47.177+01:00  INFO 73546 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:33:16.270+01:00  INFO 74158 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 74158 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:33:16.272+01:00  INFO 74158 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:33:16.830+01:00  INFO 74158 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:33:16.904+01:00  INFO 74158 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 11 JPA repository interfaces.
2025-01-21T00:33:17.364+01:00  INFO 74158 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:33:17.415+01:00  INFO 74158 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:33:17.444+01:00  INFO 74158 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:33:17.748+01:00  INFO 74158 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:33:17.773+01:00  INFO 74158 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:33:17.949+01:00  INFO 74158 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:33:17.952+01:00  INFO 74158 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:33:17.974+01:00  WARN 74158 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:33:19.037+01:00  INFO 74158 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:33:19.053+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:33:19.058+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:33:19.059+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:33:19.060+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:33:19.061+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:33:19.062+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:33:19.063+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:33:19.064+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:33:19.065+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:33:19.066+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:33:19.067+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:33:19.073+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:33:19.089+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:33:19.091+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:33:19.093+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:33:19.095+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:33:19.098+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:33:19.100+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:33:19.102+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:33:19.104+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:33:19.105+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:33:19.108+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:33:19.111+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:33:19.125+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:33:19.127+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:33:19.129+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:33:19.132+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:33:19.134+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:33:19.136+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:33:19.139+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:33:19.142+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:33:19.144+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:33:19.146+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:33:19.149+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:33:19.155+01:00  INFO 74158 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:33:20.033+01:00  INFO 74158 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:33:20.108+01:00  INFO 74158 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:33:20.108+01:00  INFO 74158 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:33:20.111+01:00  INFO 74158 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:33:20.142+01:00  INFO 74158 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.219 seconds (process running for 5.255)
2025-01-21T00:33:20.860+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:33:20.891+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:33:20.894+01:00 DEBUG 74158 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:33:20.999+01:00  WARN 74158 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')]
2025-01-21T00:33:21.043+01:00  INFO 74158 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:33:21.044+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:33:21.048+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:33:21.050+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:33:21.051+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:33:21.052+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:33:21.053+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:33:21.054+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:33:21.055+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:33:21.056+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:33:21.057+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:33:21.058+01:00 DEBUG 74158 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:33:21.060+01:00  INFO 74158 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:33:21.064+01:00  INFO 74158 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:36:10.036+01:00  INFO 74816 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 74816 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:36:10.038+01:00  INFO 74816 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:36:10.630+01:00  INFO 74816 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:36:10.703+01:00  INFO 74816 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 11 JPA repository interfaces.
2025-01-21T00:36:11.165+01:00  INFO 74816 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:36:11.222+01:00  INFO 74816 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:36:11.251+01:00  INFO 74816 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:36:11.543+01:00  INFO 74816 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:36:11.567+01:00  INFO 74816 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:36:11.760+01:00  INFO 74816 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:36:11.762+01:00  INFO 74816 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:36:11.788+01:00  WARN 74816 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:36:12.811+01:00  INFO 74816 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:36:12.827+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:36:12.833+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:36:12.833+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:36:12.834+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:36:12.834+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:36:12.835+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:36:12.835+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:36:12.836+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:36:12.837+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:36:12.837+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:36:12.838+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:36:12.842+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:36:12.852+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:36:12.854+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:36:12.856+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:36:12.858+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:36:12.859+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:36:12.861+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:36:12.863+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:36:12.865+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:36:12.867+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:36:12.869+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:36:12.871+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:36:12.885+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:36:12.887+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:36:12.889+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:36:12.892+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:36:12.894+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:36:12.896+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:36:12.899+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:36:12.901+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:36:12.903+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:36:12.905+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:36:12.907+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:36:12.913+01:00  INFO 74816 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:36:13.789+01:00  INFO 74816 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:36:13.853+01:00  INFO 74816 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:36:13.853+01:00  INFO 74816 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:36:13.854+01:00  INFO 74816 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-21T00:36:13.895+01:00  INFO 74816 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.2 seconds (process running for 5.332)
2025-01-21T00:36:14.697+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:36:14.725+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:36:14.728+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:36:14.751+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:36:14.786+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:36:14.794+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:36:14.807+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:36:14.818+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T00:36:14.892+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:36:14.901+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:36:14.908+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-01-21T00:36:14.957+01:00 DEBUG 74816 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:36:14.985+01:00  INFO 74816 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:36:14.986+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:36:14.991+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:36:14.993+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:36:14.996+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:36:14.998+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:36:15.000+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:36:15.002+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:36:15.004+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:36:15.006+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:36:15.008+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:36:15.010+01:00 DEBUG 74816 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:36:15.015+01:00  INFO 74816 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:36:15.018+01:00  INFO 74816 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:37:25.519+01:00  INFO 75113 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 75113 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:37:25.521+01:00  INFO 75113 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:37:26.221+01:00  INFO 75113 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:37:26.295+01:00  INFO 75113 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 11 JPA repository interfaces.
2025-01-21T00:37:26.765+01:00  INFO 75113 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:37:26.817+01:00  INFO 75113 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:37:26.850+01:00  INFO 75113 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:37:27.141+01:00  INFO 75113 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:37:27.165+01:00  INFO 75113 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:37:27.353+01:00  INFO 75113 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:37:27.355+01:00  INFO 75113 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:37:27.382+01:00  WARN 75113 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:37:28.464+01:00  INFO 75113 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:37:28.478+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:37:28.482+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:37:28.483+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:37:28.483+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:37:28.484+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:37:28.484+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:37:28.485+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:37:28.485+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:37:28.486+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:37:28.486+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:37:28.487+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:37:28.492+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:37:28.501+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:37:28.503+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:37:28.505+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:37:28.506+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:37:28.508+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:37:28.510+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:37:28.511+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:37:28.513+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:37:28.515+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:37:28.518+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:37:28.520+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:37:28.533+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:37:28.535+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:37:28.537+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:37:28.539+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:37:28.540+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:37:28.543+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:37:28.545+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:37:28.547+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:37:28.550+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:37:28.552+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:37:28.554+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:37:28.559+01:00  INFO 75113 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:37:29.439+01:00  INFO 75113 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:37:29.505+01:00  INFO 75113 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:37:29.505+01:00  INFO 75113 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:37:29.507+01:00  INFO 75113 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:37:29.539+01:00  INFO 75113 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.36 seconds (process running for 5.892)
2025-01-21T00:37:30.252+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:37:30.280+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:37:30.283+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:37:30.305+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:37:30.336+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:37:30.342+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:37:30.457+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:37:30.463+01:00 DEBUG 75113 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T00:37:30.466+01:00  WARN 75113 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23506, SQLState: 23506
2025-01-21T00:37:30.466+01:00 ERROR 75113 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Intgrit rfrentielle violation de contrainte: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"
Referential integrity constraint violation: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"; SQL statement:
insert into Classe (nSerie,type) values (?,?) [23506-224]
2025-01-21T00:37:30.519+01:00  INFO 75113 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:37:30.520+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:37:30.524+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:37:30.526+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:37:30.530+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:37:30.532+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:37:30.534+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:37:30.535+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:37:30.536+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:37:30.537+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:37:30.538+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:37:30.539+01:00 DEBUG 75113 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:37:30.543+01:00  INFO 75113 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:37:30.545+01:00  INFO 75113 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:38:41.570+01:00  INFO 75454 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 75454 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:38:41.571+01:00  INFO 75454 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:38:42.173+01:00  INFO 75454 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:38:42.264+01:00  INFO 75454 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 11 JPA repository interfaces.
2025-01-21T00:38:42.730+01:00  INFO 75454 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:38:42.783+01:00  INFO 75454 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:38:42.816+01:00  INFO 75454 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:38:43.109+01:00  INFO 75454 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:38:43.135+01:00  INFO 75454 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:38:43.338+01:00  INFO 75454 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:38:43.340+01:00  INFO 75454 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:38:43.367+01:00  WARN 75454 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:38:44.504+01:00  INFO 75454 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:38:44.524+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:38:44.529+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:38:44.530+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:38:44.530+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:38:44.531+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:38:44.533+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:38:44.534+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:38:44.534+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:38:44.535+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:38:44.536+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:38:44.536+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:38:44.544+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:38:44.554+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:38:44.557+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:38:44.559+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:38:44.561+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:38:44.562+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:38:44.564+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:38:44.566+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:38:44.569+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:38:44.571+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:38:44.574+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:38:44.576+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:38:44.589+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:38:44.592+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:38:44.594+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:38:44.596+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:38:44.599+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:38:44.601+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:38:44.603+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:38:44.606+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:38:44.607+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:38:44.610+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:38:44.612+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:38:44.618+01:00  INFO 75454 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:38:45.557+01:00  INFO 75454 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:38:45.622+01:00  INFO 75454 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:38:45.622+01:00  INFO 75454 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:38:45.624+01:00  INFO 75454 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:38:45.655+01:00  INFO 75454 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.418 seconds (process running for 5.733)
2025-01-21T00:38:46.379+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:38:46.405+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:38:46.408+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:38:46.434+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:38:46.465+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:38:46.471+01:00 DEBUG 75454 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:43:53.669+01:00  INFO 77825 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 77825 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:43:53.671+01:00  INFO 77825 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:43:54.297+01:00  INFO 77825 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:43:54.382+01:00  INFO 77825 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 11 JPA repository interfaces.
2025-01-21T00:43:54.889+01:00  INFO 77825 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:43:54.962+01:00  INFO 77825 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:43:55.004+01:00  INFO 77825 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:43:55.282+01:00  INFO 77825 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:43:55.307+01:00  INFO 77825 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:43:55.632+01:00  INFO 77825 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:43:55.635+01:00  INFO 77825 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:43:55.668+01:00  WARN 77825 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:43:56.796+01:00  INFO 77825 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:43:56.811+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:43:56.815+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:43:56.816+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:43:56.816+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:43:56.817+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:43:56.818+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:43:56.818+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:43:56.819+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:43:56.819+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:43:56.820+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:43:56.821+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:43:56.825+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:43:56.835+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:43:56.838+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:43:56.840+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:43:56.842+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:43:56.843+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:43:56.845+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:43:56.847+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:43:56.849+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:43:56.851+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:43:56.855+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:43:56.857+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:43:56.870+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:43:56.873+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:43:56.875+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:43:56.877+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:43:56.879+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:43:56.882+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:43:56.884+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:43:56.887+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:43:56.889+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:43:56.891+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:43:56.893+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:43:56.898+01:00  INFO 77825 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:43:57.846+01:00  INFO 77825 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:43:57.922+01:00  INFO 77825 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:43:57.922+01:00  INFO 77825 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:43:57.924+01:00  INFO 77825 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:43:57.959+01:00  INFO 77825 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.623 seconds (process running for 6.288)
2025-01-21T00:43:58.724+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:43:58.754+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:43:58.757+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:43:58.780+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:43:58.812+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:43:58.818+01:00 DEBUG 77825 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:50:19.956+01:00  INFO 80745 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 80745 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:50:19.958+01:00  INFO 80745 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:50:20.703+01:00  INFO 80745 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:50:20.797+01:00  INFO 80745 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 11 JPA repository interfaces.
2025-01-21T00:50:21.375+01:00  INFO 80745 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:50:21.449+01:00  INFO 80745 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:50:21.487+01:00  INFO 80745 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:50:21.803+01:00  INFO 80745 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:50:21.831+01:00  INFO 80745 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:50:22.052+01:00  INFO 80745 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:50:22.054+01:00  INFO 80745 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:50:22.079+01:00  WARN 80745 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:50:23.445+01:00  INFO 80745 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:50:23.464+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:50:23.471+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:50:23.472+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:50:23.473+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:50:23.474+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:50:23.475+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:50:23.476+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:50:23.476+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:50:23.477+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:50:23.478+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:50:23.478+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:50:23.485+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:50:23.495+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:50:23.497+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:50:23.499+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:50:23.502+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:50:23.505+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:50:23.507+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:50:23.509+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:50:23.515+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:50:23.544+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:50:23.604+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:50:23.606+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:50:23.641+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:50:23.646+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:50:23.650+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:50:23.654+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:50:23.661+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:50:23.665+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:50:23.669+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:50:23.673+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:50:23.675+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:50:23.678+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:50:23.693+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:50:23.703+01:00  INFO 80745 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:50:24.672+01:00  INFO 80745 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:50:24.752+01:00  INFO 80745 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:50:24.753+01:00  INFO 80745 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:50:24.756+01:00  INFO 80745 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:50:24.799+01:00  INFO 80745 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 5.322 seconds (process running for 7.074)
2025-01-21T00:50:25.577+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:50:25.611+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:50:25.614+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:50:25.639+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:50:25.673+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:50:25.679+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:50:41.729+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:50:41.739+01:00 DEBUG 80745 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T00:50:41.744+01:00  WARN 80745 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23506, SQLState: 23506
2025-01-21T00:50:41.744+01:00 ERROR 80745 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Intgrit rfrentielle violation de contrainte: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"
Referential integrity constraint violation: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"; SQL statement:
insert into Classe (nSerie,type) values (?,?) [23506-224]
2025-01-21T00:50:41.802+01:00  INFO 80745 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:50:41.804+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:50:41.809+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:50:41.811+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:50:41.813+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:50:41.815+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:50:41.817+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:50:41.819+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:50:41.821+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:50:41.822+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:50:41.824+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:50:41.825+01:00 DEBUG 80745 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:50:41.828+01:00  INFO 80745 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:50:41.834+01:00  INFO 80745 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:51:13.172+01:00  INFO 81045 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 81045 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:51:13.174+01:00  INFO 81045 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:51:13.813+01:00  INFO 81045 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:51:13.908+01:00  INFO 81045 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 11 JPA repository interfaces.
2025-01-21T00:51:14.400+01:00  INFO 81045 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:51:14.459+01:00  INFO 81045 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:51:14.493+01:00  INFO 81045 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:51:14.810+01:00  INFO 81045 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:51:14.841+01:00  INFO 81045 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:51:15.056+01:00  INFO 81045 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:51:15.059+01:00  INFO 81045 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:51:15.104+01:00  WARN 81045 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:51:16.240+01:00  INFO 81045 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:51:16.255+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:51:16.260+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:51:16.260+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:51:16.261+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:51:16.262+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:51:16.262+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:51:16.263+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:51:16.264+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:51:16.265+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:51:16.266+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:51:16.267+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:51:16.272+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:51:16.281+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:51:16.284+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:51:16.286+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:51:16.289+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:51:16.290+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:51:16.292+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:51:16.294+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:51:16.295+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:51:16.297+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:51:16.300+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:51:16.302+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:51:16.315+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:51:16.317+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:51:16.320+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:51:16.322+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:51:16.324+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:51:16.326+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:51:16.328+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:51:16.330+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:51:16.333+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:51:16.335+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:51:16.337+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:51:16.343+01:00  INFO 81045 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:51:17.218+01:00  INFO 81045 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:51:17.281+01:00  INFO 81045 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:51:17.282+01:00  INFO 81045 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:51:17.283+01:00  INFO 81045 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-21T00:51:17.315+01:00  INFO 81045 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.487 seconds (process running for 6.37)
2025-01-21T00:51:18.036+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:51:18.062+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:51:18.065+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:51:18.087+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:51:18.119+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:51:18.125+01:00 DEBUG 81045 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:54:05.450+01:00  INFO 82366 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 82366 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:54:05.453+01:00  INFO 82366 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:54:06.232+01:00  INFO 82366 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:54:06.335+01:00  INFO 82366 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 94 ms. Found 11 JPA repository interfaces.
2025-01-21T00:54:06.873+01:00  INFO 82366 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:54:06.929+01:00  INFO 82366 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:54:06.967+01:00  INFO 82366 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:54:07.291+01:00  INFO 82366 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:54:07.319+01:00  INFO 82366 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:54:07.526+01:00  INFO 82366 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:54:07.528+01:00  INFO 82366 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:54:07.552+01:00  WARN 82366 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:54:08.746+01:00  INFO 82366 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:54:08.760+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:54:08.764+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:54:08.764+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:54:08.765+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:54:08.765+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:54:08.766+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:54:08.766+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:54:08.767+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:54:08.767+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:54:08.768+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:54:08.770+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:54:08.775+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:54:08.784+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:54:08.787+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:54:08.790+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:54:08.792+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:54:08.793+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:54:08.795+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:54:08.798+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:54:08.800+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:54:08.802+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:54:08.805+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:54:08.807+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:54:08.823+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:54:08.825+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:54:08.827+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:54:08.830+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:54:08.832+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:54:08.834+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:54:08.837+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:54:08.839+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:54:08.841+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:54:08.843+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:54:08.846+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:54:08.852+01:00  INFO 82366 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:54:09.779+01:00  INFO 82366 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:54:09.855+01:00  INFO 82366 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:54:09.856+01:00  INFO 82366 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:54:09.858+01:00  INFO 82366 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:54:09.900+01:00  INFO 82366 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 5.046 seconds (process running for 6.929)
2025-01-21T00:54:10.682+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:54:10.710+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:54:10.713+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:54:10.736+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:54:10.772+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:54:10.777+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:55:57.459+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:55:57.471+01:00 DEBUG 82366 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T00:55:57.475+01:00  WARN 82366 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23506, SQLState: 23506
2025-01-21T00:55:57.475+01:00 ERROR 82366 --- [librairie-online] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Intgrit rfrentielle violation de contrainte: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"
Referential integrity constraint violation: "FK3A5O3HOXOLYD6Y7KQ9JOKHADE: PUBLIC.CLASSE FOREIGN KEY(NSERIE) REFERENCES PUBLIC.MANGA(NSERIE) (0)"; SQL statement:
insert into Classe (nSerie,type) values (?,?) [23506-224]
2025-01-21T00:55:57.532+01:00  INFO 82366 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:55:57.533+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:55:57.536+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:55:57.538+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:55:57.540+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:55:57.541+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:55:57.542+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:55:57.544+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:55:57.546+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:55:57.547+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:55:57.549+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:55:57.550+01:00 DEBUG 82366 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:55:57.555+01:00  INFO 82366 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:55:57.560+01:00  INFO 82366 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T00:56:15.538+01:00  INFO 83312 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 83312 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T00:56:15.540+01:00  INFO 83312 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T00:56:16.250+01:00  INFO 83312 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T00:56:16.351+01:00  INFO 83312 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 11 JPA repository interfaces.
2025-01-21T00:56:16.949+01:00  INFO 83312 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T00:56:17.016+01:00  INFO 83312 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T00:56:17.050+01:00  INFO 83312 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T00:56:17.376+01:00  INFO 83312 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T00:56:17.404+01:00  INFO 83312 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T00:56:17.624+01:00  INFO 83312 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T00:56:17.627+01:00  INFO 83312 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T00:56:17.654+01:00  WARN 83312 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T00:56:18.763+01:00  INFO 83312 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T00:56:18.780+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:56:18.785+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:56:18.786+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:56:18.787+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:56:18.788+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:56:18.788+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:56:18.789+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:56:18.790+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:56:18.790+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:56:18.791+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:56:18.791+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:56:18.796+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T00:56:18.807+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T00:56:18.809+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T00:56:18.811+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T00:56:18.813+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T00:56:18.815+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T00:56:18.816+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T00:56:18.819+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T00:56:18.821+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:56:18.823+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T00:56:18.826+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T00:56:18.828+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T00:56:18.841+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T00:56:18.843+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T00:56:18.846+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T00:56:18.848+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T00:56:18.850+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T00:56:18.853+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T00:56:18.855+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T00:56:18.858+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T00:56:18.860+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T00:56:18.862+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T00:56:18.864+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T00:56:18.869+01:00  INFO 83312 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:56:19.782+01:00  INFO 83312 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T00:56:19.861+01:00  INFO 83312 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T00:56:19.861+01:00  INFO 83312 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T00:56:19.863+01:00  INFO 83312 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T00:56:19.901+01:00  INFO 83312 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.806 seconds (process running for 6.696)
2025-01-21T00:56:20.705+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T00:56:20.734+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T00:56:20.738+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T00:56:20.763+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T00:56:20.794+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T00:56:20.800+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T00:56:42.357+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T00:56:42.364+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T00:56:46.382+01:00 DEBUG 83312 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-01-21T00:56:46.473+01:00  INFO 83312 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T00:56:46.474+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T00:56:46.477+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T00:56:46.478+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T00:56:46.482+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T00:56:46.484+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T00:56:46.485+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T00:56:46.487+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T00:56:46.489+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T00:56:46.492+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T00:56:46.493+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T00:56:46.495+01:00 DEBUG 83312 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T00:56:46.499+01:00  INFO 83312 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T00:56:46.502+01:00  INFO 83312 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:00:34.703+01:00  INFO 84404 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 84404 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:00:34.704+01:00  INFO 84404 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:00:35.325+01:00  INFO 84404 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:00:35.411+01:00  INFO 84404 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 11 JPA repository interfaces.
2025-01-21T01:00:35.818+01:00  INFO 84404 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:00:35.867+01:00  INFO 84404 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:00:35.901+01:00  INFO 84404 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:00:36.160+01:00  INFO 84404 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:00:36.183+01:00  INFO 84404 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:00:36.365+01:00  INFO 84404 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:00:36.366+01:00  INFO 84404 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:00:36.389+01:00  WARN 84404 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:00:37.398+01:00  INFO 84404 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:00:37.412+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:00:37.417+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:00:37.417+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:00:37.418+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:00:37.419+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:00:37.420+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:00:37.420+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:00:37.421+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:00:37.421+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:00:37.422+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:00:37.423+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:00:37.428+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:00:37.436+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:00:37.439+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:00:37.441+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:00:37.442+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:00:37.444+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:00:37.445+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:00:37.446+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:00:37.448+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:00:37.449+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:00:37.452+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:00:37.454+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:00:37.468+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:00:37.470+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:00:37.473+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T01:00:37.476+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:00:37.477+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:00:37.479+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:00:37.481+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:00:37.483+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:00:37.486+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:00:37.488+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:00:37.490+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:00:37.495+01:00  INFO 84404 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:00:38.254+01:00  INFO 84404 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:00:38.309+01:00  INFO 84404 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:00:38.309+01:00  INFO 84404 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:00:38.311+01:00  INFO 84404 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T01:00:38.345+01:00  INFO 84404 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 3.928 seconds (process running for 5.311)
2025-01-21T01:00:39.023+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T01:00:39.050+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:00:39.053+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:00:39.073+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:00:39.105+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:00:39.111+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:00:39.119+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nSerie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:00:39.122+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:00:39.125+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:00:39.134+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:00:39.187+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T01:00:39.188+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:00:39.190+01:00 DEBUG 84404 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:00:39.383+01:00  INFO 84404 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:00:39.385+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:00:39.388+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:00:39.390+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:00:39.392+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:00:39.393+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:00:39.394+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:00:39.395+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:00:39.397+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:00:39.398+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:00:39.400+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:00:39.401+01:00 DEBUG 84404 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:00:39.405+01:00  INFO 84404 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:00:39.410+01:00  INFO 84404 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:01:00.588+01:00  INFO 84520 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 84520 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:01:00.590+01:00  INFO 84520 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:01:01.215+01:00  INFO 84520 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:01:01.300+01:00  INFO 84520 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 11 JPA repository interfaces.
2025-01-21T01:01:01.813+01:00  INFO 84520 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:01:01.864+01:00  INFO 84520 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:01:01.898+01:00  INFO 84520 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:01:02.211+01:00  INFO 84520 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:01:02.237+01:00  INFO 84520 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:01:02.432+01:00  INFO 84520 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:01:02.434+01:00  INFO 84520 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:01:02.458+01:00  WARN 84520 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:01:03.584+01:00  INFO 84520 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:01:03.600+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:01:03.605+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:01:03.606+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:01:03.606+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:01:03.607+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:01:03.607+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:01:03.608+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:01:03.609+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:01:03.609+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:01:03.610+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:01:03.611+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:01:03.616+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:01:03.626+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:01:03.628+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:01:03.630+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:01:03.632+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:01:03.633+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:01:03.635+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:01:03.638+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:01:03.641+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:01:03.642+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:01:03.645+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:01:03.647+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:01:03.662+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:01:03.664+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:01:03.666+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FK3a5o3hoxolyd6y7kq9jokhade foreign key (nSerie) references Manga
2025-01-21T01:01:03.669+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:01:03.671+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:01:03.673+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:01:03.675+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:01:03.678+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:01:03.680+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:01:03.682+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:01:03.684+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:01:03.692+01:00  INFO 84520 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:01:04.590+01:00  INFO 84520 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:01:04.656+01:00  INFO 84520 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:01:04.656+01:00  INFO 84520 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:01:04.657+01:00  INFO 84520 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-21T01:01:04.688+01:00  INFO 84520 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.446 seconds (process running for 6.452)
2025-01-21T01:01:05.426+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type from Classe c1_0
2025-01-21T01:01:05.450+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:01:05.453+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:01:05.486+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:01:05.517+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:01:05.531+01:00 DEBUG 84520 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:03:19.497+01:00  INFO 85584 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 85584 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:03:19.499+01:00  INFO 85584 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:03:20.470+01:00  INFO 85584 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:03:20.561+01:00  INFO 85584 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 11 JPA repository interfaces.
2025-01-21T01:03:21.084+01:00  INFO 85584 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:03:21.141+01:00  INFO 85584 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:03:21.176+01:00  INFO 85584 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:03:21.509+01:00  INFO 85584 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:03:21.538+01:00  INFO 85584 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:03:21.761+01:00  INFO 85584 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:03:21.763+01:00  INFO 85584 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:03:21.791+01:00  WARN 85584 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:03:22.989+01:00  INFO 85584 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:03:23.005+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:03:23.009+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:03:23.010+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:03:23.010+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:03:23.011+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:03:23.012+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:03:23.013+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:03:23.013+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:03:23.014+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:03:23.014+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:03:23.015+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:03:23.021+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:03:23.029+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:03:23.032+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:03:23.033+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:03:23.035+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:03:23.037+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:03:23.039+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:03:23.041+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:03:23.043+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:03:23.045+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:03:23.048+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:03:23.051+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:03:23.063+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:03:23.065+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:03:23.067+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:03:23.069+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:03:23.072+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:03:23.074+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:03:23.076+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:03:23.078+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:03:23.080+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:03:23.081+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:03:23.083+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:03:23.089+01:00  INFO 85584 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:03:23.962+01:00  INFO 85584 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:03:24.034+01:00  INFO 85584 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:03:24.034+01:00  INFO 85584 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:03:24.036+01:00  INFO 85584 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T01:03:24.067+01:00  INFO 85584 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.981 seconds (process running for 6.383)
2025-01-21T01:03:24.824+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:03:24.851+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:03:24.855+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:03:24.878+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:03:24.910+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:03:24.915+01:00 DEBUG 85584 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:04:01.358+01:00  INFO 85866 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 85866 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:04:01.359+01:00  INFO 85866 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:04:01.950+01:00  INFO 85866 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:04:02.032+01:00  INFO 85866 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 11 JPA repository interfaces.
2025-01-21T01:04:02.543+01:00  INFO 85866 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:04:02.591+01:00  INFO 85866 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:04:02.625+01:00  INFO 85866 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:04:02.930+01:00  INFO 85866 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:04:02.957+01:00  INFO 85866 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:04:03.167+01:00  INFO 85866 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:04:03.169+01:00  INFO 85866 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:04:03.197+01:00  WARN 85866 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:04:04.242+01:00  INFO 85866 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:04:04.255+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:04:04.259+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:04:04.259+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:04:04.260+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:04:04.260+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:04:04.261+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:04:04.261+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:04:04.262+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:04:04.263+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:04:04.263+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:04:04.264+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:04:04.268+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:04:04.277+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:04:04.279+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:04:04.281+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:04:04.282+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:04:04.283+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:04:04.285+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:04:04.288+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:04:04.290+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:04:04.292+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:04:04.297+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:04:04.300+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:04:04.313+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:04:04.315+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:04:04.317+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:04:04.319+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:04:04.322+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:04:04.324+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:04:04.326+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:04:04.329+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:04:04.331+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:04:04.333+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:04:04.335+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:04:04.341+01:00  INFO 85866 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:04:05.244+01:00  INFO 85866 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:04:05.315+01:00  INFO 85866 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:04:05.315+01:00  INFO 85866 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:04:05.319+01:00  INFO 85866 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-21T01:04:05.367+01:00  INFO 85866 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.376 seconds (process running for 5.503)
2025-01-21T01:04:06.140+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:04:06.168+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:04:06.172+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:04:06.194+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:04:06.224+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:04:06.230+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:04:06.347+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:04:06.352+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:04:06.627+01:00 DEBUG 85866 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-01-21T01:04:06.711+01:00  INFO 85866 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:04:06.712+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:04:06.715+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:04:06.717+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:04:06.719+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:04:06.722+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:04:06.723+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:04:06.724+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:04:06.727+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:04:06.728+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:04:06.729+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:04:06.730+01:00 DEBUG 85866 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:04:06.733+01:00  INFO 85866 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:04:06.736+01:00  INFO 85866 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:05:14.714+01:00  INFO 86152 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 86152 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:05:14.716+01:00  INFO 86152 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:05:15.495+01:00  INFO 86152 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:05:15.596+01:00  INFO 86152 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 11 JPA repository interfaces.
2025-01-21T01:05:16.116+01:00  INFO 86152 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:05:16.166+01:00  INFO 86152 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:05:16.208+01:00  INFO 86152 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:05:16.523+01:00  INFO 86152 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:05:16.550+01:00  INFO 86152 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:05:16.755+01:00  INFO 86152 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:05:16.757+01:00  INFO 86152 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:05:16.783+01:00  WARN 86152 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:05:17.831+01:00  INFO 86152 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:05:17.845+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:05:17.849+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:05:17.850+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:05:17.850+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:05:17.851+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:05:17.851+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:05:17.852+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:05:17.853+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:05:17.854+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:05:17.855+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:05:17.856+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:05:17.860+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:05:17.868+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:05:17.871+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:05:17.873+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:05:17.875+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:05:17.877+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:05:17.878+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:05:17.881+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:05:17.882+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:05:17.884+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:05:17.887+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:05:17.889+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:05:17.912+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:05:17.916+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:05:17.922+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:05:17.924+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:05:17.928+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:05:17.931+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:05:17.933+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:05:17.936+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:05:17.940+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:05:17.942+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:05:17.948+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:05:17.963+01:00  INFO 86152 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:05:18.929+01:00  INFO 86152 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:05:19.008+01:00  INFO 86152 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:05:19.008+01:00  INFO 86152 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:05:19.010+01:00  INFO 86152 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-21T01:05:19.040+01:00  INFO 86152 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.697 seconds (process running for 5.845)
2025-01-21T01:05:19.770+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:05:19.821+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:05:19.825+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:05:19.848+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:05:19.877+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:19.882+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:05:19.891+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:05:19.894+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:19.897+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:05:19.905+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:05:19.951+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:05:19.954+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:19.955+01:00 DEBUG 86152 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:05:20.094+01:00  INFO 86152 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:05:20.095+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:05:20.099+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:05:20.102+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:05:20.107+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:05:20.109+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:05:20.110+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:05:20.111+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:05:20.113+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:05:20.114+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:05:20.115+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:05:20.117+01:00 DEBUG 86152 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:05:20.120+01:00  INFO 86152 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:05:20.124+01:00  INFO 86152 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:05:44.476+01:00  INFO 86296 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 86296 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:05:44.478+01:00  INFO 86296 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:05:45.023+01:00  INFO 86296 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:05:45.102+01:00  INFO 86296 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 11 JPA repository interfaces.
2025-01-21T01:05:45.611+01:00  INFO 86296 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:05:45.656+01:00  INFO 86296 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:05:45.688+01:00  INFO 86296 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:05:45.970+01:00  INFO 86296 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:05:45.995+01:00  INFO 86296 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:05:46.164+01:00  INFO 86296 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:05:46.165+01:00  INFO 86296 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:05:46.186+01:00  WARN 86296 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:05:47.157+01:00  INFO 86296 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:05:47.172+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:05:47.177+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:05:47.177+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:05:47.178+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:05:47.178+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:05:47.179+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:05:47.180+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:05:47.180+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:05:47.181+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:05:47.181+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:05:47.182+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:05:47.187+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:05:47.196+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:05:47.198+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:05:47.200+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:05:47.202+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:05:47.204+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:05:47.206+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:05:47.208+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:05:47.210+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:05:47.211+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:05:47.214+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:05:47.216+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:05:47.229+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:05:47.231+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:05:47.233+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:05:47.234+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:05:47.237+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:05:47.239+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:05:47.241+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:05:47.244+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:05:47.246+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:05:47.248+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:05:47.251+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:05:47.258+01:00  INFO 86296 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:05:48.100+01:00  INFO 86296 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:05:48.163+01:00  INFO 86296 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:05:48.163+01:00  INFO 86296 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:05:48.165+01:00  INFO 86296 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-21T01:05:48.196+01:00  INFO 86296 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.138 seconds (process running for 5.396)
2025-01-21T01:05:48.882+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:05:48.908+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:05:48.911+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:05:48.931+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:05:48.958+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:48.963+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:05:48.970+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:05:48.974+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:48.977+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:05:48.986+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:05:49.080+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:05:49.082+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:05:49.083+01:00 DEBUG 86296 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:05:49.189+01:00  INFO 86296 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:05:49.190+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:05:49.193+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:05:49.194+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:05:49.197+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:05:49.198+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:05:49.199+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:05:49.201+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:05:49.202+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:05:49.203+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:05:49.205+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:05:49.207+01:00 DEBUG 86296 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:05:49.210+01:00  INFO 86296 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:05:49.212+01:00  INFO 86296 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:06:15.054+01:00  INFO 86431 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 86431 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:06:15.056+01:00  INFO 86431 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:06:15.691+01:00  INFO 86431 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:06:15.762+01:00  INFO 86431 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 11 JPA repository interfaces.
2025-01-21T01:06:16.223+01:00  INFO 86431 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:06:16.269+01:00  INFO 86431 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:06:16.304+01:00  INFO 86431 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:06:16.581+01:00  INFO 86431 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:06:16.604+01:00  INFO 86431 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:06:16.777+01:00  INFO 86431 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:06:16.779+01:00  INFO 86431 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:06:16.802+01:00  WARN 86431 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:06:17.782+01:00  INFO 86431 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:06:17.796+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:06:17.800+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:06:17.800+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:06:17.801+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:06:17.801+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:06:17.802+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:06:17.803+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:06:17.804+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:06:17.805+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:06:17.806+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:06:17.807+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:06:17.811+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:06:17.820+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:06:17.823+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:06:17.825+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:06:17.826+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:06:17.828+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:06:17.830+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:06:17.832+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:06:17.833+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:06:17.835+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:06:17.837+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:06:17.840+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:06:17.852+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:06:17.854+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:06:17.857+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:06:17.859+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:06:17.861+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:06:17.863+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:06:17.865+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:06:17.867+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:06:17.869+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:06:17.872+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:06:17.875+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:06:17.880+01:00  INFO 86431 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:06:18.742+01:00  INFO 86431 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:06:18.808+01:00  INFO 86431 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:06:18.808+01:00  INFO 86431 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:06:18.810+01:00  INFO 86431 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-21T01:06:18.845+01:00  INFO 86431 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.175 seconds (process running for 5.319)
2025-01-21T01:06:19.765+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:06:19.793+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:06:19.796+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:06:19.818+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:06:19.848+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:06:19.854+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:06:19.862+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:06:19.865+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:06:19.868+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:06:19.876+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:06:19.992+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:06:19.995+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:06:19.998+01:00 DEBUG 86431 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:06:20.102+01:00  INFO 86431 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:06:20.103+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:06:20.106+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:06:20.108+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:06:20.111+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:06:20.112+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:06:20.114+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:06:20.115+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:06:20.117+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:06:20.118+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:06:20.119+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:06:20.121+01:00 DEBUG 86431 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:06:20.126+01:00  INFO 86431 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:06:20.129+01:00  INFO 86431 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-21T01:07:38.039+01:00  INFO 86786 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 86786 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-21T01:07:38.041+01:00  INFO 86786 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-21T01:07:38.712+01:00  INFO 86786 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T01:07:38.782+01:00  INFO 86786 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 11 JPA repository interfaces.
2025-01-21T01:07:39.254+01:00  INFO 86786 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T01:07:39.309+01:00  INFO 86786 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-21T01:07:39.343+01:00  INFO 86786 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T01:07:39.641+01:00  INFO 86786 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T01:07:39.673+01:00  INFO 86786 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T01:07:39.865+01:00  INFO 86786 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-21T01:07:39.867+01:00  INFO 86786 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T01:07:39.890+01:00  WARN 86786 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T01:07:40.955+01:00  INFO 86786 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T01:07:40.968+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:07:40.973+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:07:40.973+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:07:40.974+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:07:40.974+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:07:40.975+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:07:40.975+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:07:40.976+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:07:40.977+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:07:40.977+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:07:40.978+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:07:40.982+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-21T01:07:40.990+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-21T01:07:40.993+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-21T01:07:40.994+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-21T01:07:40.996+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-21T01:07:40.997+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-21T01:07:40.999+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-21T01:07:41.000+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-21T01:07:41.002+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:07:41.004+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-21T01:07:41.007+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-21T01:07:41.009+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-21T01:07:41.021+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-21T01:07:41.023+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-21T01:07:41.025+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-21T01:07:41.027+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-21T01:07:41.029+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-21T01:07:41.031+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-21T01:07:41.032+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-21T01:07:41.035+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-21T01:07:41.037+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-21T01:07:41.039+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-21T01:07:41.041+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-21T01:07:41.046+01:00  INFO 86786 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:07:41.895+01:00  INFO 86786 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-21T01:07:41.970+01:00  INFO 86786 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-21T01:07:41.970+01:00  INFO 86786 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-21T01:07:41.973+01:00  INFO 86786 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-21T01:07:42.004+01:00  INFO 86786 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.279 seconds (process running for 5.424)
2025-01-21T01:07:42.699+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:07:42.727+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:07:42.729+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:07:42.750+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:07:42.784+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:42.790+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:07:42.798+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:42.801+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:42.805+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:07:42.812+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:07:42.856+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:07:42.858+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:42.859+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:07:42.963+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:07:42.964+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:42.965+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-21T01:07:42.973+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-01-21T01:07:42.977+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:07:42.980+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-01-21T01:07:42.984+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:07:42.986+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-01-21T01:07:42.989+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:07:42.993+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:42.994+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:07:42.996+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:42.998+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:07:43.016+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:43.019+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:43.023+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Classe where nSerie=? and type=?
2025-01-21T01:07:43.029+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:43.039+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-21T01:07:43.042+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-21T01:07:43.044+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Manga where nserie=?
2025-01-21T01:07:43.046+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-21T01:07:43.047+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Genre where type=?
2025-01-21T01:07:43.049+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-21T01:07:43.054+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-21T01:07:43.055+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-21T01:07:43.092+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-21T01:07:43.094+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-21T01:07:43.323+01:00 DEBUG 86786 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-01-21T01:07:43.387+01:00  INFO 86786 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T01:07:43.389+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-21T01:07:43.392+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-21T01:07:43.393+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-21T01:07:43.394+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-21T01:07:43.395+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-21T01:07:43.397+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-21T01:07:43.399+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-21T01:07:43.400+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-21T01:07:43.401+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-21T01:07:43.403+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-21T01:07:43.404+01:00 DEBUG 86786 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-21T01:07:43.407+01:00  INFO 86786 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T01:07:43.410+01:00  INFO 86786 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
