2025-01-22T14:26:55.604+01:00  INFO 18176 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Starting MangaControllerIntegrationTest using Java 21.0.5 with PID 18176 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:26:55.621+01:00  INFO 18176 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : The following 1 profile is active: "test"
2025-01-22T14:26:56.390+01:00  INFO 18176 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:26:56.499+01:00  INFO 18176 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 11 JPA repository interfaces.
2025-01-22T14:26:57.069+01:00  INFO 18176 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:26:57.126+01:00  INFO 18176 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:26:57.163+01:00  INFO 18176 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:26:57.489+01:00  INFO 18176 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:26:57.519+01:00  INFO 18176 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:26:57.744+01:00  INFO 18176 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:26:57.746+01:00  INFO 18176 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:26:57.773+01:00  WARN 18176 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:26:58.666+01:00  INFO 18176 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:26:58.679+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:26:58.683+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:26:58.683+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:26:58.684+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:26:58.684+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:26:58.685+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:26:58.686+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:26:58.686+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:26:58.687+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:26:58.688+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:26:58.689+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:26:58.694+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:26:58.702+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:26:58.704+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:26:58.706+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:26:58.707+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:26:58.709+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:26:58.710+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:26:58.712+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:26:58.715+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:26:58.717+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:26:58.721+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:26:58.723+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:26:58.737+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:26:58.740+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:26:58.742+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:26:58.744+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:26:58.747+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:26:58.750+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:26:58.752+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:26:58.756+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:26:58.759+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:26:58.762+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:26:58.765+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:26:58.771+01:00  INFO 18176 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:26:59.769+01:00  INFO 18176 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:26:59.866+01:00  INFO 18176 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:26:59.866+01:00  INFO 18176 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:26:59.869+01:00  INFO 18176 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:26:59.906+01:00  INFO 18176 --- [librairie-online] [main] c.e.l.c.MangaControllerIntegrationTest   : Started MangaControllerIntegrationTest in 4.693 seconds (process running for 5.716)
2025-01-22T14:27:00.613+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-22T14:27:00.739+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0 left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where m1_0.nserie=?
2025-01-22T14:27:00.744+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : select f1_0.nom,f1_0.ville from Fournisseur f1_0 where f1_0.nom=?
2025-01-22T14:27:00.755+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nom,m1_0.prenom,m1_0.nationalite,m1_0.sexe from Mangaka m1_0 where (m1_0.nom,m1_0.prenom) in ((?,?))
2025-01-22T14:27:00.764+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Fournisseur (ville,nom) values (?,?)
2025-01-22T14:27:00.769+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Mangaka (nationalite,sexe,nom,prenom) values (?,?,?,?)
2025-01-22T14:27:00.772+01:00 DEBUG 18176 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-22T14:27:00.883+01:00  INFO 18176 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:27:00.884+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:27:00.887+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:27:00.889+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:27:00.891+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:27:00.892+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:27:00.894+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:27:00.895+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:27:00.898+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:27:00.899+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:27:00.900+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:27:00.902+01:00 DEBUG 18176 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:27:00.906+01:00  INFO 18176 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:27:00.908+01:00  INFO 18176 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:28:09.572+01:00  INFO 18441 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 18441 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:28:09.575+01:00  INFO 18441 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:28:10.439+01:00  INFO 18441 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:28:10.553+01:00  INFO 18441 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 11 JPA repository interfaces.
2025-01-22T14:28:11.199+01:00  INFO 18441 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:28:11.262+01:00  INFO 18441 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:28:11.310+01:00  INFO 18441 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:28:11.655+01:00  INFO 18441 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:28:11.694+01:00  INFO 18441 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:28:11.954+01:00  INFO 18441 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:28:11.956+01:00  INFO 18441 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:28:11.989+01:00  WARN 18441 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:28:13.222+01:00  INFO 18441 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:28:13.237+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:28:13.242+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:28:13.242+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:28:13.242+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:28:13.243+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:28:13.244+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:28:13.244+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:28:13.245+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:28:13.246+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:28:13.247+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:28:13.248+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:28:13.254+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:28:13.263+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:28:13.266+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:28:13.269+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:28:13.271+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:28:13.273+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:28:13.275+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:28:13.277+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:28:13.280+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:28:13.282+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:28:13.286+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:28:13.288+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:28:13.303+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:28:13.305+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:28:13.307+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:28:13.309+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:28:13.311+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:28:13.314+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:28:13.316+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:28:13.319+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:28:13.322+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:28:13.324+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:28:13.327+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:28:13.334+01:00  INFO 18441 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:28:14.333+01:00  INFO 18441 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:28:14.409+01:00  INFO 18441 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:28:14.410+01:00  INFO 18441 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:28:14.412+01:00  INFO 18441 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:28:14.452+01:00  INFO 18441 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.331 seconds (process running for 7.324)
2025-01-22T14:28:15.318+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:28:15.351+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:28:15.354+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:28:15.382+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:28:22.274+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:28:50.814+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:28:50.818+01:00 DEBUG 18441 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:30:09.252+01:00  INFO 19194 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 19194 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:30:09.254+01:00  INFO 19194 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:30:10.154+01:00  INFO 19194 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:30:10.265+01:00  INFO 19194 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 11 JPA repository interfaces.
2025-01-22T14:30:11.025+01:00  INFO 19194 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:30:11.088+01:00  INFO 19194 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:30:11.129+01:00  INFO 19194 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:30:11.496+01:00  INFO 19194 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:30:11.526+01:00  INFO 19194 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:30:11.770+01:00  INFO 19194 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:30:11.773+01:00  INFO 19194 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:30:11.809+01:00  WARN 19194 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:30:13.260+01:00  INFO 19194 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:30:13.276+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:30:13.282+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:30:13.282+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:30:13.283+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:30:13.284+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:30:13.284+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:30:13.285+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:30:13.286+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:30:13.287+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:30:13.288+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:30:13.289+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:30:13.294+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:30:13.304+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:30:13.307+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:30:13.309+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:30:13.310+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:30:13.312+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:30:13.314+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:30:13.316+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:30:13.319+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:30:13.321+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:30:13.324+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:30:13.326+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:30:13.341+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:30:13.344+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:30:13.347+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:30:13.349+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:30:13.351+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:30:13.353+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:30:13.356+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:30:13.359+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:30:13.360+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:30:13.363+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:30:13.365+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:30:13.372+01:00  INFO 19194 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:30:14.473+01:00  INFO 19194 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:30:14.552+01:00  INFO 19194 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:30:14.552+01:00  INFO 19194 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:30:14.555+01:00  INFO 19194 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-22T14:30:14.596+01:00  INFO 19194 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.813 seconds (process running for 7.592)
2025-01-22T14:30:15.497+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:30:15.524+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:30:15.528+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:30:15.554+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:30:15.580+01:00 DEBUG 19194 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:31:23.537+01:00  INFO 19637 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 19637 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:31:23.539+01:00  INFO 19637 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:31:24.349+01:00  INFO 19637 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:31:24.474+01:00  INFO 19637 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 11 JPA repository interfaces.
2025-01-22T14:31:25.201+01:00  INFO 19637 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:31:25.262+01:00  INFO 19637 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:31:25.306+01:00  INFO 19637 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:31:25.693+01:00  INFO 19637 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:31:25.724+01:00  INFO 19637 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:31:25.959+01:00  INFO 19637 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:31:25.961+01:00  INFO 19637 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:31:25.991+01:00  WARN 19637 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:31:27.161+01:00  INFO 19637 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:31:27.179+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:31:27.184+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:31:27.185+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:31:27.185+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:31:27.186+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:31:27.187+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:31:27.188+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:31:27.188+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:31:27.189+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:31:27.190+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:31:27.191+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:31:27.197+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:31:27.207+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:31:27.210+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:31:27.214+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:31:27.217+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:31:27.219+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:31:27.222+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:31:27.224+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:31:27.226+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:31:27.229+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:31:27.233+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:31:27.236+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:31:27.249+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:31:27.252+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:31:27.254+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:31:27.256+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:31:27.258+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:31:27.260+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:31:27.262+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:31:27.265+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:31:27.267+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:31:27.270+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:31:27.272+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:31:27.277+01:00  INFO 19637 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:31:28.325+01:00  INFO 19637 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:31:28.405+01:00  INFO 19637 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:31:28.405+01:00  INFO 19637 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:31:28.407+01:00  INFO 19637 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-22T14:31:28.442+01:00  INFO 19637 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.363 seconds (process running for 7.131)
2025-01-22T14:31:29.243+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:31:29.269+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:31:29.273+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:31:29.300+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:32:14.339+01:00 DEBUG 19637 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:36:09.900+01:00  INFO 21563 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 21563 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:36:09.903+01:00  INFO 21563 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-22T14:36:10.962+01:00  INFO 21563 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:36:11.069+01:00  INFO 21563 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 11 JPA repository interfaces.
2025-01-22T14:36:11.737+01:00  INFO 21563 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:36:11.820+01:00  INFO 21563 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:36:11.881+01:00  INFO 21563 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:36:12.309+01:00  INFO 21563 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:36:12.342+01:00  INFO 21563 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:36:12.560+01:00  INFO 21563 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:36:12.563+01:00  INFO 21563 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:36:12.595+01:00  WARN 21563 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:36:13.011+01:00 ERROR 21563 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
2025-01-22T14:36:13.012+01:00  WARN 21563 --- [librairie-online] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
2025-01-22T14:36:13.012+01:00  INFO 21563 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:36:13.016+01:00  INFO 21563 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:36:13.030+01:00  INFO 21563 --- [librairie-online] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-22T14:36:13.050+01:00 ERROR 21563 --- [librairie-online] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.10.jar:6.1.10]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.10.jar:6.1.10]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.1.10.jar:6.1.10]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.1.10.jar:6.1.10]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163) ~[spring-test-6.1.10.jar:6.1.10]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.10.jar:6.1.10]
	... 92 common frames omitted
Caused by: org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.hibernate.mapping.Value.checkColumnDuplication(Value.java:196) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.MappingHelper.checkPropertyColumnDuplication(MappingHelper.java:251) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:939) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:694) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.RootClass.validate(RootClass.java:276) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:496) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:280) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.10.jar:6.1.10]
	... 96 common frames omitted

2025-01-22T14:36:13.065+01:00  WARN 21563 --- [librairie-online] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.librairie_online.controller.ClasseControllerIntegrationTest@4d0abb23]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2d2af12e testClass = com.example.librairie_online.controller.ClasseControllerIntegrationTest, locations = [], classes = [com.example.librairie_online.LibrairieOnlineApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@611587f7 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@181e731e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@17d88132, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3403e2ac, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@106cc338, org.springframework.boot.test.context.SpringBootTestAnnotation@5c1818b3], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163) ~[spring-test-6.1.10.jar:6.1.10]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.10.jar:6.1.10]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.10.jar:6.1.10]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.1.10.jar:6.1.10]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.1.10.jar:6.1.10]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463) ~[spring-boot-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.3.1.jar:3.3.1]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.1.10.jar:6.1.10]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.1.10.jar:6.1.10]
	... 72 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.10.jar:6.1.10]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.10.jar:6.1.10]
	... 92 common frames omitted
Caused by: org.hibernate.MappingException: Column 'nAdherent' is duplicated in mapping for entity 'com.example.librairie_online.entity.Loue' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
	at org.hibernate.mapping.Value.checkColumnDuplication(Value.java:196) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.MappingHelper.checkPropertyColumnDuplication(MappingHelper.java:251) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:939) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:694) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.mapping.RootClass.validate(RootClass.java:276) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:496) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:280) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.10.jar:6.1.10]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.10.jar:6.1.10]
	... 96 common frames omitted

2025-01-22T14:37:32.772+01:00  INFO 21864 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Starting ClasseControllerIntegrationTest using Java 21.0.5 with PID 21864 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:37:32.774+01:00  INFO 21864 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : The following 1 profile is active: "test"
2025-01-22T14:37:33.470+01:00  INFO 21864 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:37:33.553+01:00  INFO 21864 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 11 JPA repository interfaces.
2025-01-22T14:37:34.150+01:00  INFO 21864 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:37:34.203+01:00  INFO 21864 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:37:34.239+01:00  INFO 21864 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:37:34.554+01:00  INFO 21864 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:37:34.586+01:00  INFO 21864 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:37:34.786+01:00  INFO 21864 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:37:34.789+01:00  INFO 21864 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:37:34.816+01:00  WARN 21864 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:37:35.920+01:00  INFO 21864 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:37:35.937+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:37:35.942+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:37:35.942+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:37:35.942+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:37:35.943+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:37:35.944+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:37:35.944+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:37:35.945+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:37:35.946+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:37:35.946+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:37:35.947+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:37:35.954+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:37:35.963+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:37:35.965+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:37:35.967+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:37:35.969+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:37:35.971+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:37:35.973+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:37:35.975+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:37:35.976+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:37:35.978+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:37:35.982+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:37:35.984+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:37:36.000+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:37:36.002+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:37:36.004+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:37:36.007+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:37:36.009+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:37:36.010+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:37:36.012+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:37:36.015+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:37:36.017+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:37:36.019+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:37:36.022+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:37:36.028+01:00  INFO 21864 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:37:37.001+01:00  INFO 21864 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:37:37.086+01:00  INFO 21864 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:37:37.086+01:00  INFO 21864 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:37:37.090+01:00  INFO 21864 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-01-22T14:37:37.128+01:00  INFO 21864 --- [librairie-online] [main] c.e.l.c.ClasseControllerIntegrationTest  : Started ClasseControllerIntegrationTest in 4.779 seconds (process running for 5.927)
2025-01-22T14:37:37.854+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,c1_0.nserie from Classe c1_0
2025-01-22T14:37:37.895+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select m1_0.nserie,m1_0.date_parution,m1_0.nomFournisseur,m1_0.nomMangaka,m1_0.prenomMangaka,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Manga m1_0
2025-01-22T14:37:37.899+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0
2025-01-22T14:37:37.934+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Manga (date_parution,nomFournisseur,nomMangaka,prenomMangaka,nbExemplaire,nom,tome,nserie) values (?,?,?,?,?,?,?,default)
2025-01-22T14:37:37.965+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select g1_0.type from Genre g1_0 where g1_0.type=?
2025-01-22T14:37:37.973+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Genre (type) values (?)
2025-01-22T14:37:38.085+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nSerie,c1_0.type,g1_0.type,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome from Classe c1_0 left join Genre g1_0 on g1_0.type=c1_0.type left join Manga m1_0 on m1_0.nserie=c1_0.nserie left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka where (c1_0.nSerie,c1_0.type) in ((?,?))
2025-01-22T14:37:38.092+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Classe (nSerie,type) values (?,?)
2025-01-22T14:37:38.347+01:00 DEBUG 21864 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Classe c1_0
2025-01-22T14:37:38.416+01:00  INFO 21864 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:37:38.417+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:37:38.420+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:37:38.423+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:37:38.425+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:37:38.427+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:37:38.429+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:37:38.432+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:37:38.434+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:37:38.435+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:37:38.436+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:37:38.438+01:00 DEBUG 21864 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:37:38.442+01:00  INFO 21864 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:37:38.445+01:00  INFO 21864 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:39:47.380+01:00  INFO 22318 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 22318 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:39:47.382+01:00  INFO 22318 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:39:48.170+01:00  INFO 22318 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:39:48.275+01:00  INFO 22318 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 11 JPA repository interfaces.
2025-01-22T14:39:48.986+01:00  INFO 22318 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:39:49.055+01:00  INFO 22318 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:39:49.102+01:00  INFO 22318 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:39:49.502+01:00  INFO 22318 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:39:49.540+01:00  INFO 22318 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:39:49.794+01:00  INFO 22318 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:39:49.798+01:00  INFO 22318 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:39:49.832+01:00  WARN 22318 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:39:51.094+01:00  INFO 22318 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:39:51.110+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:39:51.114+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:39:51.115+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:39:51.115+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:39:51.116+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:39:51.116+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:39:51.117+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:39:51.118+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:39:51.119+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:39:51.120+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:39:51.121+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:39:51.126+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:39:51.136+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:39:51.139+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:39:51.141+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:39:51.143+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:39:51.145+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:39:51.147+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:39:51.149+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:39:51.150+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:39:51.153+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:39:51.155+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:39:51.157+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:39:51.170+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:39:51.173+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:39:51.175+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:39:51.178+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:39:51.181+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:39:51.183+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:39:51.186+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:39:51.188+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:39:51.190+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:39:51.192+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:39:51.193+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:39:51.204+01:00  INFO 22318 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:39:52.282+01:00  INFO 22318 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:39:52.379+01:00  INFO 22318 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:39:52.379+01:00  INFO 22318 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:39:52.382+01:00  INFO 22318 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:39:52.418+01:00  INFO 22318 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.502 seconds (process running for 7.245)
2025-01-22T14:39:53.263+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:39:53.298+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:39:53.301+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:39:53.328+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:39:58.156+01:00 DEBUG 22318 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:43:42.740+01:00  INFO 23982 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 23982 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:43:42.742+01:00  INFO 23982 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:43:43.513+01:00  INFO 23982 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:43:43.625+01:00  INFO 23982 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 11 JPA repository interfaces.
2025-01-22T14:43:44.391+01:00  INFO 23982 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:43:44.450+01:00  INFO 23982 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:43:44.490+01:00  INFO 23982 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:43:44.848+01:00  INFO 23982 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:43:44.887+01:00  INFO 23982 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:43:45.131+01:00  INFO 23982 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:43:45.134+01:00  INFO 23982 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:43:45.170+01:00  WARN 23982 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:43:46.443+01:00  INFO 23982 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:43:46.458+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:43:46.462+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:43:46.462+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:43:46.463+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:43:46.463+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:43:46.464+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:43:46.465+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:43:46.466+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:43:46.467+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:43:46.468+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:43:46.469+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:43:46.475+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:43:46.486+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:43:46.489+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:43:46.490+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:43:46.492+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:43:46.493+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:43:46.495+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:43:46.497+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:43:46.499+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:43:46.503+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:43:46.505+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:43:46.507+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:43:46.520+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:43:46.523+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:43:46.525+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:43:46.527+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:43:46.530+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:43:46.532+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:43:46.534+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:43:46.537+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:43:46.539+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:43:46.541+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:43:46.543+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:43:46.549+01:00  INFO 23982 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:43:47.627+01:00  INFO 23982 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:43:47.705+01:00  INFO 23982 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:43:47.706+01:00  INFO 23982 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:43:47.708+01:00  INFO 23982 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:43:47.748+01:00  INFO 23982 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.472 seconds (process running for 7.03)
2025-01-22T14:43:48.578+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:43:48.608+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:43:48.612+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:43:48.641+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:43:51.943+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:44:24.738+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:44:27.207+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:44:28.643+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:44:30.959+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:44:31.575+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:44:32.094+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T14:44:33.912+01:00 DEBUG 23982 --- [librairie-online] [main] org.hibernate.SQL                        : select count(*) from Loue l1_0
2025-01-22T14:44:34.013+01:00  INFO 23982 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:44:34.015+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:44:34.019+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:44:34.021+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:44:34.074+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:44:34.075+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:44:34.075+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:44:34.076+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:44:34.079+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:44:34.080+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:44:34.080+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:44:34.085+01:00 DEBUG 23982 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:44:34.114+01:00  INFO 23982 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:44:34.121+01:00  INFO 23982 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:47:09.291+01:00  INFO 24870 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 24870 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:47:09.293+01:00  INFO 24870 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:47:10.005+01:00  INFO 24870 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:47:10.104+01:00  INFO 24870 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 91 ms. Found 11 JPA repository interfaces.
2025-01-22T14:47:10.764+01:00  INFO 24870 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:47:10.829+01:00  INFO 24870 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:47:10.867+01:00  INFO 24870 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:47:11.187+01:00  INFO 24870 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:47:11.216+01:00  INFO 24870 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:47:11.437+01:00  INFO 24870 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:47:11.439+01:00  INFO 24870 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:47:11.474+01:00  WARN 24870 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:47:12.504+01:00  INFO 24870 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:47:12.521+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:47:12.525+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:47:12.525+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:47:12.526+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:47:12.526+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:47:12.527+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:47:12.528+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:47:12.529+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:47:12.530+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:47:12.531+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:47:12.532+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:47:12.537+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:47:12.546+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:47:12.548+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:47:12.550+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:47:12.551+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:47:12.553+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:47:12.554+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:47:12.556+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:47:12.558+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:47:12.560+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:47:12.563+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:47:12.565+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:47:12.578+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:47:12.580+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:47:12.583+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:47:12.585+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:47:12.586+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:47:12.588+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:47:12.590+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:47:12.593+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:47:12.595+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:47:12.597+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:47:12.599+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:47:12.604+01:00  INFO 24870 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:47:13.583+01:00  INFO 24870 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:47:13.654+01:00  INFO 24870 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:47:13.654+01:00  INFO 24870 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:47:13.656+01:00  INFO 24870 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-22T14:47:13.693+01:00  INFO 24870 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 4.85 seconds (process running for 6.157)
2025-01-22T14:47:14.488+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:47:14.515+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:47:14.519+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:47:14.543+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:47:14.567+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:47:14.571+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:47:14.623+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:47:14.635+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:47:14.642+01:00 DEBUG 24870 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:47:14.781+01:00  INFO 24870 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:47:14.782+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:47:14.787+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:47:14.789+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:47:14.791+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:47:14.793+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:47:14.795+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:47:14.799+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:47:14.801+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:47:14.802+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:47:14.804+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:47:14.805+01:00 DEBUG 24870 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:47:14.813+01:00  INFO 24870 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:47:14.818+01:00  INFO 24870 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:48:40.910+01:00  INFO 25171 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 25171 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:48:40.914+01:00  INFO 25171 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:48:41.812+01:00  INFO 25171 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:48:41.967+01:00  INFO 25171 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 142 ms. Found 11 JPA repository interfaces.
2025-01-22T14:48:42.630+01:00  INFO 25171 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:48:42.681+01:00  INFO 25171 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:48:42.713+01:00  INFO 25171 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:48:43.038+01:00  INFO 25171 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:48:43.064+01:00  INFO 25171 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:48:43.248+01:00  INFO 25171 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:48:43.255+01:00  INFO 25171 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:48:43.281+01:00  WARN 25171 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:48:44.206+01:00  INFO 25171 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:48:44.221+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:48:44.225+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:48:44.226+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:48:44.227+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:48:44.227+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:48:44.228+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:48:44.229+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:48:44.229+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:48:44.230+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:48:44.231+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:48:44.231+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:48:44.236+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:48:44.243+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:48:44.246+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:48:44.247+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:48:44.248+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:48:44.250+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:48:44.251+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:48:44.253+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:48:44.255+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:48:44.256+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:48:44.259+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:48:44.261+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:48:44.273+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:48:44.275+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:48:44.277+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:48:44.280+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:48:44.308+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:48:44.348+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:48:44.350+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:48:44.353+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:48:44.363+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:48:44.365+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:48:44.367+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:48:44.375+01:00  INFO 25171 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:48:45.324+01:00  INFO 25171 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:48:45.404+01:00  INFO 25171 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:48:45.404+01:00  INFO 25171 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:48:45.407+01:00  INFO 25171 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:48:45.447+01:00  INFO 25171 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.043 seconds (process running for 6.476)
2025-01-22T14:48:46.215+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:48:46.244+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:48:46.247+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:48:46.273+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:48:46.294+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:48:46.297+01:00 DEBUG 25171 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:48:46.326+01:00  WARN 25171 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2025-01-22T14:48:46.370+01:00  INFO 25171 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:48:46.371+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:48:46.375+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:48:46.378+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:48:46.382+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:48:46.383+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:48:46.385+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:48:46.387+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:48:46.388+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:48:46.389+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:48:46.391+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:48:46.393+01:00 DEBUG 25171 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:48:46.397+01:00  INFO 25171 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:48:46.400+01:00  INFO 25171 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:50:03.855+01:00  INFO 25461 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 25461 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:50:03.858+01:00  INFO 25461 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:50:04.761+01:00  INFO 25461 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:50:04.887+01:00  INFO 25461 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 11 JPA repository interfaces.
2025-01-22T14:50:05.587+01:00  INFO 25461 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:50:05.645+01:00  INFO 25461 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:50:05.683+01:00  INFO 25461 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:50:06.011+01:00  INFO 25461 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:50:06.037+01:00  INFO 25461 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:50:06.260+01:00  INFO 25461 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:50:06.262+01:00  INFO 25461 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:50:06.300+01:00  WARN 25461 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:50:07.548+01:00  INFO 25461 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:50:07.562+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:50:07.566+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:50:07.567+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:50:07.567+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:50:07.568+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:50:07.569+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:50:07.569+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:50:07.570+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:50:07.571+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:50:07.571+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:50:07.572+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:50:07.577+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:50:07.587+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:50:07.589+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:50:07.591+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:50:07.593+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:50:07.596+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:50:07.597+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:50:07.600+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:50:07.602+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:50:07.603+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:50:07.606+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:50:07.609+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:50:07.624+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:50:07.626+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:50:07.628+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:50:07.630+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:50:07.633+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:50:07.635+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:50:07.637+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:50:07.639+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:50:07.641+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:50:07.643+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:50:07.645+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:50:07.651+01:00  INFO 25461 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:50:08.700+01:00  INFO 25461 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:50:08.774+01:00  INFO 25461 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:50:08.774+01:00  INFO 25461 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:50:08.777+01:00  INFO 25461 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-22T14:50:08.811+01:00  INFO 25461 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.453 seconds (process running for 7.231)
2025-01-22T14:50:09.662+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:50:09.688+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:50:09.693+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:50:09.722+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:50:09.752+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:50:09.756+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:50:12.827+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:50:12.842+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:50:12.850+01:00 DEBUG 25461 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:52:37.831+01:00  INFO 25461 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:52:37.832+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:52:37.838+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:52:37.840+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:52:37.843+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:52:37.844+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:52:37.846+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:52:37.847+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:52:37.850+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:52:37.851+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:52:37.853+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:52:37.854+01:00 DEBUG 25461 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:52:37.861+01:00  INFO 25461 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:52:37.868+01:00  INFO 25461 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:53:26.284+01:00  INFO 26713 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 26713 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:53:26.287+01:00  INFO 26713 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:53:27.316+01:00  INFO 26713 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:53:27.423+01:00  INFO 26713 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 11 JPA repository interfaces.
2025-01-22T14:53:28.058+01:00  INFO 26713 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:53:28.117+01:00  INFO 26713 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:53:28.155+01:00  INFO 26713 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:53:28.494+01:00  INFO 26713 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:53:28.529+01:00  INFO 26713 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:53:28.745+01:00  INFO 26713 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:53:28.748+01:00  INFO 26713 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:53:28.773+01:00  WARN 26713 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:53:29.906+01:00  INFO 26713 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:53:29.921+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:53:29.926+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:53:29.926+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:53:29.927+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:53:29.928+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:53:29.929+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:53:29.930+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:53:29.931+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:53:29.931+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:53:29.932+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:53:29.932+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:53:29.937+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:53:29.946+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:53:29.950+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:53:29.951+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:53:29.953+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:53:29.954+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:53:29.956+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:53:29.958+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:53:29.959+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:53:29.962+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:53:29.966+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:53:29.969+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:53:29.983+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:53:29.985+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:53:29.987+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:53:29.989+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:53:29.991+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:53:29.993+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:53:29.995+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:53:29.998+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:53:30.000+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:53:30.002+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:53:30.004+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:53:30.009+01:00  INFO 26713 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:53:31.198+01:00  INFO 26713 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:53:31.270+01:00  INFO 26713 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:53:31.270+01:00  INFO 26713 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:53:31.273+01:00  INFO 26713 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-22T14:53:31.307+01:00  INFO 26713 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.629 seconds (process running for 7.705)
2025-01-22T14:53:32.147+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:53:32.179+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:53:32.183+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:53:32.208+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:53:32.238+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:53:32.242+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:53:34.399+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:53:34.414+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur from Anime a1_0 left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio where a1_0.nSerie=?
2025-01-22T14:53:34.424+01:00 DEBUG 26713 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0 where c1_0.nAdherent=?
2025-01-22T14:53:40.663+01:00  INFO 26713 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:53:40.666+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:53:40.673+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:53:40.676+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:53:40.680+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:53:40.681+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:53:40.683+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:53:40.684+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:53:40.686+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:53:40.690+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:53:40.691+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:53:40.693+01:00 DEBUG 26713 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:53:40.696+01:00  INFO 26713 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:53:40.701+01:00  INFO 26713 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:53:56.787+01:00  INFO 26874 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 26874 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:53:56.790+01:00  INFO 26874 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:53:57.585+01:00  INFO 26874 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:53:57.687+01:00  INFO 26874 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 91 ms. Found 11 JPA repository interfaces.
2025-01-22T14:53:58.387+01:00  INFO 26874 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:53:58.450+01:00  INFO 26874 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:53:58.492+01:00  INFO 26874 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:53:58.853+01:00  INFO 26874 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:53:58.892+01:00  INFO 26874 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:53:59.128+01:00  INFO 26874 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:53:59.131+01:00  INFO 26874 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:53:59.159+01:00  WARN 26874 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:54:00.315+01:00  INFO 26874 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:54:00.334+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:54:00.343+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:54:00.344+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:54:00.344+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:54:00.344+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:54:00.345+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:54:00.345+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:54:00.346+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:54:00.347+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:54:00.347+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:54:00.396+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:54:00.431+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:54:00.450+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:54:00.453+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:54:00.456+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:54:00.459+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:54:00.462+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:54:00.464+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:54:00.466+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:54:00.469+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:54:00.472+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:54:00.475+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:54:00.478+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:54:00.492+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:54:00.495+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:54:00.498+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:54:00.501+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:54:00.504+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:54:00.507+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:54:00.509+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:54:00.511+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:54:00.513+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:54:00.516+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:54:00.518+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:54:00.526+01:00  INFO 26874 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:54:01.596+01:00  INFO 26874 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:54:01.681+01:00  INFO 26874 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:54:01.681+01:00  INFO 26874 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:54:01.683+01:00  INFO 26874 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-22T14:54:01.718+01:00  INFO 26874 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.386 seconds (process running for 7.23)
2025-01-22T14:54:02.556+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:54:02.598+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:54:02.602+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:54:02.639+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:54:02.670+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:54:02.675+01:00 DEBUG 26874 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:54:02.712+01:00  WARN 26874 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2025-01-22T14:54:21.899+01:00  INFO 26874 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:54:21.900+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:54:21.906+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:54:21.910+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:54:21.912+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:54:21.915+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:54:21.918+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:54:21.919+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:54:21.922+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:54:21.923+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:54:21.926+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:54:21.928+01:00 DEBUG 26874 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:54:22.000+01:00  INFO 26874 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:54:22.015+01:00  INFO 26874 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:55:13.357+01:00  INFO 27226 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 27226 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:55:13.359+01:00  INFO 27226 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:55:14.145+01:00  INFO 27226 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:55:14.252+01:00  INFO 27226 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 11 JPA repository interfaces.
2025-01-22T14:55:14.930+01:00  INFO 27226 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:55:14.993+01:00  INFO 27226 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:55:15.036+01:00  INFO 27226 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:55:15.413+01:00  INFO 27226 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:55:15.453+01:00  INFO 27226 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:55:15.741+01:00  INFO 27226 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:55:15.743+01:00  INFO 27226 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:55:15.774+01:00  WARN 27226 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:55:16.978+01:00  INFO 27226 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:55:16.995+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:55:17.000+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:55:17.000+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:55:17.001+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:55:17.001+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:55:17.002+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:55:17.003+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:55:17.004+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:55:17.005+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:55:17.005+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:55:17.006+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:55:17.011+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:55:17.020+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:55:17.024+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:55:17.027+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:55:17.028+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:55:17.030+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:55:17.032+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:55:17.034+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:55:17.036+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:55:17.038+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:55:17.041+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:55:17.043+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:55:17.057+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:55:17.059+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:55:17.061+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:55:17.063+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:55:17.065+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:55:17.068+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:55:17.070+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:55:17.073+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:55:17.075+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:55:17.077+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:55:17.080+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:55:17.085+01:00  INFO 27226 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:55:18.151+01:00  INFO 27226 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:55:18.235+01:00  INFO 27226 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:55:18.235+01:00  INFO 27226 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:55:18.239+01:00  INFO 27226 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-01-22T14:55:18.280+01:00  INFO 27226 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.383 seconds (process running for 7.056)
2025-01-22T14:55:19.117+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:55:19.148+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:55:19.151+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:55:19.177+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:55:19.207+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:55:19.211+01:00 DEBUG 27226 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:55:19.259+01:00  WARN 27226 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2025-01-22T14:55:25.461+01:00  INFO 27226 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:55:25.463+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:55:25.469+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:55:25.473+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:55:25.475+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:55:25.477+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:55:25.478+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:55:25.480+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:55:25.481+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:55:25.483+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:55:25.486+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:55:25.488+01:00 DEBUG 27226 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:55:25.493+01:00  INFO 27226 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:55:25.500+01:00  INFO 27226 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T14:57:36.434+01:00  INFO 27729 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 27729 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:57:36.436+01:00  INFO 27729 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:57:37.241+01:00  INFO 27729 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:57:37.337+01:00  INFO 27729 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 11 JPA repository interfaces.
2025-01-22T14:57:38.055+01:00  INFO 27729 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:57:38.123+01:00  INFO 27729 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:57:38.162+01:00  INFO 27729 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:57:38.541+01:00  INFO 27729 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:57:38.579+01:00  INFO 27729 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:57:38.814+01:00  INFO 27729 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:57:38.816+01:00  INFO 27729 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:57:38.847+01:00  WARN 27729 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:57:40.009+01:00  INFO 27729 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:57:40.024+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:57:40.028+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:57:40.029+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:57:40.030+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:57:40.031+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:57:40.031+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:57:40.032+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:57:40.033+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:57:40.034+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:57:40.035+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:57:40.035+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:57:40.041+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:57:40.049+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:57:40.052+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:57:40.055+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:57:40.056+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:57:40.058+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:57:40.060+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:57:40.061+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:57:40.063+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:57:40.065+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:57:40.067+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:57:40.070+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:57:40.085+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:57:40.087+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:57:40.089+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:57:40.091+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:57:40.093+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:57:40.095+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:57:40.097+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:57:40.099+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:57:40.101+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:57:40.103+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:57:40.106+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:57:40.116+01:00  INFO 27729 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:57:41.179+01:00  INFO 27729 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:57:41.264+01:00  INFO 27729 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:57:41.264+01:00  INFO 27729 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:57:41.267+01:00  INFO 27729 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-01-22T14:57:41.306+01:00  INFO 27729 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.338 seconds (process running for 7.072)
2025-01-22T14:57:42.181+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:57:42.209+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:57:42.212+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:57:42.240+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:57:42.280+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:57:42.285+01:00 DEBUG 27729 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:58:23.281+01:00  INFO 28030 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 28030 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T14:58:23.285+01:00  INFO 28030 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T14:58:24.072+01:00  INFO 28030 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T14:58:24.186+01:00  INFO 28030 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 11 JPA repository interfaces.
2025-01-22T14:58:24.872+01:00  INFO 28030 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T14:58:24.938+01:00  INFO 28030 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T14:58:24.980+01:00  INFO 28030 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T14:58:25.360+01:00  INFO 28030 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T14:58:25.397+01:00  INFO 28030 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T14:58:25.687+01:00  INFO 28030 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T14:58:25.691+01:00  INFO 28030 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T14:58:25.727+01:00  WARN 28030 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T14:58:27.038+01:00  INFO 28030 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T14:58:27.054+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:58:27.058+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:58:27.059+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:58:27.059+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:58:27.060+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:58:27.061+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:58:27.062+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:58:27.062+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:58:27.063+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:58:27.063+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:58:27.064+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:58:27.071+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T14:58:27.081+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T14:58:27.085+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T14:58:27.087+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T14:58:27.089+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T14:58:27.090+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T14:58:27.092+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T14:58:27.094+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T14:58:27.096+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:58:27.098+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T14:58:27.103+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T14:58:27.105+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T14:58:27.118+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T14:58:27.120+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T14:58:27.123+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T14:58:27.125+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T14:58:27.127+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T14:58:27.129+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T14:58:27.132+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T14:58:27.135+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T14:58:27.137+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T14:58:27.139+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T14:58:27.141+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T14:58:27.146+01:00  INFO 28030 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:58:28.175+01:00  INFO 28030 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T14:58:28.255+01:00  INFO 28030 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T14:58:28.255+01:00  INFO 28030 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T14:58:28.257+01:00  INFO 28030 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T14:58:28.296+01:00  INFO 28030 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.482 seconds (process running for 7.313)
2025-01-22T14:58:29.141+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T14:58:29.167+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T14:58:29.171+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T14:58:29.198+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T14:58:29.225+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T14:58:29.229+01:00 DEBUG 28030 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T14:58:36.025+01:00  WARN 28030 --- [librairie-online] [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2025-01-22T14:58:37.602+01:00  INFO 28030 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T14:58:37.604+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T14:58:37.607+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T14:58:37.609+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T14:58:37.612+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T14:58:37.614+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T14:58:37.618+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T14:58:37.621+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T14:58:37.624+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T14:58:37.626+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T14:58:37.628+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T14:58:37.630+01:00 DEBUG 28030 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T14:58:37.635+01:00  INFO 28030 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T14:58:37.640+01:00  INFO 28030 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T15:03:27.040+01:00  INFO 29121 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 29121 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T15:03:27.041+01:00  INFO 29121 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T15:03:27.784+01:00  INFO 29121 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T15:03:27.867+01:00  INFO 29121 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 11 JPA repository interfaces.
2025-01-22T15:03:28.463+01:00  INFO 29121 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T15:03:28.529+01:00  INFO 29121 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T15:03:28.572+01:00  INFO 29121 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T15:03:28.931+01:00  INFO 29121 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T15:03:28.960+01:00  INFO 29121 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T15:03:29.187+01:00  INFO 29121 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T15:03:29.189+01:00  INFO 29121 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T15:03:29.219+01:00  WARN 29121 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T15:03:30.260+01:00  INFO 29121 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T15:03:30.278+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:03:30.282+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:03:30.283+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:03:30.284+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:03:30.284+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:03:30.285+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:03:30.286+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:03:30.286+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:03:30.287+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:03:30.287+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:03:30.288+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:03:30.293+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T15:03:30.302+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T15:03:30.304+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T15:03:30.305+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T15:03:30.307+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T15:03:30.309+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T15:03:30.311+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T15:03:30.313+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T15:03:30.315+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:03:30.317+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:03:30.320+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T15:03:30.322+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T15:03:30.335+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T15:03:30.337+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T15:03:30.338+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T15:03:30.340+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T15:03:30.342+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T15:03:30.344+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T15:03:30.346+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T15:03:30.348+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T15:03:30.351+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T15:03:30.353+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T15:03:30.354+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T15:03:30.359+01:00  INFO 29121 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:03:31.438+01:00  INFO 29121 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T15:03:31.526+01:00  INFO 29121 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T15:03:31.526+01:00  INFO 29121 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T15:03:31.529+01:00  INFO 29121 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-22T15:03:31.566+01:00  INFO 29121 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 4.966 seconds (process running for 6.212)
2025-01-22T15:03:32.334+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T15:03:32.369+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T15:03:32.373+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T15:03:32.404+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T15:03:32.431+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T15:03:32.434+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T15:03:32.553+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:03:32.562+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:03:32.569+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:03:32.578+01:00 DEBUG 29121 --- [librairie-online] [main] org.hibernate.SQL                        : update Loue set nSerie=?,nAdherent=?,dateDebut=?,dateFin=? where id=?
2025-01-22T15:03:32.671+01:00  INFO 29121 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:03:32.672+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:03:32.676+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:03:32.678+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:03:32.681+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:03:32.682+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:03:32.683+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:03:32.685+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:03:32.687+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:03:32.688+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:03:32.689+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:03:32.691+01:00 DEBUG 29121 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:03:32.694+01:00  INFO 29121 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T15:03:32.697+01:00  INFO 29121 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T15:05:49.308+01:00  INFO 29584 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 29584 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T15:05:49.311+01:00  INFO 29584 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T15:05:50.099+01:00  INFO 29584 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T15:05:50.238+01:00  INFO 29584 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 11 JPA repository interfaces.
2025-01-22T15:05:51.117+01:00  INFO 29584 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T15:05:51.180+01:00  INFO 29584 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T15:05:51.215+01:00  INFO 29584 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T15:05:51.528+01:00  INFO 29584 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T15:05:51.556+01:00  INFO 29584 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T15:05:51.784+01:00  INFO 29584 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T15:05:51.786+01:00  INFO 29584 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T15:05:51.815+01:00  WARN 29584 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T15:05:52.817+01:00  INFO 29584 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T15:05:52.832+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:05:52.836+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:05:52.836+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:05:52.837+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:05:52.837+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:05:52.838+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:05:52.838+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:05:52.839+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:05:52.840+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:05:52.840+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:05:52.841+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:05:52.846+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T15:05:52.854+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T15:05:52.857+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T15:05:52.859+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T15:05:52.861+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T15:05:52.862+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T15:05:52.864+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T15:05:52.867+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T15:05:52.869+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:05:52.872+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:05:52.877+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T15:05:52.878+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T15:05:52.890+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T15:05:52.893+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T15:05:52.895+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T15:05:52.897+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T15:05:52.899+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T15:05:52.901+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T15:05:52.902+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T15:05:52.905+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T15:05:52.907+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T15:05:52.910+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T15:05:52.912+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T15:05:52.918+01:00  INFO 29584 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:05:53.938+01:00  INFO 29584 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T15:05:54.024+01:00  INFO 29584 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T15:05:54.025+01:00  INFO 29584 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T15:05:54.028+01:00  INFO 29584 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T15:05:54.061+01:00  INFO 29584 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.246 seconds (process running for 6.566)
2025-01-22T15:05:55.092+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T15:05:55.128+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T15:05:55.131+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T15:05:55.156+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T15:05:55.186+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T15:05:55.189+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T15:05:55.267+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:05:55.279+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:05:55.289+01:00 DEBUG 29584 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Loue where id=?
2025-01-22T15:05:55.373+01:00  INFO 29584 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:05:55.375+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:05:55.379+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:05:55.381+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:05:55.383+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:05:55.385+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:05:55.386+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:05:55.387+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:05:55.389+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:05:55.392+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:05:55.394+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:05:55.396+01:00 DEBUG 29584 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:05:55.399+01:00  INFO 29584 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T15:05:55.403+01:00  INFO 29584 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T15:07:17.838+01:00  INFO 29890 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 29890 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T15:07:17.841+01:00  INFO 29890 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T15:07:18.675+01:00  INFO 29890 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T15:07:18.792+01:00  INFO 29890 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 11 JPA repository interfaces.
2025-01-22T15:07:19.480+01:00  INFO 29890 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T15:07:19.547+01:00  INFO 29890 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T15:07:19.592+01:00  INFO 29890 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T15:07:19.972+01:00  INFO 29890 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T15:07:20.011+01:00  INFO 29890 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T15:07:20.247+01:00  INFO 29890 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T15:07:20.250+01:00  INFO 29890 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T15:07:20.281+01:00  WARN 29890 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T15:07:21.518+01:00  INFO 29890 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T15:07:21.533+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:07:21.537+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:07:21.538+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:07:21.538+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:07:21.540+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:07:21.541+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:07:21.542+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:07:21.542+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:07:21.543+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:07:21.543+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:07:21.544+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:07:21.549+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T15:07:21.558+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T15:07:21.562+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T15:07:21.564+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T15:07:21.566+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T15:07:21.568+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T15:07:21.570+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T15:07:21.572+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T15:07:21.575+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:07:21.577+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:07:21.581+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T15:07:21.583+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T15:07:21.596+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T15:07:21.599+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T15:07:21.601+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T15:07:21.603+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T15:07:21.605+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T15:07:21.608+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T15:07:21.610+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T15:07:21.613+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T15:07:21.615+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T15:07:21.617+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T15:07:21.619+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T15:07:21.627+01:00  INFO 29890 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:07:22.696+01:00  INFO 29890 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T15:07:22.787+01:00  INFO 29890 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T15:07:22.787+01:00  INFO 29890 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T15:07:22.789+01:00  INFO 29890 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-01-22T15:07:22.830+01:00  INFO 29890 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.43 seconds (process running for 7.708)
2025-01-22T15:07:23.678+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T15:07:23.708+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T15:07:23.711+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T15:07:23.740+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T15:07:23.767+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T15:07:23.771+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T15:07:23.851+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:07:23.865+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:07:23.879+01:00 DEBUG 29890 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Loue where id=?
2025-01-22T15:07:47.895+01:00  INFO 29890 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:07:47.896+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:07:47.900+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:07:47.902+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:07:47.904+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:07:47.906+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:07:47.908+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:07:47.910+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:07:47.913+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:07:47.916+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:07:47.918+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:07:47.919+01:00 DEBUG 29890 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:07:47.926+01:00  INFO 29890 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T15:07:47.929+01:00  INFO 29890 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T15:08:39.304+01:00  INFO 30292 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Starting LoueControllerIntegrationTest using Java 21.0.5 with PID 30292 (started by cedinacoelho in /Users/cedinacoelho/Documents/src/librairie-online-Spring)
2025-01-22T15:08:39.308+01:00  INFO 30292 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : The following 1 profile is active: "test"
2025-01-22T15:08:40.063+01:00  INFO 30292 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T15:08:40.149+01:00  INFO 30292 --- [librairie-online] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 11 JPA repository interfaces.
2025-01-22T15:08:40.747+01:00  INFO 30292 --- [librairie-online] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T15:08:40.806+01:00  INFO 30292 --- [librairie-online] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-22T15:08:40.854+01:00  INFO 30292 --- [librairie-online] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T15:08:41.234+01:00  INFO 30292 --- [librairie-online] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T15:08:41.265+01:00  INFO 30292 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T15:08:41.494+01:00  INFO 30292 --- [librairie-online] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-22T15:08:41.495+01:00  INFO 30292 --- [librairie-online] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T15:08:41.525+01:00  WARN 30292 --- [librairie-online] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-22T15:08:42.760+01:00  INFO 30292 --- [librairie-online] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T15:08:42.778+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:08:42.783+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:08:42.783+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:08:42.784+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:08:42.785+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:08:42.786+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:08:42.786+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:08:42.787+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:08:42.788+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:08:42.790+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:08:42.791+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:08:42.797+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Anime (date integer not null, nSerie integer generated by default as identity, nSerieM integer, nom varchar(255), nomStudio varchar(255), primary key (nSerie))
2025-01-22T15:08:42.806+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Classe (nSerie integer not null, type varchar(255) not null, primary key (nSerie, type))
2025-01-22T15:08:42.809+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Client (age integer not null, date_adhesion date, date_naissance date, nAdherent integer generated by default as identity, nom varchar(255), prenom varchar(255), sexe varchar(255), primary key (nAdherent))
2025-01-22T15:08:42.811+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Fournisseur (nom varchar(255) not null, ville varchar(255), primary key (nom))
2025-01-22T15:08:42.812+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Genre (type varchar(255) not null, primary key (type))
2025-01-22T15:08:42.814+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Loue (dateDebut date, dateFin date, id integer generated by default as identity, nAdherent integer, nSerie integer, primary key (id))
2025-01-22T15:08:42.817+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Manga (date_parution integer not null, nbExemplaire integer not null, nserie integer generated by default as identity, tome integer not null, nom varchar(255), nomFournisseur varchar(255), nomMangaka varchar(255), prenomMangaka varchar(255), primary key (nserie))
2025-01-22T15:08:42.819+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Mangaka (nationalite varchar(255), nom varchar(255) not null, prenom varchar(255) not null, sexe varchar(255), primary key (nom, prenom))
2025-01-22T15:08:42.822+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteA (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:08:42.825+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table NoteM (date date, nSerie integer not null, nadherent integer not null, valeur float(53) not null, primary key (nSerie, nadherent))
2025-01-22T15:08:42.828+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : create table Studio (nom varchar(255) not null, nomDirecteur varchar(255), pays varchar(255), prenomDirecteur varchar(255), primary key (nom))
2025-01-22T15:08:42.831+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FKiagcnb38yakykw03xitnyt3wl foreign key (nSerieM) references Manga
2025-01-22T15:08:42.845+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Anime add constraint FK6eecm0a8wmfpqoij85crf3m0w foreign key (nomStudio) references Studio
2025-01-22T15:08:42.848+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKmndai52ydfxv4egnm62drgpcs foreign key (type) references Genre
2025-01-22T15:08:42.849+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Classe add constraint FKpc3r5vfpoakf7vrwe8on06ux3 foreign key (nserie) references Manga
2025-01-22T15:08:42.852+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FKk9fmioh8om4kdauf119myfy88 foreign key (nSerie) references Anime
2025-01-22T15:08:42.854+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Loue add constraint FK7uxy40ng4oydutr0xg99abf8n foreign key (nAdherent) references Client
2025-01-22T15:08:42.858+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FK6jv3kix0ie77vrix41q74e9dp foreign key (nomFournisseur) references Fournisseur
2025-01-22T15:08:42.859+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists Manga add constraint FKoxc656tng6cku1kgsbq5t1ifb foreign key (nomMangaka, prenomMangaka) references Mangaka
2025-01-22T15:08:42.863+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4se4t04m3xv4jvhufc8nhdfnx foreign key (nSerie) references Anime
2025-01-22T15:08:42.865+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteA add constraint FK4od391ruf1aqd8e0cqkw04ic5 foreign key (nadherent) references Client
2025-01-22T15:08:42.867+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FK3eoqdbnmssmi133k9fdsko3d3 foreign key (nadherent) references Client
2025-01-22T15:08:42.870+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : alter table if exists NoteM add constraint FKqy62n647qukdbu57egrbuerj6 foreign key (nSerie) references Manga
2025-01-22T15:08:42.878+01:00  INFO 30292 --- [librairie-online] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:08:44.121+01:00  INFO 30292 --- [librairie-online] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-22T15:08:44.203+01:00  INFO 30292 --- [librairie-online] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-01-22T15:08:44.203+01:00  INFO 30292 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-01-22T15:08:44.206+01:00  INFO 30292 --- [librairie-online] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-01-22T15:08:44.246+01:00  INFO 30292 --- [librairie-online] [main] c.e.l.c.LoueControllerIntegrationTest    : Started LoueControllerIntegrationTest in 5.427 seconds (process running for 6.84)
2025-01-22T15:08:45.260+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,l1_0.nSerie,l1_0.nAdherent,l1_0.dateDebut,l1_0.dateFin from Loue l1_0
2025-01-22T15:08:45.291+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe from Client c1_0
2025-01-22T15:08:45.294+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select a1_0.nSerie,a1_0.date,a1_0.nSerieM,a1_0.nom,a1_0.nomStudio from Anime a1_0
2025-01-22T15:08:45.320+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Client (age,date_adhesion,date_naissance,nom,prenom,sexe,nAdherent) values (?,?,?,?,?,?,default)
2025-01-22T15:08:45.349+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Anime (date,nSerieM,nom,nomStudio,nSerie) values (?,?,?,?,default)
2025-01-22T15:08:45.354+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : insert into Loue (nSerie,nAdherent,dateDebut,dateFin,id) values (?,?,?,?,default)
2025-01-22T15:08:45.431+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:08:45.446+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:08:45.459+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : delete from Loue where id=?
2025-01-22T15:08:45.493+01:00 DEBUG 30292 --- [librairie-online] [main] org.hibernate.SQL                        : select l1_0.id,a1_0.nSerie,a1_0.date,m1_0.nserie,m1_0.date_parution,f1_0.nom,f1_0.ville,m2_0.nom,m2_0.prenom,m2_0.nationalite,m2_0.sexe,m1_0.nbExemplaire,m1_0.nom,m1_0.tome,a1_0.nom,s1_0.nom,s1_0.nomDirecteur,s1_0.pays,s1_0.prenomDirecteur,c1_0.nAdherent,c1_0.age,c1_0.date_adhesion,c1_0.date_naissance,c1_0.nom,c1_0.prenom,c1_0.sexe,l1_0.dateDebut,l1_0.dateFin from Loue l1_0 left join Anime a1_0 on a1_0.nSerie=l1_0.nSerie left join Manga m1_0 on m1_0.nserie=a1_0.nSerieM left join Fournisseur f1_0 on f1_0.nom=m1_0.nomFournisseur left join Mangaka m2_0 on m2_0.nom=m1_0.nomMangaka and m2_0.prenom=m1_0.prenomMangaka left join Studio s1_0 on s1_0.nom=a1_0.nomStudio left join Client c1_0 on c1_0.nAdherent=l1_0.nAdherent where l1_0.id=?
2025-01-22T15:08:45.548+01:00  INFO 30292 --- [librairie-online] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T15:08:45.549+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Anime cascade 
2025-01-22T15:08:45.553+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Classe cascade 
2025-01-22T15:08:45.557+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Client cascade 
2025-01-22T15:08:45.560+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Fournisseur cascade 
2025-01-22T15:08:45.561+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Genre cascade 
2025-01-22T15:08:45.563+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Loue cascade 
2025-01-22T15:08:45.566+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Manga cascade 
2025-01-22T15:08:45.568+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Mangaka cascade 
2025-01-22T15:08:45.570+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteA cascade 
2025-01-22T15:08:45.573+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists NoteM cascade 
2025-01-22T15:08:45.574+01:00 DEBUG 30292 --- [librairie-online] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists Studio cascade 
2025-01-22T15:08:45.578+01:00  INFO 30292 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T15:08:45.582+01:00  INFO 30292 --- [librairie-online] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
